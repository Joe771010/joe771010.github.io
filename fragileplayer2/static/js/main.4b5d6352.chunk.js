(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t){e.exports="data:image/png;base64,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"},167:function(e,t,n){e.exports=n(392)},172:function(e,t,n){},392:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(30),i=n.n(r),s=(n(172),n(5)),l=n(6),c=n(8),u=n(7),p=n(9),d=n(16),g=n(26),h=n(90),y=n(22),m=n(28),E=n.n(m),v=(n(182),n(98),n(141)),A=n.n(v),f=n(55),b=n.n(f),S=n(56),C=n.n(S),_=n(35),O=n.n(_),I=n(15),P=n.n(I),N=n(3),D=n.n(N),T=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=void 0===this.props.currentRoom?"Enter Room":"Leave "+this.props.currentRoom,n=void 0!==this.props.currentRoom;return a.a.createElement(b.a,null,a.a.createElement(D.a,{container:!0,spacing:0},a.a.createElement(D.a,{item:!0,xs:4},a.a.createElement(C.a,{className:e.select,fullWidth:!0,disabled:n,value:void 0===this.props.currentPlaylist?"":this.props.currentPlaylist,onChange:this.props.event_onPlaylistChange},this.props.playlists.map(function(t,n){return a.a.createElement(O.a,{className:e.menuItem,value:t,key:n},t)}))),a.a.createElement(D.a,{item:!0,xs:2},a.a.createElement(P.a,{disabled:n,fullWidth:!0,color:"secondary",onClick:this.props.event_onNewPlaylistClick},"New")),a.a.createElement(D.a,{item:!0,xs:2},a.a.createElement(P.a,{disabled:n,fullWidth:!0,color:"primary",onClick:this.props.event_onDeletePlaylistClick},"Delete")),a.a.createElement(D.a,{item:!0,xs:4},a.a.createElement(P.a,{className:e.roomButton,fullWidth:!0,onClick:this.props.event_onEnterLeaveRoomClick},t))))}}]),t}(o.Component),R=Object(d.withStyles)(function(e){return{select:{fontFamily:"Verdana"},menuItem:{fontFamily:"Verdana"},roomButton:{textTransform:"none"}}})(T),k=n(31),j=n.n(k),M=n(32),B=n.n(M),Q=n(25),L=n.n(Q),w=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.displayNewPlaylistDialog,n=this.props.classes;return a.a.createElement(j.a,{open:t,modal:"true",onClose:function(){return e.props.event_onNewPlaylistDialogClose(!1)}},a.a.createElement(B.a,null,a.a.createElement(L.a,{autoFocus:!0,className:n.input,placeholder:"Enter playlist name ...",onChange:this.props.event_onNewPlaylistInputChange,value:this.props.newPlaylist}),a.a.createElement(P.a,{disabled:""===this.props.newPlaylist.trim(),color:"secondary",onClick:function(){return e.props.event_onNewPlaylistDialogClose(!0)}},"OK"),a.a.createElement(P.a,{color:"primary",onClick:function(){return e.props.event_onNewPlaylistDialogClose(!1)}},"Cancel")))}}]),t}(o.Component),G=Object(d.withStyles)(function(e){return{input:{fontFamily:"Verdana"}}})(w),x=n(73),U=n.n(x),Y=n(72),Z=n.n(Y),K=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(j.a,{open:this.props.displayDeletePlaylistDialog,modal:"true",onClose:function(){return e.props.event_onDeletePlaylistDialogClose(!1)}},a.a.createElement(B.a,null,a.a.createElement(Z.a,null,"Delete this playlist ?")),a.a.createElement(U.a,null,a.a.createElement(P.a,{color:"secondary",onClick:function(){return e.props.event_onDeletePlaylistDialogClose(!0)}},"OK"),a.a.createElement(P.a,{color:"primary",onClick:function(){return e.props.event_onDeletePlaylistDialogClose(!1)}},"Cancel")))}}]),t}(o.Component),F=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.displayEnterRoomDialog,n=this.props.classes;return a.a.createElement(j.a,{open:t,modal:"true",onClose:function(){return e.props.event_onEnterRoomDialogClose(!1)}},a.a.createElement(B.a,null,a.a.createElement(L.a,{autoFocus:!0,className:n.input,placeholder:"Enter room name ...",onChange:this.props.event_onEnterRoomInputChange,value:this.props.enterRoomName}),a.a.createElement(P.a,{disabled:""===this.props.enterRoomName.trim(),color:"secondary",onClick:function(){return e.props.event_onEnterRoomDialogClose(!0)}},"OK"),a.a.createElement(P.a,{color:"primary",onClick:function(){return e.props.event_onEnterRoomDialogClose(!1)}},"Cancel")))}}]),t}(o.Component),W=Object(d.withStyles)(function(e){return{input:{fontFamily:"Verdana"}}})(F),H=function(e){return{type:"REFRESH_PLAYLISTS",playlists:e}},J=function(e,t){return{type:"PLAY_SONG_FROM_PLAYLIST",song:e,index:t}},V=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"event_onPlaylistChange",value:function(e){var t=this,n=e.target.value;this.firebaseRef=E.a.database().ref("users/"+this.props.loginAccount+"/playlists/"+n);var o=[];this.firebaseRef.once("value",function(e){e.forEach(function(e){o.push({videoId:e.val().video_id,title:e.val().title,artist:e.val().artist})}),t.props.changePlaylist(n,o)})}},{key:"event_onEnterRoomSucceed",value:function(){var e=this;this.firebaseRef=E.a.database().ref("rooms/"+this.props.enterRoomName),this.firebaseRef.once("value",function(t){var n=[];t.forEach(function(e){n.push({videoId:e.val().video_id,title:e.val().title,artist:e.val().artist,owner:e.val().owner})}),e.props.changePlaylist("",n)}),this.intervalId=setInterval(function(){e.firebaseRef.once("value",function(t){var n=[];t.forEach(function(e){n.push({videoId:e.val().video_id,title:e.val().title,artist:e.val().artist,owner:e.val().owner})}),e.props.changePlaylist("",n)})},3e4)}},{key:"event_onLeaveRoom",value:function(){clearInterval(this.intervalId),this.props.event_onLeaveRoomClick()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(R,{currentPlaylist:this.props.currentPlaylist,playlists:this.props.playlists,currentRoom:this.props.currentRoom,event_onPlaylistChange:function(t){return e.event_onPlaylistChange(t)},event_onNewPlaylistClick:this.props.event_onNewPlaylistClick,event_onDeletePlaylistClick:this.props.event_onDeletePlaylistClick,event_onEnterLeaveRoomClick:function(){void 0===e.props.currentRoom?e.props.event_onEnterRoomClick():e.event_onLeaveRoom()}}),a.a.createElement(G,{newPlaylist:this.props.newPlaylist,displayNewPlaylistDialog:this.props.displayNewPlaylistDialog,event_onNewPlaylistDialogClose:function(t){return e.props.event_onNewPlaylistDialogClose(t)},event_onNewPlaylistInputChange:this.props.event_onNewPlaylistInputChange}),a.a.createElement(K,{displayDeletePlaylistDialog:this.props.displayDeletePlaylistDialog,event_onDeletePlaylistDialogClose:function(t){t&&e.props.event_onDeletePlaylist(),e.props.event_onDeletePlaylistDialogClose(t)}}),a.a.createElement(W,{enterRoomName:this.props.enterRoomName,displayEnterRoomDialog:this.props.displayEnterRoomDialog,event_onEnterRoomDialogClose:function(t){e.props.event_onEnterRoomDialogClose(t),t&&e.event_onEnterRoomSucceed()},event_onEnterRoomInputChange:this.props.event_onEnterRoomInputChange}))}}]),t}(o.Component),z=Object(y.b)(function(e){return{loginAccount:e.accountReducer.loginAccount,playlistSongs:e.playlistReducer.playlistSongs,currentPlaylist:e.playlistReducer.currentPlaylist,playlists:e.playlistReducer.playlists,newPlaylist:e.playlistReducer.newPlaylist,enterRoomName:e.playlistReducer.enterRoomName,currentRoom:e.playlistReducer.currentRoom,displayNewPlaylistDialog:e.playlistReducer.displayNewPlaylistDialog,displayDeletePlaylistDialog:e.playlistReducer.displayDeletePlaylistDialog,displayEnterRoomDialog:e.playlistReducer.displayEnterRoomDialog}},function(e){return{event_onNewPlaylistClick:function(){e({type:"NEW_PLAYLIST_OPEN"})},event_onNewPlaylistInputChange:function(t){e({type:"NEW_PLAYLIST_INPUT_CHANGE",name:t.target.value})},event_onNewPlaylistDialogClose:function(t){e({type:"NEW_PLAYLIST_DIALOG_CLOSE",success:t})},event_onDeletePlaylistClick:function(){e({type:"DELETE_PLAYLIST_DIALOG_OPEN"})},event_onDeletePlaylistDialogClose:function(t){e(function(e){return{type:"DELETE_PLAYLIST_DIALOG_CLOSE",ok:e}}(t))},event_onEnterRoomClick:function(){e({type:"ENTER_ROOM_OPEN"})},event_onLeaveRoomClick:function(){e({type:"LEAVE_ROOM"})},event_onEnterRoomDialogClose:function(t){e(function(e){return{type:"ENTER_ROOM_DIALOG_CLOSE",ok:e}}(t))},event_onEnterRoomInputChange:function(t){e({type:"ENTER_ROOM_INPUT_CHANGE",name:t.target.value})},refreshPlaylists:function(t){e(H(t))},changePlaylist:function(t,n){e(function(e,t){return{type:"PLAYLIST_CHANGE",playlist:e,songs:t}}(t,n))}}})(V),X=n(57),q=n.n(X),$=n(58),ee=n.n($),te=n(74),ne=n.n(te),oe=n(89),ae=n.n(oe),re=n(23),ie=n.n(re),se=n(88),le=n.n(se),ce=n(36),ue=n.n(ce),pe=n(143),de=n.n(pe),ge=n(144),he=n.n(ge),ye=n(145),me=n.n(ye),Ee=n(49),ve=n.n(Ee),Ae=n(142),fe=n.n(Ae),be=function(e){return{list:{height:"635px",overflow:"auto"},text:{fontFamily:"Verdana"},iconSmall:{fontSize:"12px"},iconLarge:{fontSize:"18px"},autoRefresh:{padding:"0 10px 0 0",fontStyle:"italic",color:"#607D8B"},textOwner:{fontFamily:"Verdana",fontStyle:"italic",color:"#1A237E",padding:"0 0 0 10px"},background:{backgroundImage:"url("+fe.a+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",overflow:"hidden"}}},Se=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement(ie.a,{className:t.background},a.a.createElement(q.a,{className:t.list},this.props.playlistSongs.map(function(n,o){return a.a.createElement(ee.a,{key:o,selected:e.props.currentSongIndex===o,dense:!0,divider:!0,onDoubleClick:function(){return e.props.event_onDoubleClick(n,o)}},a.a.createElement(ne.a,{className:t.text,disableTypography:!0,primary:n.title+" - "+n.artist}),a.a.createElement(ue.a,{onClick:function(t){return e.props.event_onToolMenuClick(t,o)}},a.a.createElement(de.a,{className:t.iconSmall,color:"primary"})),a.a.createElement(le.a,{open:Boolean(e.props.toolMenuAnchor),anchorEl:e.props.toolMenuAnchor,onClose:e.props.event_onToolMenuClose},a.a.createElement(ae.a,null,a.a.createElement(O.a,null,a.a.createElement(he.a,{className:t.iconLarge,onClick:e.props.event_onMoveUp})),a.a.createElement(O.a,null,a.a.createElement(me.a,{className:t.iconLarge,onClick:e.props.event_onMoveDown})),a.a.createElement(O.a,null,a.a.createElement(ve.a,{className:t.iconLarge,color:"secondary",onClick:e.props.event_onDelete})))))})))}}]),t}(o.Component),Ce=Object(d.withStyles)(be)(Se),_e=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(Ce,{playlistSongs:this.props.playlistSongs,currentSongIndex:this.props.currentSongIndex,event_onDoubleClick:this.props.event_onDoubleClick,event_onToolMenuClick:this.props.event_onToolMenuClick,event_onToolMenuClose:this.props.event_onToolMenuClose,toolMenuAnchor:this.props.toolMenuAnchor,event_onMoveUp:function(){e.props.event_onPlaylistSongMove("MOVE_UP"),e.props.event_onMoveUp()},event_onMoveDown:function(){e.props.event_onPlaylistSongMove("MOVE_DOWN"),e.props.event_onMoveDown()},event_onDelete:function(){e.props.event_onPlaylistSongMove("DELETE"),e.props.event_onDelete()}}))}}]),t}(o.Component),Oe=Object(y.b)(function(e){return{loginAccount:e.accountReducer.loginAccount,playlistSongs:e.playlistReducer.playlistSongs,toolMenuAnchor:e.playlistReducer.toolMenuAnchor,currentSongIndex:e.playlistReducer.currentSongIndex}},function(e){return{event_onDoubleClick:function(t,n){e(J(t,n))},event_onToolMenuClick:function(t,n){e(function(e,t){return{type:"PLAYLIST_TOOL_MENU_OPEN",anchor:e,index:t}}(t.target,n))},event_onToolMenuClose:function(){e({type:"PLAYLIST_TOOL_MENU_CLOSE"})},event_onMoveUp:function(){e({type:"PLAYLIST_SONG_MOVE_UP"})},event_onMoveDown:function(){e({type:"PLAYLIST_SONG_MOVE_DOWN"})},event_onDelete:function(){e({type:"PLAYLIST_SONG_DELETE"})}}})(_e),Ie=n(91),Pe=n.n(Ie),Ne=n(150),De=n.n(Ne),Te=n(151),Re=n.n(Te),ke=n(148),je=n.n(ke),Me=n(147),Be=n.n(Me),Qe=n(149),Le=n.n(Qe),we=n(146),Ge=n.n(we),xe=function(e){return{slider:{padding:"10px 3px"},icon:{fontSize:"small"},select:{fontFamily:"Microsoft JhengHei"},menuItem:{fontFamily:"Microsoft JhengHei"},info:{fontFamily:"Microsoft JhengHei",padding:"10px 0 5px 0"}}},Ue=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=0===this.props.youtubeState?a.a.createElement(Ge.a,null):1===this.props.youtubeState?a.a.createElement(Be.a,null):a.a.createElement(je.a,null);return a.a.createElement(D.a,{container:!0,spacing:0},a.a.createElement(D.a,{item:!0,xs:12},a.a.createElement("div",{align:"center",className:e.info},this.props.song.title," - ",this.props.song.artist)),a.a.createElement(D.a,{item:!0,xs:12,container:!0,justify:"center"},a.a.createElement(D.a,{item:!0,xs:10},a.a.createElement("div",{align:"center"},a.a.createElement(Pe.a,{className:e.slider,value:this.props.currentTime,min:0,max:this.props.duration,onChange:this.props.event_onTimeChange})))),a.a.createElement(D.a,{item:!0,xs:12,container:!0,justify:"center",alignItems:"center"},a.a.createElement(D.a,{item:!0,xs:1},a.a.createElement(Le.a,{color:"disabled"})),a.a.createElement(D.a,{item:!0,xs:2},a.a.createElement(Pe.a,{className:e.slider,value:this.props.volume,min:0,max:100,onChange:this.props.event_onVolumeChange})),a.a.createElement(D.a,{item:!0,xs:5},a.a.createElement("div",{align:"center"},a.a.createElement(ue.a,{onClick:this.props.event_onPrevClick},a.a.createElement(De.a,null)),a.a.createElement(ue.a,{onClick:this.props.event_onPlayClick},t),a.a.createElement(ue.a,{onClick:this.props.event_onNextClick},a.a.createElement(Re.a,null)))),a.a.createElement(D.a,{item:!0,xs:3},a.a.createElement(C.a,{className:e.select,value:this.props.playMode,fullWidth:!0,onChange:this.props.event_onPlayModeChange},a.a.createElement(O.a,{className:e.menuItem,value:1},"\u4f9d\u5e8f\u64ad\u653e"),a.a.createElement(O.a,{className:e.menuItem,value:2},"\u55ae\u66f2\u5faa\u74b0"),a.a.createElement(O.a,{className:e.menuItem,value:3},"\u96a8\u6a5f\u64ad\u653e")))))}}]),t}(o.Component),Ye=Object(d.withStyles)(xe)(Ue),Ze=n(152),Ke=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){e.autoSliding()},2e3)}},{key:"autoSliding",value:function(){var e=this.props.youtube?this.props.youtube.getCurrentTime():0;this.props.changeTime(e)}},{key:"event_onReady",value:function(e){e.target.isMuted&&e.target.unMute(),e.target.setVolume(this.props.volume),e.target.setPlaybackQuality("medium"),this.props.setYoutubeApi(e.target)}},{key:"event_onStateChange",value:function(e){var t=this.props,n=t.playlistSongs,o=t.currentSongIndex,a=t.song,r=t.playMode,i=e.target.getPlayerState();if(0===i&&o>=n.length)this.props.changeYoutubeState(i);else{var s=o;if(0===i&&1===r&&(n[s].videoId!==a.videoId&&(s=n.findIndex(function(e){return e.videoId===a.videoId})),s!==n.length-1&&this.props.changeSong(n[s+1],s+1)),0===i&&2===r&&this.props.youtube.playVideo(),0===i&&3===r){var l=Math.floor(Math.random()*n.length);l===o?this.props.youtube.playVideo():this.props.changeSong(n[l],l)}this.props.changeYoutubeState(i)}}},{key:"event_onPlayClick",value:function(){switch(this.props.youtubeState){case 0:this.props.youtube.playVideo();break;case 1:this.props.youtube.pauseVideo();break;case 2:case 5:this.props.youtube.playVideo();break;default:return}}},{key:"event_onNextClick",value:function(){var e=this.props,t=e.playlistSongs,n=e.currentSongIndex,o=e.playMode;if(!(n>=t.length)&&(o<3&&n!==t.length-1&&this.props.changeSong(t[n+1],n+1),3===o)){var a=Math.floor(Math.random()*t.length);a===n?this.props.youtube.playVideo():this.props.changeSong(t[a],a)}}},{key:"event_onPrevClick",value:function(){var e=this.props,t=e.playlistSongs,n=e.currentSongIndex,o=e.playMode;if(!(n>=t.length)&&(o<3&&0!==n&&this.props.changeSong(t[n-1],n-1),3===o)){var a=Math.floor(Math.random()*t.length);a===n?this.props.youtube.playVideo():this.props.changeSong(t[a],a)}}},{key:"event_onVolumeChange",value:function(e,t){this.props.youtube.isMuted&&this.props.youtube.unMute(),this.props.youtube.setVolume(t),this.props.changeVolume(t)}},{key:"event_onTimeChange",value:function(e,t){var n=this;switch(clearInterval(this.interval),this.props.changeTime(t),this.props.youtubeState){case 1:case 2:this.props.youtube.seekTo(t,!0);break;case 5:this.props.youtube.seekTo(t,!0),this.props.youtube.playVideo();break;default:return}this.interval=setInterval(function(){n.autoSliding()},2e3)}},{key:"render",value:function(){var e=this,t=this.props.youtube?this.props.youtube.getDuration():0;return a.a.createElement("div",null,a.a.createElement(Ye,{song:this.props.song,playMode:this.props.playMode,youtubeState:this.props.youtubeState,volume:this.props.volume,currentTime:this.props.currentTime,duration:t,event_onPlayModeChange:this.props.event_onPlayModeChange,event_onPlayClick:function(){return e.event_onPlayClick()},event_onNextClick:function(){return e.event_onNextClick()},event_onPrevClick:function(){return e.event_onPrevClick()},event_onVolumeChange:function(t,n){return e.event_onVolumeChange(t,n)},event_onTimeChange:function(t,n){return e.event_onTimeChange(t,n)}}),a.a.createElement(Ze.a,{opts:{height:"0",width:"0",playerVars:{autoplay:1}},videoId:this.props.song.videoId,onReady:function(t){return e.event_onReady(t)},onStateChange:function(t){return e.event_onStateChange(t)}}))}}]),t}(o.Component),Fe=Object(y.b)(function(e){return{song:e.playerReducer.song,youtube:e.playerReducer.youtube,youtubeState:e.playerReducer.youtubeState,playMode:e.playerReducer.playMode,volume:e.playerReducer.volume,currentTime:e.playerReducer.currentTime,playlistSongs:e.playlistReducer.playlistSongs,currentSongIndex:e.playlistReducer.currentSongIndex}},function(e){return{setYoutubeApi:function(t){e(function(e){return{type:"SET_YOUTUBE_API",youtube:e}}(t))},changeYoutubeState:function(t){e(function(e){return{type:"CHANGE_YOUTUBE_STATE",youtubeState:e}}(t))},changeVolume:function(t){e(function(e){return{type:"CHANGE_VOLUME",volume:e}}(t))},changeTime:function(t){e(function(e){return{type:"CHANGE_TIME",time:e}}(t))},changeSong:function(t,n){e(function(e,t){return{type:"CHANGE_SONG",song:e,index:t}}(t,n))},event_onPlayModeChange:function(t){e({type:"CHANGE_PLAY_MODE",mode:t.target.value})}}})(Ke),We=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getContent",value:function(e){var t=this.props.classes;return a.a.createElement("div",null,a.a.createElement("span",{className:t.text},e.title+" - "+e.artist),a.a.createElement("span",{className:t.textOwner},"#",e.owner))}},{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement(ie.a,{className:t.background},a.a.createElement(q.a,{className:t.list},this.props.playlistSongs.map(function(n,o){return a.a.createElement(ee.a,{key:o,selected:e.props.currentSongIndex===o,dense:!0,divider:!0,onDoubleClick:function(){return e.props.event_onDoubleClick(n,o)}},a.a.createElement(ne.a,{disableTypography:!0},e.getContent(n)),a.a.createElement(ue.a,{onClick:function(){return e.props.event_onRoomSongDelete(n,o)}},a.a.createElement(ve.a,{className:t.iconLarge})))})),a.a.createElement("div",{align:"right",className:t.autoRefresh},"auto refresh every 30 seconds"))}}]),t}(o.Component),He=Object(d.withStyles)(be)(We),Je=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(He,{playlistSongs:this.props.playlistSongs,currentSongIndex:this.props.currentSongIndex,event_onDoubleClick:this.props.event_onDoubleClick,event_onRoomSongDelete:function(t,n){e.props.event_onRoomSongDelete(t,n),t.owner===e.props.loginAccount&&e.props.event_onDelete(n)}}))}}]),t}(o.Component),Ve=Object(y.b)(function(e){return{loginAccount:e.accountReducer.loginAccount,playlistSongs:e.playlistReducer.playlistSongs,currentSongIndex:e.playlistReducer.currentSongIndex}},function(e){return{event_onDoubleClick:function(t,n){e(J(t,n))},event_onDelete:function(t){e(function(e){return{type:"ROOM_SONG_DELETE",index:e}}(t))}}})(Je),ze=n(166),Xe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return a.a.createElement(D.a,{container:!0,spacing:8,alignItems:"center",direction:"column"},a.a.createElement(D.a,{item:!0,xs:11,container:!0,justify:"center"},a.a.createElement(L.a,{className:e.input,value:this.props.url,placeholder:"Youtube URL",fullWidth:!0,onChange:this.props.event_urlOnChange})),a.a.createElement(D.a,{item:!0,container:!0,spacing:8,justify:"center"},a.a.createElement(D.a,{item:!0,xs:7},a.a.createElement(L.a,{className:e.input,value:this.props.title,placeholder:"Title",fullWidth:!0,onChange:this.props.event_titleOnChange})),a.a.createElement(D.a,{item:!0,xs:3},a.a.createElement(L.a,{className:e.input,value:this.props.artist,placeholder:"Artist",fullWidth:!0,onChange:this.props.event_artistOnChange})),a.a.createElement(D.a,{item:!0,xs:1},a.a.createElement(P.a,{disabled:!this.props.ready,color:"secondary",fullWidth:!0,onClick:this.props.event_addNewSongOnClick},"OK"))))}}]),t}(o.Component),qe=Object(d.withStyles)(function(e){return{input:{fontFamily:"Verdana"}}})(Xe),$e=function(e,t,n){return{type:"AUTO_SET_INFO",videoId:e,artist:t,title:n}},et=n(92),tt=n.n(et),nt=n(155),ot=n(156),at=n(157),rt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.url,o=t.videoId,r=t.artist,i=t.title,s=t.loginAccount;return a.a.createElement(qe,{url:n,title:i,artist:r,ready:""!==o&&""!==i&&""!==r&&void 0!==s,event_urlOnChange:this.props.event_urlOnChange,event_artistOnChange:this.props.event_artistOnChange,event_titleOnChange:this.props.event_titleOnChange,event_addNewSongOnClick:function(){e.props.event_addNewSong(),e.props.clearInput()}})}}]),t}(o.Component),it=Object(y.b)(function(e){return{url:e.addNewSongReducer.url,videoId:e.addNewSongReducer.videoId,artist:e.addNewSongReducer.artist,title:e.addNewSongReducer.title,loginAccount:e.accountReducer.loginAccount}},function(e){return{event_urlOnChange:function(t){e({type:"URL_CHANGE",url:t.target.value}),function(e){var t=nt(e,{fuzzy:!1});return null==t?new tt.a(function(e,t){t("Cannot get youtube id")}):new tt.a(function(e,n){ot(t,function(o,a){e({videoId:t,fullTitle:a}),n(o)})})}(t.target.value).then(function(t){try{console.log("video id = "+t.videoId);var n=at(t.fullTitle),o=Object(ze.a)(n,2),a=o[0],r=o[1];e($e(t.videoId,a,r))}catch(i){console.log(i),e($e(t.videoId,"unknown artist","unknown title"))}}).catch(function(t){console.log(t),e($e("","",""))})},event_artistOnChange:function(t){e({type:"ARTIST_CHANGE",artist:t.target.value})},event_titleOnChange:function(t){e({type:"TITLE_CHANGE",title:t.target.value})},clearInput:function(){e({type:"CLEAR_INPUT"})}}})(rt),st=n(160),lt=n.n(st),ct=n(161),ut=n.n(ct),pt=n(43),dt=n.n(pt),gt=n(158),ht=n.n(gt),yt=n(93),mt=n.n(yt),Et=n(94),vt=n.n(Et),At=n(159),ft=n.n(At),bt=n(162),St=n.n(bt),Ct=function(e){return{border:{borderColor:"#D50000",borderStyle:"dashed"},table:{height:"600px",overflow:"auto"},header:{fontFamily:"Verdana",fontSize:"14pt",color:"#01579B",position:"sticky",top:0,backgroundColor:"#fff",zIndex:10},headerPosition:{position:"sticky"},cell:{fontFamily:"Verdana"},pagination:{}}},_t=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).headerColumns=[{id:"title",numeric:!1,disablePadding:!1,label:"Title"},{id:"artist",numeric:!1,disablePadding:!1,label:"Artist"}],n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement(ht.a,null,a.a.createElement(mt.a,null,a.a.createElement(dt.a,{padding:"checkbox",className:t.header},a.a.createElement(vt.a,{onChange:this.props.event_onSelectAll})),this.headerColumns.map(function(n){return a.a.createElement(dt.a,{className:t.header,key:n.id,numeric:n.numeric,padding:n.disablePadding?"none":"default"},a.a.createElement(ft.a,{active:n.id===e.props.orderBy,direction:e.props.order,onClick:function(){return e.props.event_onSortLabelClick(n.id)}},n.label))},this)))}}]),t}(o.Component),Ot=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,o=t.page,r=t.rowsPerPage,i=this.props.songs.length;return a.a.createElement(ie.a,null,a.a.createElement("div",{className:n.table},a.a.createElement(lt.a,{padding:"dense"},a.a.createElement(_t,{classes:n,order:this.props.order,orderBy:this.props.orderBy,event_onSortLabelClick:this.props.event_onSortLabelClick,event_onSelectAll:this.props.event_onSelectAll}),a.a.createElement(ut.a,null,this.props.songs.slice(o*r,o*r+r).map(function(t){return a.a.createElement(mt.a,{hover:!0,onClick:function(n){return e.props.event_onSelect(n,t.id)},onDoubleClick:function(){return e.props.event_onDoubleClick(t)},key:t.id},a.a.createElement(dt.a,{padding:"checkbox"},a.a.createElement(vt.a,{checked:e.props.selected.includes(t.id)})),a.a.createElement(dt.a,{className:n.cell},t.title),a.a.createElement(dt.a,{className:n.cell},t.artist))})))),a.a.createElement(St.a,{labelRowsPerPage:"\u6bcf\u9801\u986f\u793a: ",count:i,rowsPerPage:r,rowsPerPageOptions:[10,25,i<50?50:i],page:o,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.props.event_onChangePage,onChangeRowsPerPage:this.props.event_onChangeRowsPerPage}))}}]),t}(o.Component),It=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("div",null,a.a.createElement(Ot,{classes:e,totalCount:this.props.totalCount,songs:this.props.songs,order:this.props.order,orderBy:this.props.orderBy,selected:this.props.selected,page:this.props.page,rowsPerPage:this.props.rowsPerPage,event_onSortLabelClick:this.props.event_onSortLabelClick,event_onSelect:this.props.event_onSelect,event_onSelectAll:this.props.event_onSelectAll,event_onChangePage:this.props.event_onChangePage,event_onChangeRowsPerPage:this.props.event_onChangeRowsPerPage,event_onDoubleClick:this.props.event_onDoubleClick}))}}]),t}(o.Component),Pt=Object(d.withStyles)(Ct)(It),Nt=function(e){return{type:"REFRESH_TABLE",songs:e}},Dt=n(50),Tt=n.n(Dt),Rt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"sortSongs",value:function(){var e=this;this.props.songs.sort(function(t,n){return"title"===e.props.orderBy?"asc"===e.props.order?Tt.a.caseInsensitive(t.title,n.title):-Tt.a.caseInsensitive(t.title,n.title):"artist"===e.props.orderBy?"asc"===e.props.order?Tt.a.caseInsensitive(t.artist,n.artist):-Tt.a.caseInsensitive(t.artist,n.artist):-Tt.a.caseInsensitive(t.createdTime,n.createdTime)})}},{key:"render",value:function(){return this.sortSongs(),a.a.createElement(Pt,{order:this.props.order,orderBy:this.props.orderBy,songs:this.props.songs,selected:this.props.selected,page:this.props.page,rowsPerPage:this.props.rowsPerPage,event_onSortLabelClick:this.props.event_onSortLabelClick,event_onSelect:this.props.event_onSelect,event_onSelectAll:this.props.event_onSelectAll,event_onChangePage:this.props.event_onChangePage,event_onChangeRowsPerPage:this.props.event_onChangeRowsPerPage,event_onDoubleClick:this.props.event_onDoubleClick})}}]),t}(o.Component),kt=Object(y.b)(function(e){return{loginAccount:e.accountReducer.loginAccount,songs:e.musicTableReducer.songs,order:e.musicTableReducer.order,orderBy:e.musicTableReducer.orderBy,selected:e.musicTableReducer.selected,page:e.musicTableReducer.page,rowsPerPage:e.musicTableReducer.rowsPerPage}},function(e){return{event_onDatabaseCreate:function(t){e(Nt(t))},event_onSortLabelClick:function(t){e(function(e){return{type:"CHANGE_SORT",orderBy:e}}(t))},event_onSelect:function(t,n){e(function(e){return{type:"SELECT_SONG",id:e}}(n))},event_onSelectAll:function(t){e({type:"SELECT_ALL",checked:t.target.checked})},event_onChangePage:function(t,n){e(function(e){return{type:"CHANGE_PAGE",page:e}}(n))},event_onChangeRowsPerPage:function(t){e({type:"CHANGE_ROWS_PER_PAGE",rowsPerPage:t.target.value})},event_onDoubleClick:function(t){e(function(e){return{type:"PLAY_SONG_FROM_TABLE",song:e}}(t))}}})(Rt),jt=n(164),Mt=n.n(jt),Bt=n(165),Qt=n.n(Bt),Lt=n(163),wt=n.n(Lt),Gt=function(e){return{toolbar:{borderColor:"#FFCDD2",borderStyle:"dashed"},accountCircle:{paddingRight:"10px"},button:{fontFamily:"Arial",textTransform:"none"}}},xt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.selected.length,n=""!==this.props.loginAccount&&void 0!==this.props.loginAccount?this.props.loginAccount:"Login here";return a.a.createElement(b.a,null,a.a.createElement(D.a,{container:!0,spacing:0},a.a.createElement(D.a,{item:!0,xs:6},a.a.createElement(P.a,{className:e.button,color:"primary",onClick:this.props.event_onLoginClick},a.a.createElement(wt.a,{className:e.accountCircle}),n)),a.a.createElement(D.a,{item:!0,xs:6,container:!0,spacing:0},a.a.createElement(D.a,{item:!0},a.a.createElement(P.a,{color:"primary",disabled:1!==t,onClick:this.props.event_onEditSongClick},a.a.createElement(Mt.a,null))),a.a.createElement(D.a,{item:!0},a.a.createElement(P.a,{color:"primary",disabled:0===t,onClick:this.props.event_onDeleteSongClick},a.a.createElement(ve.a,null))),a.a.createElement(D.a,{item:!0},a.a.createElement(P.a,{color:"primary",disabled:0===t,onClick:this.props.event_onAddSongToPlaylist},a.a.createElement(Qt.a,null))))))}}]),t}(o.Component),Ut=Object(d.withStyles)(Gt)(xt),Yt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.displayLoginDialog,n=e.event_onLoginInputChange,o=e.event_onLoginClose,r=this.props.classes;return a.a.createElement(j.a,{open:t,modal:"true"},a.a.createElement(B.a,null,a.a.createElement(L.a,{autoFocus:!0,className:r.input,placeholder:"Enter your account ...",onChange:n}),a.a.createElement(P.a,{disabled:""===this.props.userNameInput.trim(),color:"secondary",onClick:function(){return o(!0)}},"OK"),a.a.createElement(P.a,{color:"primary",onClick:function(){return o(!1)}},"Cancel")))}}]),t}(o.Component),Zt=Object(d.withStyles)(function(e){return{input:{fontFamily:"Verdana"}}})(Yt),Kt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement(j.a,{open:this.props.displayEditSongDialog,modal:"true",onClose:function(){return e.props.event_onEditSongClose(!1)},maxWidth:"sm",fullWidth:!0},a.a.createElement(B.a,null,a.a.createElement(D.a,{container:!0,spacing:8,direction:"column"},a.a.createElement(D.a,{item:!0,container:!0},a.a.createElement(D.a,{item:!0,xs:10},a.a.createElement(L.a,{className:t.input,fullWidth:!0,placeholder:"Title",value:this.props.editSong.title,onChange:this.props.event_onEditSongTitleChange})),a.a.createElement(D.a,{item:!0,xs:2},a.a.createElement(P.a,{color:"secondary",onClick:function(){return e.props.event_onEditSongClose(!0)}},"OK"))),a.a.createElement(D.a,{item:!0,container:!0},a.a.createElement(D.a,{item:!0,xs:10},a.a.createElement(L.a,{className:t.input,fullWidth:!0,placeholder:"Artist",value:this.props.editSong.artist,onChange:this.props.event_onEditSongArtistChange})),a.a.createElement(D.a,{item:!0,xs:2},a.a.createElement(P.a,{color:"primary",onClick:function(){return e.props.event_onEditSongClose(!1)}},"Cancel"))))))}}]),t}(o.Component),Ft=Object(d.withStyles)(function(e){return{input:{fontFamily:"Verdana"}}})(Kt),Wt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(j.a,{open:this.props.displayDeleteSongDialog,modal:"true",onClose:function(){return e.props.event_onDeleteSongClose(!1)}},a.a.createElement(B.a,null,a.a.createElement(Z.a,null,"Delete this song ?")),a.a.createElement(U.a,null,a.a.createElement(P.a,{color:"secondary",onClick:function(){return e.props.event_onDeleteSongClose(!0)}},"OK"),a.a.createElement(P.a,{color:"primary",onClick:function(){return e.props.event_onDeleteSongClose(!1)}},"Cancel")))}}]),t}(o.Component),Ht=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"event_onLoginClose",value:function(e){e&&""!==this.props.userNameInput?(this.props.event_onLoginAccountChange(this.props.userNameInput),this.props.closeLoginDialog(e,this.props.userNameInput)):this.props.closeLoginDialog(!1,this.props.userNameInput)}},{key:"render",value:function(){var e=this;return this.selectedSongs=[],this.props.selected.forEach(function(t){e.selectedSongs.push(e.props.songs.find(function(e){return e.id===t}))}),a.a.createElement("div",null,a.a.createElement(Ut,{selected:this.props.selected,loginAccount:this.props.loginAccount,event_onLoginClick:this.props.event_onLoginClick,event_onEditSongClick:function(){return e.props.event_onEditSongClick(e.selectedSongs[0])},event_onDeleteSongClick:this.props.event_onDeleteSongClick,event_onAddSongToPlaylist:function(){e.props.event_onAddSongToPlaylist(),e.props.send_addSongToPlaylistAction(e.selectedSongs,e.props.loginAccount)}}),a.a.createElement(Zt,{userNameInput:this.props.userNameInput,displayLoginDialog:this.props.displayLoginDialog,event_onLoginInputChange:this.props.event_onLoginInputChange,event_onLoginClose:function(t){return e.event_onLoginClose(t)}}),a.a.createElement(Ft,{displayEditSongDialog:this.props.displayEditSongDialog,editSong:this.props.editSong,event_onEditSongClose:function(t){e.props.event_finishEditSong(t),e.props.event_onEditSongClose()},event_onEditSongTitleChange:this.props.event_onEditSongTitleChange,event_onEditSongArtistChange:this.props.event_onEditSongArtistChange}),a.a.createElement(Wt,{displayDeleteSongDialog:this.props.displayDeleteSongDialog,event_onDeleteSongClose:function(t){e.props.event_finishDeleteSong(t),e.props.event_onDeleteSongClose()}}))}}]),t}(o.Component),Jt=Object(y.b)(function(e){return{songs:e.musicTableReducer.songs,selected:e.musicTableReducer.selected,displayLoginDialog:e.accountReducer.displayLoginDialog,userNameInput:e.accountReducer.userNameInput,loginAccount:e.accountReducer.loginAccount,displayEditSongDialog:e.musicTableToolbarReducer.displayEditSongDialog,displayDeleteSongDialog:e.musicTableToolbarReducer.displayDeleteSongDialog,editSong:e.musicTableToolbarReducer.editSong,currentRoom:e.playlistReducer.currentRoom}},function(e){return{event_onLoginClick:function(){e({type:"LOGIN_OPEN"})},event_onLoginInputChange:function(t){e({type:"LOGIN_INPUT_CHANGE",userNameInput:t.target.value})},closeLoginDialog:function(t,n){e({type:"LOGIN_CLOSE"}),t&&e(function(e){return{type:"RESET_ACCOUNT",userNameInput:e}}(n))},event_onEditSongClick:function(t){e(function(e){return{type:"EDIT_SONG_INIT",editSong:e}}(t))},event_onEditSongClose:function(){e({type:"EDIT_SONG_CLOSE"})},event_onEditSongTitleChange:function(t){e({type:"EDIT_SONG_TITLE_CHANGE",title:t.target.value})},event_onEditSongArtistChange:function(t){e({type:"EDIT_SONG_ARTIST_CHANGE",artist:t.target.value})},event_onDeleteSongClick:function(){e({type:"DELETE_SONG_OPEN"})},event_onDeleteSongClose:function(){e({type:"DELETE_SONG_CLOSE"})},send_addSongToPlaylistAction:function(t,n){e(function(e,t){return{type:"ADD_SONG_TO_PLAYLIST",songs:e,account:t}}(t,n))}}})(Ht),Vt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=a.a.createElement(Oe,{event_onPlaylistSongMove:this.props.event_onPlaylistSongMove}),n=a.a.createElement(Ve,{event_onRoomSongDelete:this.props.event_onRoomSongDelete});return a.a.createElement(D.a,{container:!0,spacing:8,className:e.main},a.a.createElement(D.a,{item:!0,container:!0,spacing:8},a.a.createElement(D.a,{item:!0,xs:7,className:e.musicTableToolbarBorder},a.a.createElement(Jt,{event_onLoginAccountChange:this.props.event_onLoginAccountChange,event_finishEditSong:this.props.event_finishEditSong,event_finishDeleteSong:this.props.event_finishDeleteSong,event_onAddSongToPlaylist:this.props.event_onAddSongToPlaylist})),a.a.createElement(D.a,{item:!0,xs:5,className:e.playlistToolbarBorder},a.a.createElement(z,{event_onDeletePlaylist:this.props.event_onDeletePlaylist}))),a.a.createElement(D.a,{item:!0,container:!0,spacing:8},a.a.createElement(D.a,{item:!0,xs:7,className:e.musicTableBorder},a.a.createElement(kt,null)),a.a.createElement(D.a,{item:!0,xs:5,className:e.playlistBorder},void 0===this.props.currentRoom?t:n)),a.a.createElement(D.a,{item:!0,container:!0,spacing:8},a.a.createElement(D.a,{item:!0,xs:7,className:e.addNewSongBorder},a.a.createElement(it,{event_addNewSong:this.props.event_addNewSong})),a.a.createElement(D.a,{item:!0,xs:5,className:e.playerBorder},a.a.createElement(Fe,null))))}}]),t}(o.Component),zt=Object(d.withStyles)(function(e){return{main:{maxWidth:"1200px"},musicTableToolbarBorder:{borderWidth:"1px",borderColor:"#FFCDD2",borderStyle:"dashed"},playlistToolbarBorder:{borderWidth:"1px",borderColor:"#1DE9B6",borderStyle:"dashed"},musicTableBorder:{borderWidth:"1px",borderColor:"#D50000",borderStyle:"dashed"},addNewSongBorder:{borderWidth:"1px",borderColor:"#B388FF",borderStyle:"dashed"},playlistBorder:{borderWidth:"1px",borderColor:"#424242",borderStyle:"dashed"},playerBorder:{borderWidth:"1px",borderColor:"#FFD600",borderStyle:"dashed"}}})(Vt),Xt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){E.a.initializeApp({apiKey:"AIzaSyDsiMCX9o5ht0nvR-2YpydKoc3acvDWxBk",authDomain:"fragileplayer2.firebaseapp.com",databaseURL:"https://fragileplayer2.firebaseio.com",projectId:"fragileplayer2",storageBucket:"fragileplayer2.appspot.com",messagingSenderId:"616243676456"}),E.a.auth().onAuthStateChanged(function(e){e.isAnonymous&&console.log("sign in anonymously")}),this.event_onLoginAccountChange(this.props.loginAccount)}},{key:"event_onLoginAccountChange",value:function(e){this._refreshSongs(e),this._refreshPlaylists(e)}},{key:"_refreshSongs",value:function(e){var t=this;this._count=0,this._firebaseRef=E.a.database().ref("users/"+e),this._firebaseRef.child("songs").once("value",function(e){var n=[];t._count=0,e.forEach(function(e){var o={id:t._count,videoId:e.val().video_id,title:e.val().title,artist:e.val().artist,createdTime:void 0===e.val().createdTime?"":e.val().createdTime};n.push(o),t._count=t._count+1}),t.props.event_onSongsFetch(n),console.log("totally "+t._count+" songs")})}},{key:"_refreshPlaylists",value:function(e){var t=this;this.firebaseRef2=E.a.database().ref("users/"+e+"/playlists"),this.firebaseRef2.once("value",function(e){var n=[];e.forEach(function(e){n.push(e.key)}),t.props.event_onPlaylistsFetch(n),console.log("totally "+n.length+" playlists")})}},{key:"event_addNewSong",value:function(){var e=this.props,t=e.videoId,n=e.title,o=e.artist,a=Object(h.a)({},t,{title:n,artist:o,video_id:t,createdTime:A()(new Date,"YYYY-MM-DD HH:mm:ss")});this.firebaseRef=E.a.database().ref("users/"+this.props.loginAccount+"/songs"),this.firebaseRef.update(a),this._refreshSongs(this.props.loginAccount)}},{key:"event_finishEditSong",value:function(e){if(!0===e){var t=Object(h.a)({},this.props.editSong.videoId,{title:this.props.editSong.title,artist:this.props.editSong.artist,video_id:this.props.editSong.videoId,createdTime:this.props.editSong.createdTime});this.firebaseRef=E.a.database().ref("users/"+this.props.loginAccount+"/songs"),this.firebaseRef.update(t),this._refreshSongs(this.props.loginAccount)}}},{key:"event_finishDeleteSong",value:function(e){var t=this;if(!0===e){var n=[];this.props.selected.forEach(function(e){n.push(t.props.songs.find(function(t){return t.id===e}))}),this.firebaseRef=E.a.database().ref("users/"+this.props.loginAccount+"/songs"),n.forEach(function(e){t.firebaseRef.child(e.videoId).remove()}),this._refreshSongs(this.props.loginAccount)}}},{key:"event_onAddSongToPlaylist",value:function(){var e,t,n=this;if(void 0!==this.props.currentRoom)return e=this.props.playlistSongs.map(function(e){return{title:e.title,artist:e.artist,videoId:e.videoId,owner:e.owner}}),this.props.selected.forEach(function(o){t=n.props.songs.find(function(e){return e.id===o}),e.push({title:t.title,artist:t.artist,videoId:t.videoId,owner:n.props.loginAccount})}),void this.updateRoom(e,this.props.currentRoom);void 0!==this.props.currentPlaylist&&"\u81e8\u6642\u6b4c\u55ae"!==this.props.currentPlaylist&&(e=this.props.playlistSongs.map(function(e){return{title:e.title,artist:e.artist,videoId:e.videoId}}),this.props.selected.forEach(function(o){t=n.props.songs.find(function(e){return e.id===o}),e.push({title:t.title,artist:t.artist,videoId:t.videoId})}),this.updatePlaylist(e,this.props.currentPlaylist))}},{key:"event_onPlaylistSongMove",value:function(e){var t,n=Object(g.a)(this.props.playlistSongs),o=this.props.toolMenuIndex;switch(e){case"MOVE_UP":if(0===o)return;t=n[o],n[o]=n[o-1],n[o-1]=t;break;case"MOVE_DOWN":if(o===n.length-1)return;t=n[o],n[o]=n[o+1],n[o+1]=t;break;case"DELETE":n.splice(o,1);break;default:return}this.updatePlaylist(n,this.props.currentPlaylist)}},{key:"event_onRoomSongDelete",value:function(e,t){if(e.owner===this.props.loginAccount){var n=Object(g.a)(this.props.playlistSongs);n.splice(t,1),this.updateRoom(n,this.props.currentRoom)}else alert("Song owner is "+e.owner)}},{key:"updatePlaylist",value:function(e,t){e=e.map(function(e){return{title:e.title,artist:e.artist,video_id:e.videoId}}),this.firebaseRef=E.a.database().ref("users/"+this.props.loginAccount+"/playlists/"+t),this.firebaseRef.set(e)}},{key:"updateRoom",value:function(e,t){e=e.map(function(e){return{title:e.title,artist:e.artist,video_id:e.videoId,owner:e.owner}}),this.firebaseRef=E.a.database().ref("rooms/"+t),this.firebaseRef.set(e)}},{key:"event_onDeletePlaylist",value:function(){this.firebaseRef2=E.a.database().ref("users/"+this.props.loginAccount+"/playlists"),this.firebaseRef2.child(this.props.currentPlaylist).remove()}},{key:"render",value:function(){var e=this;return a.a.createElement(zt,{currentRoom:this.props.currentRoom,event_onLoginAccountChange:function(t){return e.event_onLoginAccountChange(t)},event_finishEditSong:function(t){return e.event_finishEditSong(t)},event_finishDeleteSong:function(t){return e.event_finishDeleteSong(t)},event_onAddSongToPlaylist:function(){return e.event_onAddSongToPlaylist()},event_addNewSong:function(){return e.event_addNewSong()},event_onDeletePlaylist:function(){return e.event_onDeletePlaylist()},event_onPlaylistSongMove:function(t){return e.event_onPlaylistSongMove(t)},event_onRoomSongDelete:function(t,n){return e.event_onRoomSongDelete(t,n)}})}}]),t}(o.Component),qt=Object(y.b)(function(e){return{loginAccount:e.accountReducer.loginAccount,videoId:e.addNewSongReducer.videoId,artist:e.addNewSongReducer.artist,title:e.addNewSongReducer.title,editSong:e.musicTableToolbarReducer.editSong,songs:e.musicTableReducer.songs,selected:e.musicTableReducer.selected,currentPlaylist:e.playlistReducer.currentPlaylist,playlistSongs:e.playlistReducer.playlistSongs,currentRoom:e.playlistReducer.currentRoom,toolMenuIndex:e.playlistReducer.toolMenuIndex}},function(e){return{event_onSongsFetch:function(t){e(Nt(t))},event_onPlaylistsFetch:function(t){e(H(t))}}})(Xt),$t=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return a.a.createElement(D.a,{container:!0,spacing:8},a.a.createElement(D.a,{item:!0,container:!0,spacing:8},a.a.createElement(D.a,{item:!0,xs:7},a.a.createElement(ie.a,{className:e.musicTableToolbar},"MusicTableToolbar")),a.a.createElement(D.a,{item:!0,xs:4},a.a.createElement(ie.a,{className:e.playlistToolbar},"PlaylistToolbar"))),a.a.createElement(D.a,{item:!0,container:!0,spacing:8},a.a.createElement(D.a,{item:!0,xs:7,container:!0,spacing:0,direction:"column"},a.a.createElement(D.a,{item:!0},a.a.createElement(ie.a,{className:e.musicTable},"MusicTable")),a.a.createElement(D.a,{item:!0},a.a.createElement(ie.a,{className:e.addNewSong},"AddNewSong"))),a.a.createElement(D.a,{item:!0,xs:4},a.a.createElement(ie.a,{className:e.playlist},"Playlist"))),a.a.createElement(D.a,{item:!0,container:!0,spacing:8},a.a.createElement(D.a,{item:!0,xs:7},a.a.createElement(ie.a,{className:e.player},"Player")),a.a.createElement(D.a,{item:!0,xs:4},a.a.createElement(ie.a,{className:e.logo},"Logo"))))}}]),t}(o.Component),en=(Object(d.withStyles)(function(e){return{musicTableToolbar:{borderColor:"#FFCDD2",borderStyle:"dashed"},musicTable:{borderColor:"#D50000",borderStyle:"dashed"},addNewSong:{borderColor:"#AA00FF",borderStyle:"dashed"},playlistToolbar:{borderColor:"#304FFE",borderStyle:"dashed"},playlist:{borderColor:"#18FFFF",borderStyle:"dashed"},player:{borderColor:"#FF6F00",borderStyle:"dashed"},logo:{borderColor:"#00C853",borderStyle:"dashed"}}})($t),Object(d.createMuiTheme)({palette:{type:"light"}})),tn=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(d.MuiThemeProvider,{theme:en},a.a.createElement(qt,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nn=n(48),on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:"",videoId:"",artist:"",title:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"URL_CHANGE":return Object.assign({},e,{url:t.url});case"ARTIST_CHANGE":return Object.assign({},e,{artist:t.artist});case"TITLE_CHANGE":return Object.assign({},e,{title:t.title});case"AUTO_SET_INFO":return Object.assign({},e,{videoId:t.videoId,artist:t.artist,title:t.title});case"CLEAR_INPUT":return{url:"",videoId:"",artist:"",title:""};default:return e}},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{songs:[],order:"asc",orderBy:"createdTime",selected:[],page:0,rowsPerPage:25},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_TABLE":return Object.assign({},e,{songs:t.songs});case"CHANGE_SORT":return e.orderBy===t.orderBy?Object.assign({},e,{order:"asc"===e.order?"desc":"asc"}):Object.assign({},e,{order:"asc",orderBy:t.orderBy});case"SELECT_SONG":if(e.selected.includes(t.id)){var n=Object(g.a)(e.selected);return n.splice(n.indexOf(t.id),1),Object.assign({},e,{selected:n})}var o=Object(g.a)(e.selected).concat([t.id]);return Object.assign({},e,{selected:o});case"SELECT_ALL":return t.checked?Object.assign({},e,{selected:e.songs.map(function(e){return e.id})}):Object.assign({},e,{selected:[]});case"CHANGE_PAGE":return Object.assign({},e,{page:t.page});case"CHANGE_ROWS_PER_PAGE":return Object.assign({},e,{rowsPerPage:t.rowsPerPage});case"EDIT_SONG_CLOSE":case"DELETE_SONG_CLOSE":case"ADD_SONG_TO_PLAYLIST":return Object.assign({},e,{selected:[]});default:return e}},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editSong:{},displayEditSongDialog:!1,displayDeleteSongDialog:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_SONG_INIT":return Object.assign({},e,{editSong:t.editSong,displayEditSongDialog:!0});case"EDIT_SONG_CLOSE":return Object.assign({},e,{editSong:{},displayEditSongDialog:!1});case"EDIT_SONG_TITLE_CHANGE":return Object.assign({},e,{editSong:Object.assign({},e.editSong,{title:t.title})});case"EDIT_SONG_ARTIST_CHANGE":return Object.assign({},e,{editSong:Object.assign({},e.editSong,{artist:t.artist})});case"DELETE_SONG_OPEN":return Object.assign({},e,{displayDeleteSongDialog:!0});case"DELETE_SONG_CLOSE":return Object.assign({},e,{displayDeleteSongDialog:!1});default:return e}},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loginAccount:void 0,displayLoginDialog:!1,userNameInput:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_OPEN":return Object.assign({},e,{displayLoginDialog:!0});case"LOGIN_CLOSE":return Object.assign({},e,{displayLoginDialog:!1,userNameInput:""});case"LOGIN_INPUT_CHANGE":return Object.assign({},e,{userNameInput:t.userNameInput});case"RESET_ACCOUNT":return console.log("change account to "+t.userNameInput),Object.assign({},e,{loginAccount:t.userNameInput});default:return e}},ln=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{playlists:[],currentPlaylist:void 0,currentSongIndex:0,playlistSongs:[],displayNewPlaylistDialog:!1,newPlaylist:"",displayDeletePlaylistDialog:!1,displayEnterRoomDialog:!1,enterRoomName:"",currentRoom:void 0,toolMenuAnchor:null,toolMenuIndex:void 0},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"ADD_SONG_TO_PLAYLIST":var a=o.songs.map(function(e){return{videoId:e.videoId,title:e.title,artist:e.artist,owner:o.account}});return void 0===n.currentPlaylist?Object.assign({},n,{currentPlaylist:void 0===n.currentPlaylist?"\u81e8\u6642\u6b4c\u55ae":n.currentPlaylist,playlists:Object(g.a)(n.playlists).concat(["\u81e8\u6642\u6b4c\u55ae"]),playlistSongs:a}):Object.assign({},n,{playlistSongs:Object(g.a)(n.playlistSongs).concat(Object(g.a)(a))});case"PLAY_SONG_FROM_PLAYLIST":case"CHANGE_SONG":return Object.assign({},n,{currentSongIndex:o.index});case"NEW_PLAYLIST_OPEN":return Object.assign({},n,{displayNewPlaylistDialog:!0});case"NEW_PLAYLIST_DIALOG_CLOSE":return Object.assign({},n,{displayNewPlaylistDialog:!1,newPlaylist:"",currentPlaylist:o.success?n.newPlaylist:n.currentPlaylist,playlists:o.success?Object(g.a)(n.playlists).concat([n.newPlaylist]):n.playlists,playlistSongs:o.success?[]:n.playlistSongs});case"NEW_PLAYLIST_INPUT_CHANGE":return Object.assign({},n,{newPlaylist:o.name});case"DELETE_PLAYLIST_DIALOG_OPEN":return void 0===n.currentPlaylist?n:Object.assign({},n,{displayDeletePlaylistDialog:!0});case"DELETE_PLAYLIST_DIALOG_CLOSE":return Object.assign({},n,{displayDeletePlaylistDialog:!1,currentPlaylist:o.ok?void 0:n.currentPlaylist,playlists:o.ok?n.playlists.filter(function(e){return e!==n.currentPlaylist}):n.playlists,playlistSongs:o.ok?[]:n.playlistSongs});case"REFRESH_PLAYLISTS":return Object.assign({},n,{playlists:o.playlists,playlistSongs:[],currentPlaylist:void 0,currentRoom:void 0});case"PLAYLIST_CHANGE":return Object.assign({},n,{currentPlaylist:o.playlist,playlistSongs:o.songs});case"PLAYLIST_TOOL_MENU_OPEN":return Object.assign({},n,{toolMenuAnchor:o.anchor,toolMenuIndex:o.index});case"PLAYLIST_TOOL_MENU_CLOSE":return Object.assign({},n,{toolMenuAnchor:null,toolMenuIndex:void 0});case"PLAYLIST_SONG_MOVE_UP":var r=n.toolMenuIndex;return 0===r?Object.assign({},n,{toolMenuAnchor:null,toolMenuIndex:void 0}):(t=(e=Object(g.a)(n.playlistSongs))[r],e[r]=e[r-1],e[r-1]=t,Object.assign({},n,{playlistSongs:e,toolMenuAnchor:null,toolMenuIndex:void 0}));case"PLAYLIST_SONG_MOVE_DOWN":var i=n.toolMenuIndex;return i===n.playlistSongs.length-1?Object.assign({},n,{toolMenuAnchor:null,toolMenuIndex:void 0}):(t=(e=Object(g.a)(n.playlistSongs))[i],e[i]=e[i+1],e[i+1]=t,Object.assign({},n,{playlistSongs:e,toolMenuAnchor:null,toolMenuIndex:void 0}));case"PLAYLIST_SONG_DELETE":return(e=Object(g.a)(n.playlistSongs)).splice(n.toolMenuIndex,1),Object.assign({},n,{playlistSongs:e,toolMenuAnchor:null,toolMenuIndex:void 0});case"ENTER_ROOM_OPEN":return Object.assign({},n,{displayEnterRoomDialog:!0});case"ENTER_ROOM_DIALOG_CLOSE":return Object.assign({},n,{displayEnterRoomDialog:!1,currentRoom:o.ok?n.enterRoomName:n.currentRoom,currentPlaylist:o.ok?void 0:n.currentPlaylist});case"ENTER_ROOM_INPUT_CHANGE":return Object.assign({},n,{enterRoomName:o.name});case"LEAVE_ROOM":return Object.assign({},n,{currentRoom:void 0,currentPlaylist:void 0,currentSongIndex:0,playlistSongs:[]});case"ROOM_SONG_DELETE":return(e=Object(g.a)(n.playlistSongs)).splice(o.index,1),Object.assign({},n,{playlistSongs:e});default:return n}},cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{youtube:null,song:{videoId:"",title:"",artist:""},youtubeState:-1,currentTime:0,playMode:1,volume:20},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_YOUTUBE_API":return Object.assign({},e,{youtube:t.youtube});case"CHANGE_PLAY_MODE":return console.log("CHANGE_PLAY_MODE -> "+t.mode),Object.assign({},e,{playMode:t.mode});case"CHANGE_YOUTUBE_STATE":return Object.assign({},e,{youtubeState:t.youtubeState});case"PLAY_SONG_FROM_PLAYLIST":case"PLAY_SONG_FROM_TABLE":return Object.assign({},e,{song:t.song});case"CHANGE_VOLUME":return Object.assign({},e,{volume:t.volume});case"CHANGE_TIME":return Object.assign({},e,{currentTime:t.time});case"CHANGE_SONG":return Object.assign({},e,{song:t.song});default:return e}},un=Object(nn.b)({accountReducer:sn,addNewSongReducer:on,musicTableReducer:an,musicTableToolbarReducer:rn,playlistReducer:ln,playerReducer:cn}),pn=Object(nn.c)(un);i.a.render(a.a.createElement(y.a,{store:pn},a.a.createElement(tn,{className:"app"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[167,2,1]]]);
//# sourceMappingURL=main.4b5d6352.chunk.js.map