{"version":3,"sources":["images/fragile.png","components/PlaylistToolbar.js","components/NewPlaylistDialog.js","components/DeletePlaylistDialog.js","components/EnterRoomDialog.js","actions/playlistActions.js","containers/PlaylistToolbarContainer.js","styles/playlistStyle.js","components/Playlist.js","containers/PlaylistContainer.js","styles/playerStyle.js","components/Player.js","containers/PlayerContainer.js","actions/playerActions.js","components/Room.js","containers/RoomContainer.js","components/AddNewSong.js","actions/addNewSongActions.js","containers/AddNewSongContainer.js","styles/musicTableStyle.js","components/MusicTable.js","actions/musicTableActions.js","containers/MusicTableContainer.js","styles/musicTableToolbarStyle.js","components/MusicTableToolbar.js","components/LoginDialog.js","components/EditSongDialog.js","components/DeleteSongDialog.js","components/HelpDialog.js","containers/MusicTableToolbarContainer.js","actions/accountActions.js","actions/musicTableToolbarActions.js","components/Account.js","containers/AccountContainer.js","LayoutTest.js","App.js","serviceWorker.js","reducers/addNewSongReducer.js","reducers/musicTableReducer.js","reducers/musicTableToolbarReducer.js","reducers/accountReducer.js","reducers/playlistReducer.js","reducers/playerReducer.js","reducers/index.js","index.js"],"names":["module","exports","PlaylistToolbar","classes","this","props","roomString","undefined","currentRoom","disableTools","react_default","a","createElement","Toolbar_default","className","toolbar","Grid_default","container","spacing","item","xs","Select_default","select","fullWidth","disabled","value","currentPlaylist","onChange","event_onPlaylistChange","playlists","map","list","index","MenuItem_default","menuItem","key","Button_default","color","onClick","event_onNewPlaylistClick","event_onDeletePlaylistClick","roomButton","event_onEnterLeaveRoomClick","Component","withStyles","theme","fontFamily","textTransform","backgroundColor","borderRadius","NewPlaylistDialog","_this","displayNewPlaylistDialog","Dialog_default","open","modal","onClose","event_onNewPlaylistDialogClose","DialogContent_default","Input_default","autoFocus","input","placeholder","event_onNewPlaylistInputChange","newPlaylist","trim","DeletePlaylistDialog","displayDeletePlaylistDialog","event_onDeletePlaylistDialogClose","DialogContentText_default","DialogActions_default","EnterRoomDialog","displayEnterRoomDialog","event_onEnterRoomDialogClose","event_onEnterRoomInputChange","enterRoomName","refreshPlaylistsAction","type","playlistDoubleClickAction","song","PlaylistToolbarContainer","event","target","firebaseRef","firebase","database","ref","loginAccount","songs","once","dbSongs","forEach","dbSong","push","videoId","val","video_id","title","artist","changePlaylist","_this2","owner","intervalId","setInterval","clearInterval","event_onLeaveRoomClick","_this3","style","paddingTop","components_PlaylistToolbar","event_onEnterRoomClick","event_onLeaveRoom","components_NewPlaylistDialog","ok","components_DeletePlaylistDialog","event_onDeletePlaylist","components_EnterRoomDialog","event_onEnterRoomSucceed","connect","state","accountReducer","playlistSongs","playlistReducer","dispatch","name","success","deletePlaylistDialogCloseAction","enterRoomDialogCloseAction","refreshPlaylists","playlist","playlistChangeAction","styles","height","overflow","background","text","iconSmall","fontSize","iconLarge","autoRefresh","padding","fontStyle","textOwner","selectedBorder","borderColor","borderStyle","borderWidth","Playlist","Paper_default","List_default","ListItem_default","currentSongIndex","dense","divider","onDoubleClick","event_onDoubleClick","ListItemText_default","disableTypography","primary","IconButton_default","event_onToolMenuClick","MoreHoriz_default","Popover_default","Boolean","toolMenuAnchor","anchorEl","event_onToolMenuClose","MenuList_default","ArrowUpward_default","event_onMoveUp","ArrowDownward_default","event_onMoveDown","Delete_default","event_onDelete","PlaylistContainer","components_Playlist","event_onPlaylistSongMove","anchor","playlistToolMenuClickAction","slider","trackColor","icon","info","div","Player","playIconButton","youtubeState","Replay_default","PauseCircleOutline_default","PlayCircleOutline_default","align","justify","Slider_default","currentTime","min","max","duration","event_onTimeChange","alignItems","VolumeUp_default","volume","event_onVolumeChange","event_onPrevClick","SkipPrevious_default","event_onPlayClick","event_onNextClick","SkipNext_default","playMode","event_onPlayModeChange","PlayerContainer","interval","autoSliding","t","youtube","getCurrentTime","changeTime","isMuted","unMute","setVolume","setPlaybackQuality","setYoutubeApi","_this$props","getPlayerState","length","changeYoutubeState","findIndex","s","changeSong","playVideo","nextIndex","Math","floor","random","pauseVideo","_this$props2","_this$props3","changeVolume","seekTo","getDuration","components_Player","YouTube","opts","width","playerVars","autoplay","onReady","event_onReady","onStateChange","event_onStateChange","playerReducer","setYoutubeApiAction","changeYoutubeStateAction","changeVolumeAction","time","changeTimeAction","changeSongAction","mode","Room","hidedOwner","repeat","charAt","selected","getContent","event_onRoomSongDelete","RoomContainer","components_Room","roomSongDeleteAction","AddNewSong","direction","layout","url","event_urlOnChange","event_titleOnChange","event_artistOnChange","ready","event_addNewSongOnClick","autoSetInfoAction","AddNewSongContainer","components_AddNewSong","event_addNewSong","clearInput","addNewSongReducer","id","getYoutubeId","fuzzy","Promise","resolve","reject","getYoutubeTitle","err","fullTitle","parseYoutubeUrl","then","console","log","_getArtistTitle","getArtistTitle","_getArtistTitle2","Object","slicedToArray","e","catch","error","border","table","header","headerCell","position","top","zIndex","headerPosition","cell","pagination","EnhancedTableHead","headerColumns","numeric","disablePadding","label","TableHead_default","TableRow_default","TableCell_default","Checkbox_default","event_onSelectAll","row","TableSortLabel_default","active","orderBy","order","event_onSortLabelClick","EnhancedTable","page","rowsPerPage","count","Table_default","MusicTable_EnhancedTableHead","TableBody_default","slice","isSelected","includes","hover","event_onSelect","TablePagination_default","labelRowsPerPage","rowsPerPageOptions","backIconButtonProps","aria-label","nextIconButtonProps","onChangePage","event_onChangePage","onChangeRowsPerPage","event_onChangeRowsPerPage","MusicTable","MusicTable_EnhancedTable","totalCount","refreshTableAction","MusicTableContainer","sort","b","naturalCompare","caseInsensitive","createdTime","sortSongs","components_MusicTable","musicTableReducer","event_onDatabaseCreate","data","changeSortAction","selectSongAction","checked","changePageAction","musicTableDoubleClickAction","accountCircle","paddingRight","button","MusicTableToolbar","numSelected","accountText","event_onLoginClick","AccountCircle_default","event_onEditSongClick","Edit_default","event_onDeleteSongClick","event_onAddSongToPlaylist","PlaylistAdd_default","event_onHelpClick","HelpOutline_default","LoginDialog","displayLoginDialog","event_onLoginInputChange","event_onLoginClose","userNameInput","EditSongDialog","displayEditSongDialog","event_onEditSongClose","maxWidth","editSong","event_onEditSongTitleChange","event_onEditSongArtistChange","DeleteSongDialog","displayDeleteSongDialog","event_onDeleteSongClose","HelpDialog","displayHelpDialog","event_onHelpClose","href","github","MusicTableToolbarContainer","isChangingAccount","event_onLoginAccountChange","closeLoginDialog","selectedSongs","find","x","components_MusicTableToolbar","send_addSongToPlaylistAction","components_LoginDialog","components_EditSongDialog","result","event_finishEditSong","components_DeleteSongDialog","event_finishDeleteSong","components_HelpDialog","musicTableToolbarReducer","resetAccountAction","editSongOpenAction","account","addSongToPlaylistAction","Account","containers_PlaylistContainer","room","containers_RoomContainer","main","musicTableToolbarBorder","containers_MusicTableToolbarContainer","playlistToolbarBorder","containers_PlaylistToolbarContainer","musicTableBorder","containers_MusicTableContainer","playlistBorder","addNewSongBorder","containers_AddNewSongContainer","playerBorder","containers_PlayerContainer","AccountContainer","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","auth","onAuthStateChanged","user","isAnonymous","accountName","_refreshSongs","_refreshPlaylists","_count","_firebaseRef","child","event_onSongsFetch","firebaseRef2","dbPlaylists","dbPlaylist","event_onPlaylistsFetch","newSong","defineProperty","format","Date","update","updateSong","remove","selectedSong","_this4","updateRoom","updatePlaylist","tmp","newPlaylistSongs","toConsumableArray","idx","toolMenuIndex","splice","alert","set","_this5","components_Account","LayoutTest","musicTableToolbar","playlistToolbar","musicTable","addNewSong","player","logo","createMuiTheme","palette","lightBlue","secondary","overrides","MuiSlider","track","thumb","MuiTableRow","App","CssBaseline_default","containers_AccountContainer","window","location","hostname","match","arguments","action","assign","newSelected","indexOf","concat","newSongsArray","filter","idx_up","idx_down","rootReducer","combineReducers","store","createStore","ReactDOM","render","es","src_App","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.1b49afe0.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, {Component} from 'react'\r\n\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass PlaylistToolbar extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    const roomString = this.props.currentRoom===undefined? 'Enter Room': ('Leave '+ this.props.currentRoom);\r\n    const disableTools = this.props.currentRoom!==undefined;\r\n\r\n    return (\r\n      <Toolbar className={classes.toolbar}>\r\n        <Grid container spacing={0} >\r\n          <Grid item xs={4} >\r\n            <Select\r\n              className={classes.select}\r\n              fullWidth\r\n              disabled={disableTools}\r\n              value={this.props.currentPlaylist===undefined? '':this.props.currentPlaylist}\r\n              onChange={this.props.event_onPlaylistChange}\r\n            >\r\n              {this.props.playlists.map((list, index) => {\r\n                return (\r\n                  <MenuItem className={classes.menuItem} value={list} key={index}>\r\n                    {list}\r\n                  </MenuItem>\r\n                )\r\n              })}\r\n            </Select>\r\n          </Grid>\r\n          <Grid item xs={2} >\r\n            <Button disabled={disableTools} fullWidth color='secondary' onClick={this.props.event_onNewPlaylistClick}>\r\n              New\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={2} >\r\n            <Button disabled={disableTools} fullWidth color='primary' onClick={this.props.event_onDeletePlaylistClick}>\r\n              Delete\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={4} >\r\n            <Button className={classes.roomButton} fullWidth onClick={this.props.event_onEnterLeaveRoomClick}>\r\n              {roomString}\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Toolbar>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  select: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n  menuItem: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n  roomButton: {\r\n    //fontFamily: 'Verdana',\r\n    textTransform:'none',\r\n  },\r\n  toolbar: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: '5px',\r\n  }\r\n})\r\n\r\nexport default withStyles(styles)(PlaylistToolbar)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass NewPlaylistDialog extends Component {\r\n  render() {\r\n    const { displayNewPlaylistDialog } = this.props;\r\n    const {classes} = this.props\r\n    return (\r\n      <Dialog\r\n        open = {displayNewPlaylistDialog}\r\n        modal = 'true'\r\n        onClose = {()=>this.props.event_onNewPlaylistDialogClose(false)}\r\n      >\r\n        <DialogContent>\r\n          <Input\r\n            autoFocus\r\n            className={classes.input}\r\n            placeholder={'Enter playlist name ...'}\r\n            onChange={this.props.event_onNewPlaylistInputChange}\r\n            value={this.props.newPlaylist}\r\n          />\r\n          <Button disabled={this.props.newPlaylist.trim()===''} color='secondary' onClick={()=>this.props.event_onNewPlaylistDialogClose(true)}>\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>this.props.event_onNewPlaylistDialogClose(false)}>\r\n            Cancel\r\n          </Button>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n})\r\n\r\nexport default withStyles(styles)(NewPlaylistDialog)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nclass DeletePlaylistDialog extends Component {\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open = {this.props.displayDeletePlaylistDialog}\r\n        modal = 'true'\r\n        onClose = {()=>this.props.event_onDeletePlaylistDialogClose(false)}\r\n      >\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Delete this playlist ?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button color='secondary' onClick={()=>this.props.event_onDeletePlaylistDialogClose(true)} >\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>this.props.event_onDeletePlaylistDialogClose(false)} >\r\n            Cancel\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeletePlaylistDialog\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass EnterRoomDialog extends Component {\r\n  render() {\r\n    const { displayEnterRoomDialog } = this.props;\r\n    const { classes } = this.props\r\n    return (\r\n      <Dialog\r\n        open = {displayEnterRoomDialog}\r\n        modal = 'true'\r\n        onClose={()=>this.props.event_onEnterRoomDialogClose(false)}\r\n      >\r\n        <DialogContent>\r\n          <Input\r\n            autoFocus\r\n            className={classes.input}\r\n            placeholder={'Enter room name ...'}\r\n            onChange={this.props.event_onEnterRoomInputChange}\r\n            value={this.props.enterRoomName}\r\n          />\r\n          <Button disabled={this.props.enterRoomName.trim()===''} color='secondary' onClick={()=>this.props.event_onEnterRoomDialogClose(true)}>\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>this.props.event_onEnterRoomDialogClose(false)}>\r\n            Cancel\r\n          </Button>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n})\r\n\r\nexport default withStyles(styles)(EnterRoomDialog)\r\n","export const addSongToPlaylistAction = (songs, account) => ({\r\n  type: 'ADD_SONG_TO_PLAYLIST',\r\n  songs: songs,\r\n  account: account\r\n})\r\n\r\nexport const newPlaylistOpenAction = () => ({\r\n  type: 'NEW_PLAYLIST_OPEN'\r\n})\r\n\r\nexport const newPlaylistDialogCloseAction = (success) => ({\r\n  type: 'NEW_PLAYLIST_DIALOG_CLOSE',\r\n  success: success\r\n})\r\n\r\nexport const newPlaylistInputChangeAction = (name) => ({\r\n  type: 'NEW_PLAYLIST_INPUT_CHANGE',\r\n  name: name\r\n})\r\n\r\nexport const deletePlaylistDialogOpenAction = () => ({\r\n  type: 'DELETE_PLAYLIST_DIALOG_OPEN'\r\n})\r\n\r\nexport const deletePlaylistDialogCloseAction = (ok) => ({\r\n  type: 'DELETE_PLAYLIST_DIALOG_CLOSE',\r\n  ok: ok\r\n})\r\n\r\nexport const enterRoomOpenAction = () => ({\r\n  type: 'ENTER_ROOM_OPEN'\r\n})\r\n\r\nexport const leaveRoomAction = () => ({\r\n  type: 'LEAVE_ROOM',\r\n})\r\n\r\nexport const enterRoomDialogCloseAction = (ok) => ({\r\n  type: 'ENTER_ROOM_DIALOG_CLOSE',\r\n  ok: ok\r\n})\r\n\r\nexport const enterRoomInputChangeAction = (name) => ({\r\n  type: 'ENTER_ROOM_INPUT_CHANGE',\r\n  name: name\r\n})\r\n\r\nexport const refreshPlaylistsAction = (playlists) => ({\r\n  type: 'REFRESH_PLAYLISTS',\r\n  playlists: playlists\r\n})\r\n\r\nexport const playlistChangeAction = (playlist, songs) => ({\r\n  type: 'PLAYLIST_CHANGE',\r\n  playlist: playlist,\r\n  songs: songs\r\n})\r\n\r\nexport const playlistDoubleClickAction = (song, index) => ({\r\n  type: 'PLAY_SONG_FROM_PLAYLIST',\r\n  song: song,\r\n  index: index\r\n})\r\n\r\nexport const playlistToolMenuClickAction = (anchor, index) => ({\r\n  type: 'PLAYLIST_TOOL_MENU_OPEN',\r\n  anchor: anchor,\r\n  index: index\r\n})\r\n\r\nexport const playlistToolMenuCoseAction = () => ({\r\n  type: 'PLAYLIST_TOOL_MENU_CLOSE',\r\n})\r\n\r\nexport const playlistSongMoveUpAction = () => ({\r\n  type: 'PLAYLIST_SONG_MOVE_UP',\r\n})\r\n\r\nexport const playlistSongMoveDownAction = () => ({\r\n  type: 'PLAYLIST_SONG_MOVE_DOWN',\r\n})\r\n\r\nexport const playlistSongDeleteAction = () => ({\r\n  type: 'PLAYLIST_SONG_DELETE',\r\n})\r\n\r\nexport const roomSongDeleteAction = (index) => ({\r\n  type: 'ROOM_SONG_DELETE',\r\n  index: index\r\n})\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\n\r\nimport PlaylistToolbar from '../components/PlaylistToolbar.js'\r\nimport NewPlaylistDialog from '../components/NewPlaylistDialog.js'\r\nimport DeletePlaylistDialog from '../components/DeletePlaylistDialog.js'\r\nimport EnterRoomDialog from '../components/EnterRoomDialog.js'\r\n\r\nimport {refreshPlaylistsAction, playlistChangeAction } from '../actions/playlistActions'\r\nimport {newPlaylistOpenAction, newPlaylistInputChangeAction, newPlaylistDialogCloseAction } from '../actions/playlistActions'\r\nimport {deletePlaylistDialogOpenAction, deletePlaylistDialogCloseAction} from '../actions/playlistActions'\r\nimport {enterRoomOpenAction, enterRoomDialogCloseAction, enterRoomInputChangeAction, leaveRoomAction} from '../actions/playlistActions'\r\n\r\nclass PlaylistToolbarContainer extends Component {\r\n\r\n  event_onPlaylistChange(event) {\r\n    let newPlaylist = event.target.value;\r\n    this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/playlists/' + newPlaylist);\r\n    let songs = [];\r\n    this.firebaseRef.once('value', dbSongs => {\r\n      dbSongs.forEach(dbSong => {\r\n        songs.push({\r\n          videoId: dbSong.val().video_id,\r\n          title: dbSong.val().title,\r\n          artist: dbSong.val().artist,}\r\n        );\r\n      })\r\n      this.props.changePlaylist(newPlaylist, songs);\r\n    })\r\n  }\r\n\r\n  event_onEnterRoomSucceed() {\r\n    this.firebaseRef = firebase.database().ref('rooms/' + this.props.enterRoomName);\r\n\r\n    this.firebaseRef.once('value', dbSongs => {\r\n      let songs = [];\r\n      dbSongs.forEach(dbSong => {\r\n        songs.push({\r\n          videoId: dbSong.val().video_id,\r\n          title: dbSong.val().title,\r\n          artist: dbSong.val().artist,\r\n          owner: dbSong.val().owner,\r\n        });\r\n      })\r\n      this.props.changePlaylist('', songs);\r\n    })\r\n\r\n    this.intervalId = setInterval(()=>{\r\n      this.firebaseRef.once('value', dbSongs => {\r\n        let songs = [];\r\n        dbSongs.forEach(dbSong => {\r\n          songs.push({\r\n            videoId: dbSong.val().video_id,\r\n            title: dbSong.val().title,\r\n            artist: dbSong.val().artist,\r\n            owner: dbSong.val().owner,\r\n          });\r\n        })\r\n        this.props.changePlaylist('', songs);\r\n      })\r\n    }, 30000)\r\n  }\r\n\r\n  event_onLeaveRoom() {\r\n    clearInterval(this.intervalId);\r\n    this.props.event_onLeaveRoomClick();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{paddingTop:'10px'}}>\r\n        <PlaylistToolbar\r\n          currentPlaylist={this.props.currentPlaylist}\r\n          playlists={this.props.playlists}\r\n          currentRoom={this.props.currentRoom}\r\n          event_onPlaylistChange={(event)=>this.event_onPlaylistChange(event)}\r\n          event_onNewPlaylistClick={this.props.event_onNewPlaylistClick}\r\n          event_onDeletePlaylistClick={this.props.event_onDeletePlaylistClick}\r\n          event_onEnterLeaveRoomClick={()=>{\r\n            if (this.props.currentRoom===undefined) this.props.event_onEnterRoomClick();\r\n            else this.event_onLeaveRoom();\r\n          }}\r\n        />\r\n        <NewPlaylistDialog\r\n          newPlaylist={this.props.newPlaylist}\r\n          displayNewPlaylistDialog={this.props.displayNewPlaylistDialog}\r\n          event_onNewPlaylistDialogClose={(ok)=>this.props.event_onNewPlaylistDialogClose(ok)}\r\n          event_onNewPlaylistInputChange={this.props.event_onNewPlaylistInputChange}\r\n        />\r\n        <DeletePlaylistDialog\r\n          displayDeletePlaylistDialog={this.props.displayDeletePlaylistDialog}\r\n          event_onDeletePlaylistDialogClose={(ok)=>{\r\n            if(ok) this.props.event_onDeletePlaylist()\r\n            this.props.event_onDeletePlaylistDialogClose(ok)\r\n          }}\r\n        />\r\n        <EnterRoomDialog\r\n          enterRoomName={this.props.enterRoomName}\r\n          displayEnterRoomDialog={this.props.displayEnterRoomDialog}\r\n          event_onEnterRoomDialogClose={(ok)=>{\r\n            this.props.event_onEnterRoomDialogClose(ok)\r\n            if(ok) this.event_onEnterRoomSucceed()\r\n          }}\r\n          event_onEnterRoomInputChange={this.props.event_onEnterRoomInputChange}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n  currentPlaylist: state.playlistReducer.currentPlaylist,\r\n  playlists: state.playlistReducer.playlists,\r\n  newPlaylist: state.playlistReducer.newPlaylist,\r\n  enterRoomName: state.playlistReducer.enterRoomName,\r\n  currentRoom: state.playlistReducer.currentRoom,\r\n  displayNewPlaylistDialog: state.playlistReducer.displayNewPlaylistDialog,\r\n  displayDeletePlaylistDialog: state.playlistReducer.displayDeletePlaylistDialog,\r\n  displayEnterRoomDialog: state.playlistReducer.displayEnterRoomDialog,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  // create new playlist\r\n  event_onNewPlaylistClick: () => {\r\n    dispatch(newPlaylistOpenAction())\r\n  },\r\n  event_onNewPlaylistInputChange: (event) => {\r\n    dispatch(newPlaylistInputChangeAction(event.target.value))\r\n  },\r\n  event_onNewPlaylistDialogClose: (ok) => {\r\n    dispatch(newPlaylistDialogCloseAction(ok))\r\n  },\r\n\r\n  // delete current playlist\r\n  event_onDeletePlaylistClick: () => {\r\n    dispatch(deletePlaylistDialogOpenAction())\r\n  },\r\n  event_onDeletePlaylistDialogClose: (ok) => {\r\n    dispatch(deletePlaylistDialogCloseAction(ok))\r\n  },\r\n\r\n  // room\r\n  event_onEnterRoomClick: () => {\r\n    dispatch(enterRoomOpenAction())\r\n  },\r\n  event_onLeaveRoomClick: () => {\r\n    dispatch(leaveRoomAction())\r\n  },\r\n  event_onEnterRoomDialogClose: (ok) => {\r\n    dispatch(enterRoomDialogCloseAction(ok))\r\n  },\r\n  event_onEnterRoomInputChange: (event) => {\r\n    dispatch(enterRoomInputChangeAction(event.target.value))\r\n  },\r\n  //\r\n  refreshPlaylists: (playlists) => {\r\n    dispatch(refreshPlaylistsAction(playlists))\r\n  },\r\n  changePlaylist: (playlist, songs) => {\r\n    dispatch(playlistChangeAction(playlist, songs))\r\n  },\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistToolbarContainer)\r\n","import Background from '../images/fragile.png'\r\n\r\nconst styles = theme => ({\r\n  list: {\r\n    height: '620px',\r\n    overflow: 'auto',\r\n    background: 'linear-gradient(to right, #424242, #37474F)'\r\n  },\r\n  text: {\r\n    fontFamily: 'Verdana',\r\n    color: 'white'\r\n  },\r\n  iconSmall: {\r\n    fontSize: '12px',\r\n  },\r\n  iconLarge: {\r\n    fontSize: '18px',\r\n  },\r\n  autoRefresh: {\r\n    padding: '0 10px 0 0',\r\n    fontStyle: 'italic',\r\n    color: '#B2EBF2'\r\n  },\r\n  textOwner: {\r\n    fontFamily: 'Verdana',\r\n    fontStyle: 'italic',\r\n    color: '#F4FF81',\r\n    padding: '0 0 0 10px',\r\n  },\r\n  background: {\r\n    // backgroundImage: \"url(\" + Background + \")\",\r\n    // backgroundPosition: 'center',\r\n    // backgroundSize: 'cover',\r\n    // backgroundRepeat: 'no-repeat',\r\n    overflow: 'hidden',\r\n    height: '100%',\r\n    background: 'linear-gradient(to right, #424242, #37474F)'\r\n  },\r\n  selectedBorder: {\r\n    borderColor: '#90CAF9',\r\n    borderStyle: 'solid',\r\n    borderWidth: 3,\r\n  }\r\n});\r\n\r\nexport default styles\r\n","import React, {Component} from 'react'\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popover from '@material-ui/core/Popover';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreHoriz from '@material-ui/icons/MoreHoriz';\r\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Delete from '@material-ui/icons/Delete';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/playlistStyle.js'\r\n\r\n\r\n\r\nclass Playlist extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    return (\r\n      <Paper className={classes.background}>\r\n        <List className={classes.list}>\r\n          {this.props.playlistSongs.map((song,index) => (\r\n            <ListItem\r\n              className={this.props.currentSongIndex===index? classes.selectedBorder:''}\r\n              key={index}\r\n              \r\n              dense\r\n              divider\r\n              onDoubleClick={()=>this.props.event_onDoubleClick(song, index)}\r\n            >\r\n              <ListItemText\r\n                className={classes.text}\r\n                disableTypography\r\n                primary={song.title+' - '+song.artist}\r\n              />\r\n              <IconButton onClick={(event)=>this.props.event_onToolMenuClick(event, index)}>\r\n                <MoreHoriz className={classes.iconSmall} color='primary'/>\r\n              </IconButton>\r\n              <Popover\r\n                open={Boolean(this.props.toolMenuAnchor)}\r\n                anchorEl={this.props.toolMenuAnchor}\r\n                onClose={this.props.event_onToolMenuClose}\r\n              >\r\n                <MenuList>\r\n                  <MenuItem><ArrowUpward className={classes.iconLarge} onClick={this.props.event_onMoveUp}/></MenuItem>\r\n                  <MenuItem><ArrowDownward className={classes.iconLarge} onClick={this.props.event_onMoveDown}/></MenuItem>\r\n                  <MenuItem><Delete className={classes.iconLarge} color='secondary' onClick={this.props.event_onDelete}/></MenuItem>\r\n                </MenuList>\r\n            </Popover>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Playlist)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Playlist from '../components/Playlist.js'\r\n\r\nimport {playlistDoubleClickAction, playlistToolMenuClickAction, playlistToolMenuCoseAction,\r\n        playlistSongMoveUpAction, playlistSongMoveDownAction, playlistSongDeleteAction} from '../actions/playlistActions'\r\n\r\nclass PlaylistContainer extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{height:'100%'}}>\r\n        <Playlist\r\n          playlistSongs={this.props.playlistSongs}\r\n          currentSongIndex={this.props.currentSongIndex}\r\n          event_onDoubleClick={this.props.event_onDoubleClick}\r\n          event_onToolMenuClick={this.props.event_onToolMenuClick}\r\n          event_onToolMenuClose={this.props.event_onToolMenuClose}\r\n          toolMenuAnchor={this.props.toolMenuAnchor}\r\n          event_onMoveUp={()=>{\r\n            this.props.event_onPlaylistSongMove('MOVE_UP')\r\n            this.props.event_onMoveUp()\r\n          }}\r\n          event_onMoveDown={()=>{\r\n            this.props.event_onPlaylistSongMove('MOVE_DOWN')\r\n            this.props.event_onMoveDown()\r\n          }}\r\n          event_onDelete={()=>{\r\n            this.props.event_onPlaylistSongMove('DELETE')\r\n            this.props.event_onDelete()\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n  toolMenuAnchor: state.playlistReducer.toolMenuAnchor,\r\n  currentSongIndex: state.playlistReducer.currentSongIndex\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_onDoubleClick: (song, index) => {\r\n    dispatch(playlistDoubleClickAction(song, index))\r\n  },\r\n  event_onToolMenuClick: (event, index) => {\r\n    dispatch(playlistToolMenuClickAction(event.target, index))\r\n  },\r\n  event_onToolMenuClose: () => {\r\n    dispatch(playlistToolMenuCoseAction())\r\n  },\r\n  event_onMoveUp: () => {\r\n    dispatch(playlistSongMoveUpAction())\r\n  },\r\n  event_onMoveDown: () => {\r\n    dispatch(playlistSongMoveDownAction())\r\n  },\r\n  event_onDelete: () => {\r\n    dispatch(playlistSongDeleteAction())\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistContainer)\r\n","const styles = theme => ({\r\n  slider: {\r\n    padding: '10px 3px',\r\n    // borderColor: '#FBC02D',\r\n    // borderStyle: 'dashed',\r\n    trackColor: 'yellow'\r\n  },\r\n  icon: {\r\n    fontSize: 'small'\r\n  },\r\n  select: {\r\n    fontFamily: 'Microsoft JhengHei',\r\n  },\r\n  menuItem: {\r\n    fontFamily: 'Microsoft JhengHei'\r\n  },\r\n  info: {\r\n    fontFamily: 'Microsoft JhengHei',\r\n    padding: '10px 0 5px 0',\r\n    color: '#F8BBD0',\r\n  },\r\n  div: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: '5px',\r\n    height: '100%',\r\n  }\r\n})\r\n\r\nexport default styles\r\n","import React, {Component} from 'react'\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Slider from '@material-ui/lab/Slider';\r\n\r\nimport SkipPrevious from '@material-ui/icons/SkipPrevious';\r\nimport SkipNext from '@material-ui/icons/SkipNext';\r\nimport PlayCircleOutline from '@material-ui/icons/PlayCircleOutline'\r\nimport PauseCircleOutline from '@material-ui/icons/PauseCircleOutline'\r\nimport VolumeUp from '@material-ui/icons/VolumeUp'\r\nimport Replay from '@material-ui/icons/Replay'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/playerStyle.js';\r\n\r\nclass Player extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    const playIconButton = this.props.youtubeState===0? <Replay />:\r\n                           this.props.youtubeState===1? <PauseCircleOutline />: <PlayCircleOutline />\r\n\r\n\r\n    return (\r\n      <div className={classes.div}>\r\n      <Grid container spacing={0} >\r\n        <Grid item xs={12}>\r\n          <div align='center' className={classes.info}>{this.props.song.title} - {this.props.song.artist}</div>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} container justify='center'>\r\n          <Grid item xs={10}>\r\n            <div align='center'>\r\n              <Slider\r\n                className={classes.slider}\r\n                value={this.props.currentTime}\r\n                min = {0}\r\n                max = {this.props.duration}\r\n                onChange={this.props.event_onTimeChange}\r\n              />\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} container justify='center' alignItems='center'>\r\n          <Grid item xs={1}>\r\n            <VolumeUp color='disabled'/>\r\n          </Grid>\r\n          <Grid item xs={2}>\r\n            <Slider\r\n              className={classes.slider}\r\n              value={this.props.volume}\r\n              min = {0}\r\n              max = {100}\r\n              onChange = {this.props.event_onVolumeChange}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={5}>\r\n            <div align='center'>\r\n              <IconButton\r\n                onClick={this.props.event_onPrevClick}\r\n              >\r\n                <SkipPrevious />\r\n              </IconButton>\r\n              <IconButton\r\n                onClick={this.props.event_onPlayClick}\r\n              >\r\n                {playIconButton}\r\n              </IconButton>\r\n              <IconButton\r\n                onClick={this.props.event_onNextClick}\r\n              >\r\n                <SkipNext />\r\n              </IconButton>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={3}>\r\n            <Select className={classes.select} value={this.props.playMode} fullWidth onChange={this.props.event_onPlayModeChange} >\r\n              <MenuItem className={classes.menuItem} value={1} >依序播放</MenuItem>\r\n              <MenuItem className={classes.menuItem} value={2} >單曲循環</MenuItem>\r\n              <MenuItem className={classes.menuItem} value={3} >隨機播放</MenuItem>\r\n            </Select>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Player)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Player from '../components/Player.js'\r\n\r\nimport YouTube from 'react-youtube';\r\n\r\nimport {setYoutubeApiAction, changePlayModeAction, changeYoutubeStateAction, changeVolumeAction, changeTimeAction, changeSongAction} from '../actions/playerActions'\r\n\r\nclass PlayerContainer extends Component {\r\n  componentDidMount() {\r\n    // 讓歌曲進度的slider能夠自動捲動, 每2000ms去更新一次state\r\n    this.interval = setInterval(() => {\r\n      this.autoSliding();\r\n    }, 2000)\r\n  }\r\n\r\n  // 歌曲進度的slider能夠自動捲動的function\r\n  autoSliding() {\r\n    // api call\r\n    let t = this.props.youtube? this.props.youtube.getCurrentTime(): 0\r\n    // send action\r\n    this.props.changeTime(t)\r\n  }\r\n\r\n  event_onReady(event) {\r\n    // api call\r\n    if(event.target.isMuted) event.target.unMute()\r\n    event.target.setVolume(this.props.volume);\r\n    event.target.setPlaybackQuality('medium')\r\n    // send action\r\n    this.props.setYoutubeApi(event.target)\r\n  }\r\n\r\n  event_onStateChange(event) {\r\n    const {playlistSongs, currentSongIndex, song, playMode} = this.props;\r\n\r\n    let youtubeState = event.target.getPlayerState()\r\n    // console.log('event_onStateChange: ' + youtubeState);\r\n\r\n    // empty playlist\r\n    if (youtubeState===0 && currentSongIndex>=playlistSongs.length) {\r\n      this.props.changeYoutubeState(youtubeState);\r\n      return;\r\n    }\r\n\r\n    // 依序播放模式\r\n    let index = currentSongIndex;\r\n    if (youtubeState === 0 && playMode === 1) {\r\n      // special situation (if playlist were modified)\r\n      if (playlistSongs[index].videoId !== song.videoId) {\r\n        index = playlistSongs.findIndex(s => s.videoId === song.videoId);\r\n      }\r\n      if (index !== playlistSongs.length-1) {\r\n        this.props.changeSong(playlistSongs[index+1], index+1)\r\n      }\r\n    }\r\n\r\n    // 單曲循環播放模式\r\n    if (youtubeState === 0 && playMode === 2) {\r\n      this.props.youtube.playVideo();\r\n    }\r\n\r\n    // 隨機播放模式\r\n    if (youtubeState === 0 && playMode === 3) {\r\n      let nextIndex = Math.floor((Math.random() * playlistSongs.length))\r\n      if (nextIndex === currentSongIndex)  this.props.youtube.playVideo();\r\n      else this.props.changeSong(playlistSongs[nextIndex], nextIndex)\r\n    }\r\n\r\n    // send action\r\n    this.props.changeYoutubeState(youtubeState)\r\n  }\r\n\r\n\r\n  event_onPlayClick() {\r\n    switch(this.props.youtubeState) {\r\n      case 0:\r\n        this.props.youtube.playVideo();\r\n        break;\r\n      case 1:\r\n        this.props.youtube.pauseVideo();\r\n        break;\r\n      case 2:\r\n        this.props.youtube.playVideo();\r\n        break;\r\n      case 5:\r\n        this.props.youtube.playVideo();\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  event_onNextClick() {\r\n    const {playlistSongs, currentSongIndex, playMode} = this.props;\r\n    if (currentSongIndex >= playlistSongs.length) return;\r\n\r\n    // 依序播放模式, 單曲循環播放模式\r\n    if (playMode < 3 && currentSongIndex !== playlistSongs.length-1) {\r\n      this.props.changeSong(playlistSongs[currentSongIndex+1], currentSongIndex+1)\r\n    }\r\n\r\n    // 隨機播放模式\r\n    if (playMode === 3) {\r\n      let nextIndex = Math.floor((Math.random() * playlistSongs.length))\r\n      if (nextIndex === currentSongIndex)  this.props.youtube.playVideo();\r\n      else this.props.changeSong(playlistSongs[nextIndex], nextIndex)\r\n    }\r\n  }\r\n\r\n  event_onPrevClick() {\r\n    const {playlistSongs, currentSongIndex, playMode} = this.props;\r\n    if (currentSongIndex >= playlistSongs.length) return;\r\n\r\n    // 依序播放模式, 單曲循環播放模式\r\n    if (playMode < 3 && currentSongIndex !== 0) {\r\n      this.props.changeSong(playlistSongs[currentSongIndex-1], currentSongIndex-1)\r\n    }\r\n\r\n    // 隨機播放模式\r\n    if (playMode === 3) {\r\n      let nextIndex = Math.floor((Math.random() * playlistSongs.length))\r\n      if (nextIndex === currentSongIndex)  this.props.youtube.playVideo();\r\n      else this.props.changeSong(playlistSongs[nextIndex], nextIndex)\r\n    }\r\n  }\r\n\r\n  // change the volume slider\r\n  event_onVolumeChange(event, volume) {\r\n    // api call\r\n    if(this.props.youtube.isMuted) this.props.youtube.unMute()\r\n    this.props.youtube.setVolume(volume);\r\n    // send action\r\n    this.props.changeVolume(volume)\r\n  }\r\n\r\n  // change the song slider\r\n  event_onTimeChange(event, value) {\r\n    // stop autoSliding\r\n    clearInterval(this.interval)\r\n    // send action\r\n    this.props.changeTime(value)\r\n    //this.autoSliding()\r\n    // api call\r\n    switch(this.props.youtubeState) {\r\n      case 1:\r\n        this.props.youtube.seekTo(value, true);\r\n        break;\r\n      case 2:\r\n        this.props.youtube.seekTo(value, true);\r\n        break;\r\n      case 5:\r\n        this.props.youtube.seekTo(value, true);\r\n        this.props.youtube.playVideo();\r\n        break;\r\n      default:\r\n        return\r\n    }\r\n    // restart autoSliding\r\n    this.interval = setInterval(() => {\r\n      this.autoSliding();\r\n    }, 2000)\r\n  }\r\n\r\n  render() {\r\n    const opts = {\r\n      height: '0',\r\n      width: '0',\r\n      playerVars: { // https://developers.google.com/youtube/player_parameters\r\n        autoplay: 1,\r\n      }\r\n    };\r\n\r\n    let duration = this.props.youtube? this.props.youtube.getDuration(): 0;\r\n\r\n    return (\r\n      <div style={{height:'100%'}}>\r\n        <Player\r\n          song={this.props.song}\r\n          playMode={this.props.playMode}\r\n          youtubeState={this.props.youtubeState}\r\n          volume={this.props.volume}\r\n          currentTime={this.props.currentTime}\r\n          duration={duration}\r\n          event_onPlayModeChange={this.props.event_onPlayModeChange}\r\n          event_onPlayClick={()=>this.event_onPlayClick()}\r\n          event_onNextClick={()=>this.event_onNextClick()}\r\n          event_onPrevClick={()=>this.event_onPrevClick()}\r\n          event_onVolumeChange={(event, value)=>this.event_onVolumeChange(event, value)}\r\n          event_onTimeChange={(event, value)=>this.event_onTimeChange(event, value)}\r\n        />\r\n        <YouTube\r\n          opts={opts}\r\n          videoId={this.props.song.videoId}\r\n          onReady={(event)=>this.event_onReady(event)}\r\n          onStateChange={(event)=>this.event_onStateChange(event)}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  song: state.playerReducer.song,\r\n  youtube: state.playerReducer.youtube,\r\n  youtubeState: state.playerReducer.youtubeState,\r\n  playMode: state.playerReducer.playMode,\r\n  volume: state.playerReducer.volume,\r\n  currentTime: state.playerReducer.currentTime,\r\n\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n  currentSongIndex: state.playlistReducer.currentSongIndex,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setYoutubeApi: (youtube) => {\r\n    dispatch(setYoutubeApiAction(youtube))\r\n  },\r\n  changeYoutubeState: (youtubeState) => {\r\n    dispatch(changeYoutubeStateAction(youtubeState))\r\n  },\r\n  changeVolume: (volume) => {\r\n    dispatch(changeVolumeAction(volume))\r\n  },\r\n  changeTime: (time) => {\r\n    dispatch(changeTimeAction(time))\r\n  },\r\n  changeSong: (song, index) => {\r\n    dispatch(changeSongAction(song, index))\r\n  },\r\n  event_onPlayModeChange: (event) => {\r\n    dispatch(changePlayModeAction(event.target.value))\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerContainer)\r\n","export const setYoutubeApiAction = (youtube) => ({\r\n  type: 'SET_YOUTUBE_API',\r\n  youtube: youtube\r\n})\r\n\r\nexport const changePlayModeAction = (mode) => ({\r\n  type: 'CHANGE_PLAY_MODE',\r\n  mode: mode\r\n})\r\n\r\nexport const changeYoutubeStateAction = (youtubeState) => ({\r\n  type: 'CHANGE_YOUTUBE_STATE',\r\n  youtubeState: youtubeState\r\n})\r\n\r\nexport const changeVolumeAction = (volume) => ({\r\n  type: 'CHANGE_VOLUME',\r\n  volume: volume\r\n})\r\n\r\nexport const changeTimeAction = (time) => ({\r\n  type: 'CHANGE_TIME',\r\n  time: time\r\n})\r\n\r\nexport const changeSongAction = (song, index) => ({\r\n  type: 'CHANGE_SONG',\r\n  song: song,\r\n  index: index\r\n})\r\n","import React, {Component} from 'react'\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Delete from '@material-ui/icons/Delete';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/playlistStyle.js'\r\n\r\nclass Room extends Component {\r\n\r\n  getContent(song) {\r\n    const {classes} = this.props;\r\n    let hidedOwner = '';\r\n    if (song.owner!==undefined) {\r\n      hidedOwner = '*'.repeat(song.owner.length);\r\n      if (song.owner.length>2) {\r\n        hidedOwner = song.owner.charAt(0)+'*'.repeat(song.owner.length-2)+song.owner.charAt(song.owner.length-1)\r\n      }\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        <span className={classes.text}>\r\n          {song.title + ' - ' + song.artist}\r\n        </span>\r\n        <span className={classes.textOwner}>\r\n          #{hidedOwner}\r\n        </span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {classes} = this.props;\r\n    return (\r\n      <Paper className={classes.background}>\r\n        <List className={classes.list}>\r\n          {this.props.playlistSongs.map((song,index) => (\r\n            <ListItem\r\n              key={index}\r\n              selected={this.props.currentSongIndex===index}\r\n              dense\r\n              divider\r\n              onDoubleClick={()=>this.props.event_onDoubleClick(song, index)}\r\n            >\r\n              <ListItemText\r\n                disableTypography\r\n              >\r\n                {this.getContent(song)}\r\n              </ListItemText>\r\n              <IconButton onClick={()=>this.props.event_onRoomSongDelete(song, index)}>\r\n                <Delete className={classes.iconLarge} />\r\n              </IconButton>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        <div align='right' className={classes.autoRefresh}>auto refresh every 30 seconds</div>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Room)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Room from '../components/Room.js'\r\n\r\nimport { playlistDoubleClickAction, roomSongDeleteAction } from '../actions/playlistActions'\r\n\r\nclass RoomContainer extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Room\r\n          playlistSongs={this.props.playlistSongs}\r\n          currentSongIndex={this.props.currentSongIndex}\r\n          event_onDoubleClick={this.props.event_onDoubleClick}\r\n          event_onRoomSongDelete={(song, index)=>{\r\n            this.props.event_onRoomSongDelete(song, index)\r\n            if(song.owner===this.props.loginAccount) this.props.event_onDelete(index)\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n  currentSongIndex: state.playlistReducer.currentSongIndex\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_onDoubleClick: (song, index) => {\r\n    dispatch(playlistDoubleClickAction(song, index))\r\n  },\r\n  event_onDelete: (index) => {\r\n    dispatch(roomSongDeleteAction(index))\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RoomContainer)\r\n","import React, {Component} from 'react'\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass AddNewSong extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    return (\r\n      <div className={classes.div}>\r\n        <Grid container spacing={0} alignItems='center' direction='column' className={classes.layout}>\r\n          <Grid item xs={11} container justify='center'>\r\n            <Input\r\n              className={classes.input}\r\n              value = {this.props.url}\r\n              placeholder = 'Youtube URL'\r\n              fullWidth\r\n              onChange = {this.props.event_urlOnChange}\r\n            />\r\n          </Grid>\r\n          <Grid item container spacing={8} justify='center'>\r\n            <Grid item xs={7}>\r\n              <Input\r\n                className={classes.input}\r\n                value = {this.props.title}\r\n                placeholder = 'Title'\r\n                fullWidth\r\n                onChange = {this.props.event_titleOnChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Input\r\n                className={classes.input}\r\n                value = {this.props.artist}\r\n                placeholder = 'Artist'\r\n                fullWidth\r\n                onChange = {this.props.event_artistOnChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={1}>\r\n              <Button disabled={!this.props.ready} color='secondary' fullWidth onClick={this.props.event_addNewSongOnClick}>\r\n                OK\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n  layout: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: '5px',\r\n  },\r\n  div: {\r\n    backgroundColor: '#424242',\r\n    // background: 'linear-gradient(to bottom, #525252, #313131)',\r\n    borderRadius: '5px',\r\n    height: '100%',\r\n  }\r\n})\r\n\r\nexport default withStyles(styles)(AddNewSong)\r\n","export const urlChangeAction = (url) => ({\r\n  type: 'URL_CHANGE',\r\n  url: url\r\n})\r\n\r\nexport const artistChangeAction = (artist) => ({\r\n  type: 'ARTIST_CHANGE',\r\n  artist: artist\r\n})\r\n\r\nexport const titleChangeAction = (title) => ({\r\n  type: 'TITLE_CHANGE',\r\n  title: title\r\n})\r\n\r\nexport const autoSetInfoAction = (videoId, artist, title) => ({\r\n  type: 'AUTO_SET_INFO',\r\n  videoId: videoId,\r\n  artist: artist,\r\n  title: title\r\n})\r\n\r\nexport const clearInputAction = () => ({\r\n  type: 'CLEAR_INPUT',\r\n})\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport AddNewSong from '../components/AddNewSong.js'\r\n\r\nimport {urlChangeAction, artistChangeAction, titleChangeAction, autoSetInfoAction, clearInputAction, } from '../actions/addNewSongActions'\r\n\r\n// Promise\r\nimport Promise from 'promise'\r\n// Youtube parsers\r\nimport * as getYoutubeId from 'get-youtube-id';\r\nimport * as getYoutubeTitle from 'get-youtube-title';\r\nimport * as getArtistTitle from 'get-artist-title';\r\n\r\nclass AddNewSongContainer extends Component {\r\n  render() {\r\n    const {url, videoId, artist, title, loginAccount} = this.props;\r\n    return (\r\n      <AddNewSong\r\n        url = {url}\r\n        title = {title}\r\n        artist = {artist}\r\n        ready = {videoId!=='' && title!=='' && artist!=='' && loginAccount!==undefined}\r\n        event_urlOnChange = {this.props.event_urlOnChange}\r\n        event_artistOnChange = {this.props.event_artistOnChange}\r\n        event_titleOnChange = {this.props.event_titleOnChange}\r\n        event_addNewSongOnClick = {() => {\r\n          this.props.event_addNewSong()\r\n          this.props.clearInput()\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\n// function to parse youtube url\r\n// encapsulated with a Promise because 'getYoutubeTitle' is asynchronous\r\nconst parseYoutubeUrl = (url) => {\r\n  let id = getYoutubeId(url, {fuzzy: false});\r\n  if(id==null) {\r\n    return new Promise((resolve, reject) => {\r\n      reject('Cannot get youtube id');\r\n    })\r\n  }\r\n  else {\r\n    return new Promise((resolve, reject) => {\r\n      getYoutubeTitle(id, (err, fullTitle) => {\r\n        resolve({videoId:id, fullTitle:fullTitle});\r\n        reject(err);\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  url: state.addNewSongReducer.url,\r\n  videoId: state.addNewSongReducer.videoId,\r\n  artist: state.addNewSongReducer.artist,\r\n  title: state.addNewSongReducer.title,\r\n  loginAccount: state.accountReducer.loginAccount,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_urlOnChange: (event) => {\r\n    dispatch(urlChangeAction(event.target.value))\r\n    parseYoutubeUrl(event.target.value).then((value) => {\r\n      try {\r\n        console.log('video id = ' + value.videoId);\r\n        let [artist, title] = getArtistTitle(value.fullTitle);\r\n        dispatch(autoSetInfoAction(value.videoId, artist, title));\r\n      } catch (e) {\r\n        console.log(e);\r\n        dispatch(autoSetInfoAction(value.videoId, 'unknown artist', 'unknown title'));\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      dispatch(autoSetInfoAction('', '', ''));\r\n    })\r\n  },\r\n  event_artistOnChange: (event) => {\r\n    dispatch(artistChangeAction(event.target.value))\r\n  },\r\n  event_titleOnChange: (event) => {\r\n    dispatch(titleChangeAction(event.target.value))\r\n  },\r\n  clearInput: () => {\r\n    dispatch(clearInputAction())\r\n  },\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddNewSongContainer)\r\n","const styles = theme => ({\r\n  border: {\r\n    borderColor: '#D50000',\r\n    borderStyle: 'dashed',\r\n  },\r\n  table: {\r\n    height: '585px',\r\n    overflow: 'auto',\r\n    borderRadius: '5px',\r\n    background: 'linear-gradient(to left, #424242, #37474F)'\r\n  },\r\n  header: {\r\n    // background: 'linear-gradient(to left, #424242, #37474F)',\r\n    // position: 'sticky',\r\n    // top: 0,\r\n    // zIndex: 15,\r\n  },\r\n  headerCell: {\r\n    fontFamily: 'Verdana',\r\n    fontSize: '14pt',\r\n    color: '#F48FB1',\r\n    position: 'sticky',\r\n    backgroundColor: \"#424242\",\r\n    // background: 'linear-gradient(to left, #424242, #37474F)',\r\n    top: 0,\r\n    zIndex: 10,\r\n  },\r\n  headerPosition: {\r\n    position: 'sticky',\r\n  },\r\n  cell: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n  pagination: {\r\n    //fontFamily: 'Microsoft JhengHei',\r\n  }\r\n});\r\n\r\nexport default styles\r\n","import React, {Component} from 'react'\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/musicTableStyle.js'\r\n\r\nclass EnhancedTableHead extends Component {\r\n  headerColumns = [\r\n    { id: 'title', numeric: false, disablePadding: false, label: 'Title' },\r\n    { id: 'artist', numeric: false, disablePadding: false, label: 'Artist' },\r\n  ];\r\n\r\n  render() {\r\n    const {classes} = this.props;\r\n    return (\r\n      <TableHead >\r\n        <TableRow className={classes.header}>\r\n          <TableCell padding=\"checkbox\" className={classes.headerCell}>\r\n            <Checkbox\r\n              onChange={this.props.event_onSelectAll}\r\n            />\r\n          </TableCell>\r\n          {this.headerColumns.map(row => {\r\n            return (\r\n              <TableCell\r\n                className={classes.headerCell}\r\n                key={row.id}\r\n                numeric={row.numeric}\r\n                padding={row.disablePadding ? 'none' : 'default'}\r\n              >\r\n                <TableSortLabel\r\n                  active={row.id===this.props.orderBy}\r\n                  direction={this.props.order}\r\n                  onClick={() => this.props.event_onSortLabelClick(row.id)}\r\n                >\r\n                  {row.label}\r\n                </TableSortLabel>\r\n              </TableCell>\r\n            );\r\n          }, this)}\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nclass EnhancedTable extends Component {\r\n  render() {\r\n    const {classes, page, rowsPerPage} = this.props;\r\n    const count = this.props.songs.length\r\n    return (\r\n      <Paper>\r\n        <div className={classes.table}>\r\n          <Table padding='dense'>\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              order = {this.props.order}\r\n              orderBy = {this.props.orderBy}\r\n              event_onSortLabelClick = {this.props.event_onSortLabelClick}\r\n              event_onSelectAll = {this.props.event_onSelectAll}\r\n            />\r\n            <TableBody>\r\n              {this.props.songs.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(song => {\r\n                const isSelected = this.props.selected.includes(song.id);\r\n                return (\r\n                  <TableRow\r\n                    hover\r\n                    selected={isSelected}\r\n                    onClick = {(event) => this.props.event_onSelect(event, song.id)}\r\n                    onDoubleClick = {()=>this.props.event_onDoubleClick(song)}\r\n                    key = {song.id}\r\n                  >\r\n                    <TableCell padding=\"checkbox\">\r\n                    </TableCell>\r\n                    <TableCell className={classes.cell}>\r\n                      {song.title}\r\n                    </TableCell>\r\n                    <TableCell className={classes.cell}>\r\n                      {song.artist}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                )\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n        <TablePagination\r\n          labelRowsPerPage='每頁顯示: '\r\n          count = {count}\r\n          rowsPerPage={rowsPerPage}\r\n          rowsPerPageOptions={[10, 25, count<50? 50:count]}\r\n          page={page}\r\n          backIconButtonProps={{\r\n            'aria-label': 'Previous Page',\r\n          }}\r\n          nextIconButtonProps={{\r\n            'aria-label': 'Next Page',\r\n          }}\r\n          onChangePage={this.props.event_onChangePage}\r\n          onChangeRowsPerPage={this.props.event_onChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass MusicTable extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div>\r\n        <EnhancedTable\r\n          classes={classes}\r\n          totalCount = {this.props.totalCount}\r\n          songs = {this.props.songs}\r\n          order = {this.props.order}\r\n          orderBy = {this.props.orderBy}\r\n          selected = {this.props.selected}\r\n          page = {this.props.page}\r\n          rowsPerPage = {this.props.rowsPerPage}\r\n          event_onSortLabelClick = {this.props.event_onSortLabelClick}\r\n          event_onSelect = {this.props.event_onSelect}\r\n          event_onSelectAll = {this.props.event_onSelectAll}\r\n          event_onChangePage = {this.props.event_onChangePage}\r\n          event_onChangeRowsPerPage = {this.props.event_onChangeRowsPerPage}\r\n          event_onDoubleClick={this.props.event_onDoubleClick}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MusicTable)\r\n","export const refreshTableAction = (songs) => ({\r\n  type: 'REFRESH_TABLE',\r\n  songs: songs\r\n})\r\n\r\nexport const changeSortAction = (orderBy) => ({\r\n  type: 'CHANGE_SORT',\r\n  orderBy: orderBy\r\n})\r\n\r\nexport const selectSongAction = (id) => ({\r\n  type: 'SELECT_SONG',\r\n  id: id\r\n})\r\n\r\nexport const selectAllAction = (checked) => ({\r\n  type: 'SELECT_ALL',\r\n  checked: checked\r\n})\r\n\r\nexport const changePageAction = (page) => ({\r\n  type: 'CHANGE_PAGE',\r\n  page: page\r\n})\r\n\r\nexport const changeRowsPerPageAction = (rowsPerPage) => ({\r\n  type: 'CHANGE_ROWS_PER_PAGE',\r\n  rowsPerPage: rowsPerPage\r\n})\r\n\r\nexport const musicTableDoubleClickAction = (song) => ({\r\n  type: 'PLAY_SONG_FROM_TABLE',\r\n  song: song\r\n})\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport MusicTable from '../components/MusicTable.js'\r\n\r\nimport {refreshTableAction, changeSortAction, selectSongAction, selectAllAction, changePageAction, changeRowsPerPageAction, musicTableDoubleClickAction} from '../actions/musicTableActions'\r\n\r\nimport naturalCompare from 'string-natural-compare'\r\n\r\nclass MusicTableContainer extends Component {\r\n\r\n  sortSongs() {\r\n    this.props.songs.sort((a,b) => {\r\n      if(this.props.orderBy === 'title') {\r\n        return this.props.order==='asc'? naturalCompare.caseInsensitive(a.title, b.title):-naturalCompare.caseInsensitive(a.title, b.title);\r\n      } else if (this.props.orderBy === 'artist') {\r\n        return this.props.order==='asc'? naturalCompare.caseInsensitive(a.artist, b.artist):-naturalCompare.caseInsensitive(a.artist, b.artist);\r\n      } else {\r\n        return -naturalCompare.caseInsensitive(a.createdTime, b.createdTime);\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    this.sortSongs();\r\n    return (\r\n      <MusicTable\r\n        order = {this.props.order}\r\n        orderBy = {this.props.orderBy}\r\n        songs = {this.props.songs}\r\n        selected = {this.props.selected}\r\n        page = {this.props.page}\r\n        rowsPerPage = {this.props.rowsPerPage}\r\n        event_onSortLabelClick = {this.props.event_onSortLabelClick}\r\n        event_onSelect = {this.props.event_onSelect}\r\n        event_onSelectAll = {this.props.event_onSelectAll}\r\n        event_onChangePage = {this.props.event_onChangePage}\r\n        event_onChangeRowsPerPage = {this.props.event_onChangeRowsPerPage}\r\n        event_onDoubleClick={this.props.event_onDoubleClick}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n  songs: state.musicTableReducer.songs,\r\n  order: state.musicTableReducer.order,\r\n  orderBy: state.musicTableReducer.orderBy,\r\n  selected: state.musicTableReducer.selected,\r\n  page: state.musicTableReducer.page,\r\n  rowsPerPage: state.musicTableReducer.rowsPerPage,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_onDatabaseCreate: (data) => {\r\n    dispatch(refreshTableAction(data));\r\n  },\r\n  event_onSortLabelClick: (orderBy) => {\r\n    dispatch(changeSortAction(orderBy))\r\n  },\r\n  event_onSelect: (event, id) => {\r\n    dispatch(selectSongAction(id))\r\n  },\r\n  event_onSelectAll: (event) => {\r\n    dispatch(selectAllAction(event.target.checked))\r\n  },\r\n  event_onChangePage: (event, page) => {\r\n    dispatch(changePageAction(page))\r\n  },\r\n  event_onChangeRowsPerPage: (event) => {\r\n    dispatch(changeRowsPerPageAction(event.target.value))\r\n  },\r\n  event_onDoubleClick: (song) => {\r\n    dispatch(musicTableDoubleClickAction(song))\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicTableContainer)\r\n","const styles = theme => ({\r\n  toolbar: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: '5px',\r\n  },\r\n  accountCircle: {\r\n    paddingRight: '10px'\r\n  },\r\n  button: {\r\n    fontFamily: 'Arial',\r\n    textTransform:'none'\r\n  },\r\n});\r\n\r\nexport default styles\r\n","import React, {Component} from 'react'\r\n\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport PlaylistAdd from '@material-ui/icons/PlaylistAdd';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport HelpOutline from '@material-ui/icons/HelpOutline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/musicTableToolbarStyle.js'\r\n\r\nclass MusicTableToolbar extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n    const numSelected = this.props.selected.length;\r\n    const accountText = (this.props.loginAccount !== '' && this.props.loginAccount !== undefined)? this.props.loginAccount:'Login here';\r\n\r\n    return (\r\n        <Toolbar className={classes.toolbar}>\r\n          <Grid container spacing={0}>\r\n            <Grid item xs={6} >\r\n              <Button\r\n                className={classes.button}\r\n                color='primary'\r\n                onClick={this.props.event_onLoginClick}\r\n              >\r\n                <AccountCircle className={classes.accountCircle}/>\r\n                {accountText}\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={6} container spacing={0}>\r\n              <Grid item>\r\n                <Button color='primary' disabled={numSelected!==1} onClick={this.props.event_onEditSongClick}>\r\n                  <EditIcon/>\r\n                </Button>\r\n              </Grid>\r\n              <Grid item>\r\n                <Button color='primary' disabled={numSelected===0} onClick={this.props.event_onDeleteSongClick}>\r\n                  <DeleteIcon />\r\n                </Button>\r\n              </Grid>\r\n              <Grid item>\r\n                <Button color='primary' disabled={numSelected===0} onClick={this.props.event_onAddSongToPlaylist}>\r\n                  <PlaylistAdd />\r\n                </Button>\r\n              </Grid>\r\n              <Grid item>\r\n                <Button color='primary' onClick={this.props.event_onHelpClick}>\r\n                  <HelpOutline />\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MusicTableToolbar)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass LoginDialog extends Component {\r\n  render() {\r\n    const {displayLoginDialog, event_onLoginInputChange, event_onLoginClose} = this.props;\r\n    const {classes} = this.props\r\n    return (\r\n      <Dialog\r\n        open = {displayLoginDialog}\r\n        modal = 'true'\r\n      >\r\n        <DialogContent>\r\n          <Input\r\n            autoFocus\r\n            className={classes.input}\r\n            placeholder={'Enter your account ...'}\r\n            onChange={event_onLoginInputChange}\r\n          />\r\n          <Button disabled={this.props.userNameInput.trim()===''} color='secondary' onClick={()=>event_onLoginClose(true)}>\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>event_onLoginClose(false)}>\r\n            Cancel\r\n          </Button>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n})\r\n\r\nexport default withStyles(styles)(LoginDialog)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass EditSongDialog extends Component {\r\n  render() {\r\n    const {classes} = this.props\r\n    return (\r\n      <Dialog\r\n        open = {this.props.displayEditSongDialog}\r\n        modal = 'true'\r\n        onClose = {()=>this.props.event_onEditSongClose(false)}\r\n        maxWidth='sm'\r\n        fullWidth\r\n      >\r\n        <DialogContent>\r\n          <Grid container spacing={8} direction='column'>\r\n            <Grid item container>\r\n              <Grid item xs={10} >\r\n                <Input\r\n                  className={classes.input}\r\n                  fullWidth\r\n                  placeholder='Title'\r\n                  value={this.props.editSong.title}\r\n                  onChange={this.props.event_onEditSongTitleChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={2}>\r\n                <Button\r\n                  color='secondary'\r\n                  onClick={()=>this.props.event_onEditSongClose(true)}\r\n                >\r\n                  OK\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item container>\r\n              <Grid item xs={10}>\r\n                <Input\r\n                  className={classes.input}\r\n                  fullWidth\r\n                  placeholder='Artist'\r\n                  value={this.props.editSong.artist}\r\n                  onChange={this.props.event_onEditSongArtistChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={2}>\r\n                <Button\r\n                  color='primary'\r\n                  onClick={()=>this.props.event_onEditSongClose(false)}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n});\r\n\r\nexport default withStyles(styles)(EditSongDialog)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nclass DeleteSongDialog extends Component {\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open = {this.props.displayDeleteSongDialog}\r\n        modal = 'true'\r\n        onClose = {()=>this.props.event_onDeleteSongClose(false)}\r\n      >\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Delete this song ?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button color='secondary' onClick={()=>this.props.event_onDeleteSongClose(true)} >\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>this.props.event_onDeleteSongClose(false)} >\r\n            Cancel\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeleteSongDialog\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass HelpDialog extends Component {\r\n  render() {\r\n    const {classes} = this.props\r\n    return (\r\n      <Dialog\r\n        open = {this.props.displayHelpDialog}\r\n        modal = 'true'\r\n        onClose = {this.props.event_onHelpClose}\r\n        maxWidth = 'false'\r\n      >\r\n        <DialogContent fullWidth>\r\n          <DialogContentText className={classes.text}>\r\n            1. 輸入使用者名稱(無須密碼)\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n            2. 加入喜歡的Youtube歌曲至歌庫(將Youtube網址貼上即可，可自己編輯歌名與演唱者)\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n            3. 在歌庫點兩下滑鼠即可播放，亦可在右方建立播放清單，將歌曲加入\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n            4. 進入相同名稱的Room，即可與同一個Room的人共享歌單\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n            <a href='https://github.com/Joe771010/fragileplayer2' target=\"_blank\" className={classes.github}>\r\n              Source code on Github\r\n            </a>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  text: {\r\n    fontFamily: 'Microsoft JhengHei',\r\n  },\r\n  github: {\r\n    // fontFamily: 'Microsoft JhengHei',\r\n    color: 'pink',\r\n  },\r\n});\r\n\r\nexport default withStyles(styles)(HelpDialog)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport MusicTableToolbar from '../components/MusicTableToolbar.js'\r\nimport LoginDialog from '../components/LoginDialog.js'\r\nimport EditSongDialog from '../components/EditSongDialog.js'\r\nimport DeleteSongDialog from '../components/DeleteSongDialog.js'\r\nimport HelpDialog from '../components/HelpDialog.js'\r\n\r\nimport {loginOpenAction, loginInputChangeAction, loginCloseAction, resetAccountAction} from '../actions/accountActions.js'\r\nimport {editSongOpenAction, editSongCloseAction, editSongTitleChangeAction, editSongArtistChangeAction, deleteSongOpenAction, deleteSongCloseAction, helpAction, helpCloseAction} from '../actions/musicTableToolbarActions.js'\r\nimport {addSongToPlaylistAction} from '../actions/playlistActions.js'\r\n\r\nclass MusicTableToolbarContainer extends Component {\r\n\r\n  event_onLoginClose(isChangingAccount) {\r\n    if(isChangingAccount && this.props.userNameInput !== '') {\r\n      this.props.event_onLoginAccountChange(this.props.userNameInput)\r\n      this.props.closeLoginDialog(isChangingAccount, this.props.userNameInput)\r\n    } else {\r\n      this.props.closeLoginDialog(false, this.props.userNameInput)\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    this.selectedSongs = [];\r\n    this.props.selected.forEach(s => {\r\n      this.selectedSongs.push(this.props.songs.find((x) => {\r\n        return x.id === s\r\n      }))\r\n    })\r\n    return (\r\n      <div style={{paddingTop:'10px'}}>\r\n        <MusicTableToolbar\r\n          selected={this.props.selected}\r\n          loginAccount={this.props.loginAccount}\r\n          event_onLoginClick={this.props.event_onLoginClick}\r\n          event_onEditSongClick={()=>this.props.event_onEditSongClick(this.selectedSongs[0])}\r\n          event_onDeleteSongClick={this.props.event_onDeleteSongClick}\r\n          event_onHelpClick={this.props.event_onHelpClick}\r\n          event_onAddSongToPlaylist={()=>{\r\n            this.props.event_onAddSongToPlaylist()\r\n            this.props.send_addSongToPlaylistAction(this.selectedSongs, this.props.loginAccount)\r\n          }}\r\n        />\r\n        <LoginDialog\r\n          userNameInput={this.props.userNameInput}\r\n          displayLoginDialog={this.props.displayLoginDialog}\r\n          event_onLoginInputChange={this.props.event_onLoginInputChange}\r\n          event_onLoginClose={(isChangingAccount)=>this.event_onLoginClose(isChangingAccount)}\r\n        />\r\n        <EditSongDialog\r\n          displayEditSongDialog = {this.props.displayEditSongDialog}\r\n          editSong = {this.props.editSong}\r\n          event_onEditSongClose = {(result)=>{\r\n            this.props.event_finishEditSong(result)\r\n            this.props.event_onEditSongClose()}\r\n          }\r\n          event_onEditSongTitleChange = {this.props.event_onEditSongTitleChange}\r\n          event_onEditSongArtistChange = {this.props.event_onEditSongArtistChange}\r\n        />\r\n        <DeleteSongDialog\r\n          displayDeleteSongDialog = {this.props.displayDeleteSongDialog}\r\n          event_onDeleteSongClose = {(result)=>{\r\n            this.props.event_finishDeleteSong(result)\r\n            this.props.event_onDeleteSongClose()}\r\n          }\r\n        />\r\n        <HelpDialog\r\n          displayHelpDialog = {this.props.displayHelpDialog}\r\n          event_onHelpClose = {this.props.event_onHelpClose}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  songs: state.musicTableReducer.songs,\r\n  selected: state.musicTableReducer.selected,\r\n\r\n  displayLoginDialog: state.accountReducer.displayLoginDialog,\r\n  userNameInput: state.accountReducer.userNameInput,\r\n  loginAccount: state.accountReducer.loginAccount,\r\n\r\n  displayEditSongDialog: state.musicTableToolbarReducer.displayEditSongDialog,\r\n  displayDeleteSongDialog: state.musicTableToolbarReducer.displayDeleteSongDialog,\r\n  displayHelpDialog: state.musicTableToolbarReducer.displayHelpDialog,\r\n  editSong: state.musicTableToolbarReducer.editSong,\r\n\r\n  currentRoom: state.playlistReducer.currentRoom,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  // ---------- login ----------\r\n  event_onLoginClick: () => {\r\n    dispatch(loginOpenAction())\r\n  },\r\n  event_onLoginInputChange: (event) => {\r\n    dispatch(loginInputChangeAction(event.target.value))\r\n  },\r\n  closeLoginDialog: (isChangingAccount, userNameInput) => {\r\n    dispatch(loginCloseAction())\r\n    if(isChangingAccount) dispatch(resetAccountAction(userNameInput))\r\n  },\r\n  // ---------- edit song ----------\r\n  event_onEditSongClick: (editSong) => {\r\n    dispatch(editSongOpenAction(editSong))\r\n  },\r\n  event_onEditSongClose: () => {\r\n    dispatch(editSongCloseAction())\r\n  },\r\n  event_onEditSongTitleChange: (event) => {\r\n    dispatch(editSongTitleChangeAction(event.target.value))\r\n  },\r\n  event_onEditSongArtistChange: (event) => {\r\n    dispatch(editSongArtistChangeAction(event.target.value))\r\n  },\r\n  // ---------- delete song ----------\r\n  event_onDeleteSongClick: () => {\r\n    dispatch(deleteSongOpenAction())\r\n  },\r\n  event_onDeleteSongClose: () => {\r\n    dispatch(deleteSongCloseAction())\r\n  },\r\n  // ---------- playlist ----------\r\n  send_addSongToPlaylistAction: (songs, account) => {\r\n    dispatch(addSongToPlaylistAction(songs, account))\r\n  },\r\n  // ---------- help ----------\r\n  event_onHelpClick: () => {\r\n    dispatch(helpAction())\r\n  },\r\n  event_onHelpClose: () => {\r\n    dispatch(helpCloseAction())\r\n  }\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicTableToolbarContainer)\r\n","export const loginOpenAction = () => ({\r\n  type: 'LOGIN_OPEN'\r\n})\r\n\r\nexport const loginInputChangeAction = (userNameInput) => ({\r\n  type: 'LOGIN_INPUT_CHANGE',\r\n  userNameInput: userNameInput\r\n})\r\n\r\nexport const loginCloseAction = () => ({\r\n  type: 'LOGIN_CLOSE',\r\n})\r\n\r\nexport const resetAccountAction = (userNameInput) => ({\r\n  type: 'RESET_ACCOUNT',\r\n  userNameInput: userNameInput\r\n})\r\n","export const editSongOpenAction = (editSong) => ({\r\n  type: 'EDIT_SONG_INIT',\r\n  editSong: editSong\r\n})\r\n\r\nexport const editSongCloseAction = () => ({\r\n  type: 'EDIT_SONG_CLOSE',\r\n})\r\n\r\nexport const editSongTitleChangeAction = (title) => ({\r\n  type: 'EDIT_SONG_TITLE_CHANGE',\r\n  title: title\r\n})\r\n\r\nexport const editSongArtistChangeAction = (artist) => ({\r\n  type: 'EDIT_SONG_ARTIST_CHANGE',\r\n  artist: artist\r\n})\r\n\r\nexport const deleteSongOpenAction = () => ({\r\n  type: 'DELETE_SONG_OPEN',\r\n})\r\n\r\nexport const deleteSongCloseAction = () => ({\r\n  type: 'DELETE_SONG_CLOSE',\r\n})\r\n\r\nexport const helpAction = () => ({\r\n  type: 'OPEN_HELP_DIALOG',\r\n})\r\n\r\nexport const helpCloseAction = () => ({\r\n  type: 'CLOSE_HELP_DIALOG',\r\n})\r\n","import React, {Component} from 'react'\r\n\r\nimport PlaylistToolbarContainer from '../containers/PlaylistToolbarContainer.js'\r\nimport PlaylistContainer from '../containers/PlaylistContainer.js'\r\nimport PlayerContainer from '../containers/PlayerContainer.js'\r\nimport RoomContainer from '../containers/RoomContainer.js'\r\n\r\nimport AddNewSongContainer from '../containers/AddNewSongContainer.js'\r\nimport MusicTableContainer from '../containers/MusicTableContainer.js'\r\nimport MusicTableToolbarContainer from '../containers/MusicTableToolbarContainer.js'\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass Account extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    const playlist = (\r\n      <PlaylistContainer\r\n        event_onPlaylistSongMove={this.props.event_onPlaylistSongMove}\r\n      />\r\n    );\r\n    const room = (\r\n      <RoomContainer\r\n        event_onRoomSongDelete={this.props.event_onRoomSongDelete}\r\n      />\r\n    );\r\n\r\n    return (\r\n      <Grid container spacing={8} className={classes.main}>\r\n\r\n        <Grid item container spacing={8}>\r\n          <Grid item xs={7} className={classes.musicTableToolbarBorder}>\r\n            <MusicTableToolbarContainer\r\n              event_onLoginAccountChange={this.props.event_onLoginAccountChange}\r\n              event_finishEditSong={this.props.event_finishEditSong}\r\n              event_finishDeleteSong={this.props.event_finishDeleteSong}\r\n              event_onAddSongToPlaylist={this.props.event_onAddSongToPlaylist}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={5} className={classes.playlistToolbarBorder}>\r\n            <PlaylistToolbarContainer\r\n              event_onDeletePlaylist={this.props.event_onDeletePlaylist}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item container spacing={8}>\r\n          <Grid item xs={7} className={classes.musicTableBorder}>\r\n            <MusicTableContainer />\r\n          </Grid>\r\n          <Grid item xs={5} className={classes.playlistBorder}>\r\n            {this.props.currentRoom===undefined? playlist: room}\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item container spacing={8}>\r\n          <Grid item xs={7} className={classes.addNewSongBorder}>\r\n            <AddNewSongContainer\r\n              event_addNewSong={this.props.event_addNewSong}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={5} className={classes.playerBorder}>\r\n            <PlayerContainer />\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    maxWidth: '1200px',\r\n  },\r\n  musicTableToolbarBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#FFCDD2',\r\n    // borderStyle: 'dashed',\r\n    // backgroundColor: '#424242',\r\n    // borderRadius: '5px',\r\n  },\r\n  playlistToolbarBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#1DE9B6',\r\n    // borderStyle: 'dashed',\r\n    // backgroundColor: '#424242',\r\n    // borderRadius: '5px',\r\n  },\r\n  musicTableBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#D50000',\r\n    // borderStyle: 'dashed',\r\n  },\r\n  addNewSongBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#B388FF',\r\n    // borderStyle: 'dashed',\r\n    // backgroundColor: '#424242',\r\n    // background: 'linear-gradient(to bottom, #424242, #313131)',\r\n    // borderRadius: '5px',\r\n  },\r\n  playlistBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#424242',\r\n    // borderStyle: 'dashed',\r\n  },\r\n  playerBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#FFD600',\r\n    // borderStyle: 'dashed',\r\n    // backgroundColor: '#424242',\r\n    // borderRadius: '5px',\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(Account)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport format from 'date-fns/format'\r\n\r\nimport Account from '../components/Account.js'\r\n\r\nimport {refreshTableAction} from '../actions/musicTableActions'\r\nimport {refreshPlaylistsAction} from '../actions/playlistActions'\r\n\r\nclass AccountContainer extends Component {\r\n\r\n  componentWillMount() {\r\n    const config = {\r\n      apiKey: \"AIzaSyDsiMCX9o5ht0nvR-2YpydKoc3acvDWxBk\",\r\n      authDomain: \"fragileplayer2.firebaseapp.com\",\r\n      databaseURL: \"https://fragileplayer2.firebaseio.com\",\r\n      projectId: \"fragileplayer2\",\r\n      storageBucket: \"fragileplayer2.appspot.com\",\r\n      messagingSenderId: \"616243676456\"\r\n    };\r\n    firebase.initializeApp(config);\r\n\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if(user.isAnonymous){\r\n        console.log('sign in anonymously')\r\n      }\r\n    })\r\n\r\n    this.event_onLoginAccountChange(this.props.loginAccount)\r\n  }\r\n\r\n  event_onLoginAccountChange(accountName) {\r\n    this._refreshSongs(accountName)\r\n    this._refreshPlaylists(accountName)\r\n  }\r\n\r\n  _refreshSongs(accountName) {\r\n    // get songs from database\r\n    this._count = 0;\r\n    this._firebaseRef = firebase.database().ref('users/' + accountName)\r\n    this._firebaseRef.child('songs').once('value', (dbSongs) => {\r\n      let songs = [];\r\n      this._count = 0;\r\n      dbSongs.forEach((dbSong) => {\r\n        let song = {\r\n          id: this._count,\r\n          videoId: dbSong.val().video_id,\r\n          title: dbSong.val().title,\r\n          artist: dbSong.val().artist,\r\n          createdTime: dbSong.val().createdTime===undefined? '':dbSong.val().createdTime\r\n        }\r\n        songs.push(song);\r\n        this._count = this._count + 1;\r\n      });\r\n\r\n      // send action\r\n      this.props.event_onSongsFetch(songs);\r\n      console.log('totally ' + (this._count) + ' songs');\r\n    });\r\n  }\r\n\r\n  _refreshPlaylists(accountName) {\r\n    // get playlist names from database\r\n    this.firebaseRef2 = firebase.database().ref('users/' + accountName + '/playlists');\r\n    this.firebaseRef2.once('value', dbPlaylists => {\r\n      let playlists = [];\r\n      dbPlaylists.forEach(dbPlaylist => {\r\n        playlists.push(dbPlaylist.key)\r\n      })\r\n\r\n      // send action\r\n      this.props.event_onPlaylistsFetch(playlists)\r\n      console.log('totally ' + (playlists.length) + ' playlists');\r\n    })\r\n  }\r\n\r\n  event_addNewSong() {\r\n    const {videoId, title, artist} = this.props;\r\n    // use videoId as key, so we can prevent add repeated songs\r\n    let newSong = {\r\n      [videoId]: {\r\n        title: title,\r\n        artist: artist,\r\n        video_id: videoId,\r\n        createdTime: format(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n      }\r\n    };\r\n    this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/songs');\r\n    this.firebaseRef.update(newSong)\r\n\r\n    this._refreshSongs(this.props.loginAccount)\r\n  }\r\n\r\n  event_finishEditSong(result) {\r\n    if(result === true) {\r\n      let updateSong = {\r\n        [this.props.editSong.videoId]: {\r\n          title: this.props.editSong.title,\r\n          artist: this.props.editSong.artist,\r\n          video_id: this.props.editSong.videoId,\r\n          createdTime: this.props.editSong.createdTime\r\n        }\r\n      };\r\n      this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/songs');\r\n      this.firebaseRef.update(updateSong);\r\n\r\n      this._refreshSongs(this.props.loginAccount)\r\n    }\r\n  }\r\n\r\n  event_finishDeleteSong(result) {\r\n    if(result === true){\r\n      let selectedSongs = [];\r\n      this.props.selected.forEach(s => {\r\n        selectedSongs.push(this.props.songs.find((x) => {\r\n          return x.id === s\r\n        }))\r\n      })\r\n\r\n      this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/songs');\r\n      selectedSongs.forEach(s=>{\r\n        this.firebaseRef.child(s.videoId).remove();\r\n      })\r\n      this._refreshSongs(this.props.loginAccount)\r\n    }\r\n  }\r\n\r\n  event_onAddSongToPlaylist() {\r\n    let data;\r\n    let selectedSong;\r\n    // add song to room\r\n    if (this.props.currentRoom !== undefined) {\r\n      // current songs in playlist\r\n      data = this.props.playlistSongs.map(song => ({\r\n        title: song.title,\r\n        artist: song.artist,\r\n        videoId: song.videoId,\r\n        owner: song.owner,\r\n      }));\r\n      // selected songs\r\n      this.props.selected.forEach(s => {\r\n        selectedSong = this.props.songs.find(x=>x.id===s);\r\n        data.push({\r\n          title: selectedSong.title,\r\n          artist: selectedSong.artist,\r\n          videoId: selectedSong.videoId,\r\n          owner: this.props.loginAccount,\r\n        })\r\n      })\r\n      this.updateRoom(data, this.props.currentRoom);\r\n      return;\r\n    }\r\n\r\n    // add song to playlist (臨時歌單不儲存資料庫)\r\n    if (this.props.currentPlaylist===undefined || this.props.currentPlaylist==='臨時歌單') return;\r\n    // current songs in playlist\r\n    data = this.props.playlistSongs.map(song => ({\r\n      title: song.title,\r\n      artist: song.artist,\r\n      videoId: song.videoId\r\n    }));\r\n    // selected songs\r\n    this.props.selected.forEach(s => {\r\n      selectedSong = this.props.songs.find(x=>x.id===s);\r\n      data.push({\r\n        title: selectedSong.title,\r\n        artist: selectedSong.artist,\r\n        videoId: selectedSong.videoId\r\n      })\r\n    })\r\n    this.updatePlaylist(data, this.props.currentPlaylist)\r\n  }\r\n\r\n  event_onPlaylistSongMove(type) {\r\n    let newPlaylistSongs = [...this.props.playlistSongs];\r\n    let idx = this.props.toolMenuIndex;\r\n    let tmp;\r\n    switch (type) {\r\n      case 'MOVE_UP':\r\n        if (idx === 0) return;\r\n        tmp = newPlaylistSongs[idx]\r\n        newPlaylistSongs[idx] = newPlaylistSongs[idx-1]\r\n        newPlaylistSongs[idx-1] = tmp\r\n        break;\r\n      case 'MOVE_DOWN':\r\n        if (idx === newPlaylistSongs.length-1) return;\r\n        tmp = newPlaylistSongs[idx]\r\n        newPlaylistSongs[idx] = newPlaylistSongs[idx+1]\r\n        newPlaylistSongs[idx+1] = tmp\r\n        break;\r\n      case 'DELETE':\r\n        newPlaylistSongs.splice(idx, 1)\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n    this.updatePlaylist(newPlaylistSongs, this.props.currentPlaylist)\r\n  }\r\n\r\n  event_onRoomSongDelete(song, index) {\r\n    if (song.owner !== this.props.loginAccount) {\r\n      alert('not the song owner')\r\n      return;\r\n    }\r\n    let newPlaylistSongs = [...this.props.playlistSongs];\r\n    newPlaylistSongs.splice(index, 1)\r\n    this.updateRoom(newPlaylistSongs, this.props.currentRoom)\r\n  }\r\n\r\n  updatePlaylist(songs, playlist) {\r\n    songs = songs.map((song)=>({\r\n      title: song.title,\r\n      artist: song.artist,\r\n      video_id: song.videoId\r\n    }))\r\n    this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/playlists/' + playlist);\r\n    this.firebaseRef.set(songs);\r\n  }\r\n\r\n  updateRoom(songs, room) {\r\n    songs = songs.map((song)=>({\r\n      title: song.title,\r\n      artist: song.artist,\r\n      video_id: song.videoId,\r\n      owner: song.owner,\r\n    }))\r\n    this.firebaseRef = firebase.database().ref('rooms/' + room);\r\n    this.firebaseRef.set(songs);\r\n  }\r\n\r\n  event_onDeletePlaylist() {\r\n    this.firebaseRef2 = firebase.database().ref('users/' + this.props.loginAccount + '/playlists');\r\n    this.firebaseRef2.child(this.props.currentPlaylist).remove();\r\n  }\r\n\r\n\r\n//   render() {\r\n//     return (\r\n//       <div className='app'>\r\n//         <div>\r\n//           <MusicTableToolbarContainer\r\n//             event_onLoginAccountChange={(accountName)=>this.event_onLoginAccountChange(accountName)}\r\n//             event_finishEditSong={(result)=>this.event_finishEditSong(result)}\r\n//             event_finishDeleteSong={(result)=>this.event_finishDeleteSong(result)}\r\n//             event_onAddSongToPlaylist={()=>this.event_onAddSongToPlaylist()}\r\n//           />\r\n//           <MusicTableContainer />\r\n//           <AddNewSongContainer\r\n//             event_addNewSong={()=>this.event_addNewSong()}\r\n//           />\r\n//         </div>\r\n//         <div>\r\n//           <PlaylistToolbarContainer\r\n//             event_onDeletePlaylist={()=>this.event_onDeletePlaylist()}\r\n//           />\r\n//           <PlaylistContainer\r\n//             event_onPlaylistSongMove={(type)=>this.event_onPlaylistSongMove(type)}\r\n//           />\r\n//         </div>\r\n//         <PlayerContainer />\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\n  render() {\r\n    return (\r\n      <Account\r\n        currentRoom={this.props.currentRoom}\r\n        event_onLoginAccountChange={(accountName)=>this.event_onLoginAccountChange(accountName)}\r\n        event_finishEditSong={(result)=>this.event_finishEditSong(result)}\r\n        event_finishDeleteSong={(result)=>this.event_finishDeleteSong(result)}\r\n        event_onAddSongToPlaylist={()=>this.event_onAddSongToPlaylist()}\r\n        event_addNewSong={()=>this.event_addNewSong()}\r\n        event_onDeletePlaylist={()=>this.event_onDeletePlaylist()}\r\n        event_onPlaylistSongMove={(type)=>this.event_onPlaylistSongMove(type)}\r\n        event_onRoomSongDelete={(song, index)=>this.event_onRoomSongDelete(song, index)}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n\r\n  videoId: state.addNewSongReducer.videoId,\r\n  artist: state.addNewSongReducer.artist,\r\n  title: state.addNewSongReducer.title,\r\n\r\n  editSong: state.musicTableToolbarReducer.editSong,\r\n  songs: state.musicTableReducer.songs,\r\n  selected: state.musicTableReducer.selected,\r\n\r\n  currentPlaylist: state.playlistReducer.currentPlaylist,\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n\r\n  currentRoom: state.playlistReducer.currentRoom,\r\n\r\n  toolMenuIndex: state.playlistReducer.toolMenuIndex,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_onSongsFetch: (songs) => {\r\n    dispatch(refreshTableAction(songs));\r\n  },\r\n  event_onPlaylistsFetch: (playlists) => {\r\n    dispatch(refreshPlaylistsAction(playlists))\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountContainer)\r\n","import React, {Component} from 'react'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nclass LayoutTest extends Component {\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <Grid container spacing={8}>\r\n\r\n        <Grid item container spacing={8}>\r\n          <Grid item xs={7}>\r\n            <Paper className={classes.musicTableToolbar}>MusicTableToolbar</Paper>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Paper className={classes.playlistToolbar}>PlaylistToolbar</Paper>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item container spacing={8}>\r\n          <Grid item xs={7} container spacing={0} direction='column'>\r\n            <Grid item>\r\n              <Paper className={classes.musicTable}>MusicTable</Paper>\r\n            </Grid>\r\n            <Grid item>\r\n              <Paper className={classes.addNewSong}>AddNewSong</Paper>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Paper className={classes.playlist}>Playlist</Paper>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item container spacing={8}>\r\n          <Grid item xs={7}>\r\n            <Paper className={classes.player}>Player</Paper>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Paper className={classes.logo}>Logo</Paper>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  musicTableToolbar: {\r\n    borderColor: '#FFCDD2',\r\n    borderStyle: 'dashed'\r\n  },\r\n  musicTable: {\r\n    borderColor: '#D50000',\r\n    borderStyle: 'dashed'\r\n  },\r\n  addNewSong: {\r\n    borderColor: '#AA00FF',\r\n    borderStyle: 'dashed'\r\n  },\r\n  playlistToolbar: {\r\n    borderColor: '#304FFE',\r\n    borderStyle: 'dashed'\r\n  },\r\n  playlist: {\r\n    borderColor: '#18FFFF',\r\n    borderStyle: 'dashed'\r\n  },\r\n  player: {\r\n    borderColor: '#FF6F00',\r\n    borderStyle: 'dashed'\r\n  },\r\n  logo: {\r\n    borderColor: '#00C853',\r\n    borderStyle: 'dashed'\r\n  },\r\n});\r\n\r\nexport default withStyles(styles)(LayoutTest)\r\n","import React, { Component } from 'react';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n// import purple from '@material-ui/core/colors/purple';\n// import green from '@material-ui/core/colors/green';\n// import orange from '@material-ui/core/colors/orange';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport lightGreen from '@material-ui/core/colors/lightGreen';\nimport pink from '@material-ui/core/colors/pink';\nimport teal from '@material-ui/core/colors/teal';\n\nimport AccountContainer from './containers/AccountContainer.js'\n\nimport LayoutTest from './LayoutTest.js'\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark', // Switching the dark mode on is a single property value change.\n    primary: lightBlue,\n    // secondary: pink,\n    secondary: {\n      main: '#F48FB1',\n    },\n  },\n  overrides: {\n    MuiSlider: {\n      track: { backgroundColor: '#F06292' },\n      thumb: { backgroundColor: '#EC407A' },\n    },\n    MuiTableRow: {\n      selected: {\n        backgroundColor: '#F48FB1 !important',\n      },\n    },\n    // MuiListItem: {\n    //   selected: {\n    //     backgroundColor: '#F48FB1 !important',\n    //   },\n    // }\n  }\n});\n\nclass App extends Component {\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <AccountContainer />\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = () => ({\r\n  url: '',\r\n  videoId: '',\r\n  artist: '',\r\n  title: ''\r\n})\r\n\r\nconst addNewSongReducer  = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'URL_CHANGE':\r\n      return Object.assign({}, state, {\r\n        url: action.url\r\n      })\r\n    case 'ARTIST_CHANGE':\r\n      return Object.assign({}, state, {\r\n        artist: action.artist\r\n      })\r\n    case 'TITLE_CHANGE':\r\n      return Object.assign({}, state, {\r\n        title: action.title\r\n      })\r\n    case 'AUTO_SET_INFO':\r\n      return Object.assign({}, state, {\r\n        videoId: action.videoId,\r\n        artist: action.artist,\r\n        title: action.title\r\n      })\r\n    case 'CLEAR_INPUT':\r\n        return initialState();\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default addNewSongReducer\r\n","const initialState = () => ({\r\n  songs: [],\r\n  order: 'asc',\r\n  orderBy: 'createdTime',\r\n  selected: [],\r\n  page: 0,\r\n  rowsPerPage: 25,\r\n})\r\n\r\nconst musicTableReducer  = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'REFRESH_TABLE':\r\n      return Object.assign({}, state, {\r\n        songs: action.songs\r\n      })\r\n    case 'CHANGE_SORT':\r\n      if(state.orderBy === action.orderBy) {\r\n        return Object.assign({}, state, {\r\n          order: (state.order==='asc')? 'desc':'asc'\r\n        })\r\n      }\r\n      return Object.assign({}, state, {\r\n        order: 'asc',\r\n        orderBy: action.orderBy\r\n      })\r\n    case 'SELECT_SONG':\r\n      if(!state.selected.includes(action.id)) {\r\n        let newSelected = [...state.selected, action.id];\r\n        return Object.assign({}, state, {\r\n          selected: newSelected\r\n        })\r\n      }\r\n      else {\r\n        let newSelected = [...state.selected];\r\n        newSelected.splice(newSelected.indexOf(action.id), 1)\r\n        return Object.assign({}, state, {\r\n          selected: newSelected\r\n        })\r\n      }\r\n    case 'SELECT_ALL':\r\n      if (action.checked) {\r\n        return Object.assign({}, state, {\r\n          selected: state.songs.map(x=>x.id)\r\n        })\r\n      } else {\r\n        return Object.assign({}, state, {\r\n          selected: []\r\n        })\r\n      }\r\n    case 'CHANGE_PAGE':\r\n      return Object.assign({}, state, {\r\n        page: action.page\r\n      })\r\n    case 'CHANGE_ROWS_PER_PAGE':\r\n      return Object.assign({}, state, {\r\n        rowsPerPage: action.rowsPerPage\r\n      })\r\n    case 'EDIT_SONG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        selected: [],\r\n      })\r\n    case 'DELETE_SONG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        selected: [],\r\n      })\r\n    case 'ADD_SONG_TO_PLAYLIST':\r\n      return Object.assign({}, state, {\r\n        selected: [],\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default musicTableReducer\r\n","const initialState = () => ({\r\n  editSong: {},\r\n  displayEditSongDialog: false,\r\n  displayDeleteSongDialog: false,\r\n  displayHelpDialog: false,\r\n})\r\n\r\nconst musicTableToolbarReducer = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'EDIT_SONG_INIT':\r\n      return Object.assign({}, state, {\r\n        editSong: action.editSong,\r\n        displayEditSongDialog: true\r\n      })\r\n    case 'EDIT_SONG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        editSong: {},\r\n        displayEditSongDialog: false,\r\n      })\r\n    case 'EDIT_SONG_TITLE_CHANGE':\r\n      return Object.assign({}, state, {\r\n        editSong: Object.assign({}, state.editSong, {\r\n          title: action.title\r\n        })\r\n      })\r\n    case 'EDIT_SONG_ARTIST_CHANGE':\r\n      return Object.assign({}, state, {\r\n        editSong: Object.assign({}, state.editSong, {\r\n          artist: action.artist\r\n        })\r\n      })\r\n    case 'DELETE_SONG_OPEN':\r\n      return Object.assign({}, state, {\r\n        displayDeleteSongDialog: true,\r\n      })\r\n    case 'DELETE_SONG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        displayDeleteSongDialog: false,\r\n      })\r\n    case 'OPEN_HELP_DIALOG':\r\n      return Object.assign({}, state, {\r\n        displayHelpDialog: true,\r\n      })\r\n    case 'CLOSE_HELP_DIALOG':\r\n      return Object.assign({}, state, {\r\n        displayHelpDialog: false,\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default musicTableToolbarReducer\r\n","const initialState = () => ({\r\n  loginAccount: undefined,\r\n  displayLoginDialog: false,\r\n  userNameInput: '',\r\n})\r\n\r\nconst accountReducer = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN_OPEN':\r\n      return Object.assign({}, state, {\r\n        displayLoginDialog: true\r\n      })\r\n    case 'LOGIN_CLOSE'  :\r\n      return Object.assign({}, state, {\r\n        displayLoginDialog: false,\r\n        userNameInput: ''\r\n      })\r\n    case 'LOGIN_INPUT_CHANGE':\r\n      return Object.assign({}, state, {\r\n        userNameInput: action.userNameInput\r\n      })\r\n    case 'RESET_ACCOUNT':\r\n      console.log('change account to ' + action.userNameInput);\r\n      return Object.assign({}, state, {\r\n        loginAccount: action.userNameInput\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default accountReducer\r\n","const initialState = () => ({\r\n  // all saved playlists of the account\r\n  playlists: [],\r\n\r\n  // current playlist and song\r\n  currentPlaylist: undefined,\r\n  currentSongIndex: 0,\r\n  playlistSongs: [],\r\n\r\n  // dialog for creating new playlist\r\n  displayNewPlaylistDialog: false,\r\n  newPlaylist: '',\r\n\r\n  // dialog for removing playlist\r\n  displayDeletePlaylistDialog: false,\r\n\r\n  // dialog for entering room\r\n  displayEnterRoomDialog: false,\r\n  enterRoomName: '',\r\n\r\n  // room\r\n  currentRoom: undefined,\r\n\r\n  // menu for song moving and deleting\r\n  toolMenuAnchor: null,\r\n  toolMenuIndex: undefined,\r\n})\r\n\r\nconst CONST_TEMP_PLAYLIST = '臨時歌單';\r\n\r\nconst playlistReducer = (state = initialState(), action) => {\r\n  let newPlaylistSongs;\r\n  let tmp;\r\n\r\n  switch (action.type) {\r\n    case 'ADD_SONG_TO_PLAYLIST':\r\n      let newSongsArray = action.songs.map(song=>({\r\n        videoId: song.videoId,\r\n        title: song.title,\r\n        artist: song.artist,\r\n        owner: action.account,\r\n      }));\r\n      if (state.currentPlaylist === undefined) {\r\n        return Object.assign({}, state, {\r\n          currentPlaylist: state.currentPlaylist === undefined? CONST_TEMP_PLAYLIST: state.currentPlaylist,\r\n          playlists: [...state.playlists, CONST_TEMP_PLAYLIST],\r\n          playlistSongs: newSongsArray\r\n        })\r\n      }\r\n      return Object.assign({}, state, {\r\n        playlistSongs: [...state.playlistSongs, ...newSongsArray]\r\n      })\r\n    case 'PLAY_SONG_FROM_PLAYLIST':\r\n      return Object.assign({}, state, {\r\n        currentSongIndex: action.index,\r\n      })\r\n    case 'CHANGE_SONG':\r\n      return Object.assign({}, state, {\r\n        currentSongIndex: action.index,\r\n      })\r\n    case 'NEW_PLAYLIST_OPEN':\r\n      return Object.assign({}, state, {\r\n        displayNewPlaylistDialog: true,\r\n      })\r\n    case 'NEW_PLAYLIST_DIALOG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        displayNewPlaylistDialog: false,\r\n        newPlaylist: '',\r\n        currentPlaylist: action.success? state.newPlaylist: state.currentPlaylist,\r\n        playlists: action.success? [...state.playlists, state.newPlaylist]: state.playlists,\r\n        playlistSongs: action.success? []:state.playlistSongs\r\n      })\r\n    case 'NEW_PLAYLIST_INPUT_CHANGE':\r\n      return Object.assign({}, state, {\r\n        newPlaylist: action.name\r\n      })\r\n    case 'DELETE_PLAYLIST_DIALOG_OPEN':\r\n      if (state.currentPlaylist === undefined) return state\r\n      return Object.assign({}, state, {\r\n        displayDeletePlaylistDialog: true,\r\n      })\r\n    case 'DELETE_PLAYLIST_DIALOG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        displayDeletePlaylistDialog: false,\r\n        currentPlaylist: action.ok? undefined: state.currentPlaylist,\r\n        playlists: action.ok? state.playlists.filter(x=>x!==state.currentPlaylist): state.playlists,\r\n        playlistSongs: action.ok? []:state.playlistSongs\r\n      })\r\n    case 'REFRESH_PLAYLISTS':\r\n      return Object.assign({}, state, {\r\n        playlists: action.playlists,\r\n        playlistSongs: [],\r\n        currentPlaylist: undefined,\r\n        currentRoom: undefined,\r\n      })\r\n    case 'PLAYLIST_CHANGE':\r\n      return Object.assign({}, state, {\r\n        currentPlaylist: action.playlist,\r\n        playlistSongs: action.songs\r\n      })\r\n    case 'PLAYLIST_TOOL_MENU_OPEN':\r\n      return Object.assign({}, state, {\r\n        toolMenuAnchor: action.anchor,\r\n        toolMenuIndex: action.index\r\n      })\r\n    case 'PLAYLIST_TOOL_MENU_CLOSE':\r\n      return Object.assign({}, state, {\r\n        toolMenuAnchor: null,\r\n        toolMenuIndex: undefined\r\n      })\r\n    case 'PLAYLIST_SONG_MOVE_UP':\r\n      let idx_up = state.toolMenuIndex;\r\n      if (idx_up === 0) {\r\n        return Object.assign({}, state, {\r\n          toolMenuAnchor: null,\r\n          toolMenuIndex: undefined\r\n        })\r\n      }\r\n      newPlaylistSongs = [...state.playlistSongs]\r\n      tmp = newPlaylistSongs[idx_up]\r\n      newPlaylistSongs[idx_up] = newPlaylistSongs[idx_up-1]\r\n      newPlaylistSongs[idx_up-1] = tmp\r\n      return Object.assign({}, state, {\r\n        playlistSongs: newPlaylistSongs,\r\n        toolMenuAnchor: null,\r\n        toolMenuIndex: undefined\r\n      })\r\n    case 'PLAYLIST_SONG_MOVE_DOWN':\r\n      let idx_down = state.toolMenuIndex;\r\n      if (idx_down === state.playlistSongs.length-1) {\r\n        return Object.assign({}, state, {\r\n          toolMenuAnchor: null,\r\n          toolMenuIndex: undefined\r\n        })\r\n      }\r\n      newPlaylistSongs = [...state.playlistSongs]\r\n      tmp = newPlaylistSongs[idx_down]\r\n      newPlaylistSongs[idx_down] = newPlaylistSongs[idx_down+1]\r\n      newPlaylistSongs[idx_down+1] = tmp\r\n      return Object.assign({}, state, {\r\n        playlistSongs: newPlaylistSongs,\r\n        toolMenuAnchor: null,\r\n        toolMenuIndex: undefined\r\n      })\r\n    case 'PLAYLIST_SONG_DELETE':\r\n      newPlaylistSongs = [...state.playlistSongs]\r\n      newPlaylistSongs.splice(state.toolMenuIndex, 1)\r\n      return Object.assign({}, state, {\r\n        playlistSongs: newPlaylistSongs,\r\n        toolMenuAnchor: null,\r\n        toolMenuIndex: undefined\r\n      })\r\n    case 'ENTER_ROOM_OPEN':\r\n      return Object.assign({}, state, {\r\n        displayEnterRoomDialog: true,\r\n      })\r\n    case 'ENTER_ROOM_DIALOG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        displayEnterRoomDialog: false,\r\n        currentRoom: action.ok? state.enterRoomName: state.currentRoom,\r\n        currentPlaylist: action.ok? undefined: state.currentPlaylist,\r\n      })\r\n    case 'ENTER_ROOM_INPUT_CHANGE':\r\n      return Object.assign({}, state, {\r\n        enterRoomName: action.name\r\n      })\r\n    case 'LEAVE_ROOM':\r\n      return Object.assign({}, state, {\r\n        currentRoom: undefined,\r\n        currentPlaylist: undefined,\r\n        currentSongIndex: 0,\r\n        playlistSongs: [],\r\n      })\r\n    case 'ROOM_SONG_DELETE':\r\n      newPlaylistSongs = [...state.playlistSongs]\r\n      newPlaylistSongs.splice(action.index, 1)\r\n      return Object.assign({}, state, {\r\n        playlistSongs: newPlaylistSongs,\r\n      })\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default playlistReducer\r\n","const initialState = () => ({\r\n    // player\r\n    youtube: null,\r\n    song: {\r\n      videoId: '',\r\n      title: '',\r\n      artist: ''\r\n    },\r\n    youtubeState: -1,\r\n    currentTime: 0,\r\n    playMode: 1,\r\n    volume: 20,\r\n})\r\n\r\nconst playerReducer = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'SET_YOUTUBE_API':\r\n      return Object.assign({}, state, {\r\n        youtube: action.youtube\r\n      })\r\n    case 'CHANGE_PLAY_MODE':\r\n      console.log('CHANGE_PLAY_MODE -> ' + action.mode);\r\n      return Object.assign({}, state, {\r\n        playMode: action.mode,\r\n      })\r\n    case 'CHANGE_YOUTUBE_STATE':\r\n      return Object.assign({}, state, {\r\n        youtubeState: action.youtubeState,\r\n      })\r\n    case 'PLAY_SONG_FROM_PLAYLIST':\r\n      return Object.assign({}, state, {\r\n        song: action.song,\r\n      })\r\n    case 'PLAY_SONG_FROM_TABLE':\r\n      return Object.assign({}, state, {\r\n        song: action.song,\r\n      })\r\n    case 'CHANGE_VOLUME':\r\n      return Object.assign({}, state, {\r\n        volume: action.volume,\r\n      })\r\n    case 'CHANGE_TIME':\r\n      return Object.assign({}, state, {\r\n        currentTime: action.time,\r\n      })\r\n    case 'CHANGE_SONG':\r\n      return Object.assign({}, state, {\r\n        song: action.song,\r\n      })\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default playerReducer\r\n","import { combineReducers } from 'redux'\r\n\r\nimport addNewSongReducer from './addNewSongReducer.js'\r\nimport musicTableReducer from './musicTableReducer.js'\r\nimport musicTableToolbarReducer from './musicTableToolbarReducer.js'\r\nimport accountReducer from './accountReducer.js'\r\nimport playlistReducer from './playlistReducer.js'\r\nimport playerReducer from './playerReducer.js'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  accountReducer,\r\n  addNewSongReducer,\r\n  musicTableReducer,\r\n  musicTableToolbarReducer,\r\n  playlistReducer,\r\n  playerReducer,\r\n});\r\n\r\nexport default rootReducer\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// redux\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport rootReducer from './reducers'\n\n\n\nlet store = createStore(rootReducer);\n\nReactDOM.render((\n  <Provider store = {store}>\n    <App className='app'/>\n  </Provider>\n), document.getElementById('root'));\n\n//ReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}