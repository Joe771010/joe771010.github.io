{"version":3,"sources":["images/fragile.png","components/PlaylistToolbar.js","components/NewPlaylistDialog.js","components/DeletePlaylistDialog.js","components/EnterRoomDialog.js","actions/playlistActions.js","containers/PlaylistToolbarContainer.js","styles/playlistStyle.js","components/Playlist.js","containers/PlaylistContainer.js","styles/playerStyle.js","components/Player.js","containers/PlayerContainer.js","actions/playerActions.js","components/Room.js","containers/RoomContainer.js","components/AddNewSong.js","actions/addNewSongActions.js","containers/AddNewSongContainer.js","styles/musicTableStyle.js","components/MusicTable.js","actions/musicTableActions.js","containers/MusicTableContainer.js","styles/musicTableToolbarStyle.js","components/MusicTableToolbar.js","components/LoginDialog.js","components/EditSongDialog.js","components/DeleteSongDialog.js","components/HelpDialog.js","containers/MusicTableToolbarContainer.js","actions/accountActions.js","actions/musicTableToolbarActions.js","components/Account.js","containers/AccountContainer.js","LayoutTest.js","App.js","serviceWorker.js","reducers/addNewSongReducer.js","reducers/musicTableReducer.js","reducers/musicTableToolbarReducer.js","reducers/accountReducer.js","reducers/playlistReducer.js","reducers/playerReducer.js","reducers/index.js","index.js"],"names":["module","exports","PlaylistToolbar","classes","this","props","roomString","undefined","currentRoom","disableTools","Toolbar","className","toolbar","Grid","container","spacing","item","xs","Select","select","fullWidth","disabled","value","currentPlaylist","onChange","event_onPlaylistChange","playlists","map","list","index","MenuItem","menuItem","key","Button","color","onClick","event_onNewPlaylistClick","event_onDeletePlaylistClick","roomButton","event_onEnterLeaveRoomClick","Component","withStyles","theme","fontFamily","textTransform","backgroundColor","borderRadius","NewPlaylistDialog","displayNewPlaylistDialog","Dialog","open","modal","onClose","event_onNewPlaylistDialogClose","DialogContent","Input","autoFocus","input","placeholder","event_onNewPlaylistInputChange","newPlaylist","trim","DeletePlaylistDialog","displayDeletePlaylistDialog","event_onDeletePlaylistDialogClose","DialogContentText","DialogActions","EnterRoomDialog","displayEnterRoomDialog","event_onEnterRoomDialogClose","event_onEnterRoomInputChange","enterRoomName","refreshPlaylistsAction","type","playlistDoubleClickAction","song","PlaylistToolbarContainer","event","target","firebaseRef","firebase","database","ref","loginAccount","songs","once","dbSongs","forEach","dbSong","push","videoId","val","video_id","title","artist","changePlaylist","owner","intervalId","setInterval","clearInterval","event_onLeaveRoomClick","style","paddingTop","event_onEnterRoomClick","event_onLeaveRoom","ok","event_onDeletePlaylist","event_onEnterRoomSucceed","connect","state","accountReducer","playlistSongs","playlistReducer","dispatch","name","success","deletePlaylistDialogCloseAction","enterRoomDialogCloseAction","refreshPlaylists","playlist","playlistChangeAction","styles","height","overflow","background","text","iconSmall","fontSize","iconLarge","autoRefresh","padding","fontStyle","textOwner","selectedBorder","borderColor","borderStyle","borderWidth","Playlist","Paper","List","ListItem","currentSongIndex","dense","divider","onDoubleClick","event_onDoubleClick","ListItemText","disableTypography","primary","IconButton","event_onToolMenuClick","Popover","Boolean","toolMenuAnchor","anchorEl","event_onToolMenuClose","MenuList","event_onMoveUp","event_onMoveDown","event_onDelete","PlaylistContainer","event_onPlaylistSongMove","anchor","playlistToolMenuClickAction","slider","trackColor","icon","info","div","Player","playIconButton","youtubeState","align","justify","Slider","currentTime","min","max","duration","event_onTimeChange","alignItems","volume","event_onVolumeChange","event_onPrevClick","event_onPlayClick","event_onNextClick","playMode","event_onPlayModeChange","PlayerContainer","interval","autoSliding","t","youtube","getCurrentTime","changeTime","isMuted","unMute","setVolume","setPlaybackQuality","setYoutubeApi","getPlayerState","length","changeYoutubeState","findIndex","s","changeSong","playVideo","nextIndex","Math","floor","random","pauseVideo","changeVolume","seekTo","getDuration","opts","width","playerVars","autoplay","onReady","event_onReady","onStateChange","event_onStateChange","playerReducer","setYoutubeApiAction","changeYoutubeStateAction","changeVolumeAction","time","changeTimeAction","changeSongAction","mode","Room","hidedOwner","repeat","charAt","selected","getContent","event_onRoomSongDelete","RoomContainer","roomSongDeleteAction","AddNewSong","direction","layout","url","event_urlOnChange","event_titleOnChange","event_artistOnChange","ready","event_addNewSongOnClick","autoSetInfoAction","AddNewSongContainer","event_addNewSong","clearInput","addNewSongReducer","id","getYoutubeId","fuzzy","Promise","resolve","reject","getYoutubeTitle","err","fullTitle","parseYoutubeUrl","then","console","log","getArtistTitle","e","catch","error","border","table","header","headerCell","position","top","zIndex","headerPosition","cell","pagination","EnhancedTableHead","headerColumns","numeric","disablePadding","label","TableHead","TableRow","TableCell","Checkbox","event_onSelectAll","row","TableSortLabel","active","orderBy","order","event_onSortLabelClick","EnhancedTable","page","rowsPerPage","count","Table","TableBody","slice","isSelected","includes","hover","event_onSelect","TablePagination","labelRowsPerPage","rowsPerPageOptions","backIconButtonProps","nextIconButtonProps","onChangePage","event_onChangePage","onChangeRowsPerPage","event_onChangeRowsPerPage","MusicTable","totalCount","refreshTableAction","MusicTableContainer","sort","a","b","naturalCompare","caseInsensitive","createdTime","sortSongs","musicTableReducer","event_onDatabaseCreate","data","changeSortAction","selectSongAction","checked","changePageAction","musicTableDoubleClickAction","accountCircle","paddingRight","button","MusicTableToolbar","numSelected","accountText","event_onLoginClick","event_onEditSongClick","event_onDeleteSongClick","event_onAddSongToPlaylist","event_onHelpClick","LoginDialog","displayLoginDialog","event_onLoginInputChange","event_onLoginClose","event_onKeyUp","onKeyUp","userNameInput","EditSongDialog","displayEditSongDialog","event_onEditSongClose","maxWidth","editSong","event_onEditSongTitleChange","event_onEditSongArtistChange","DeleteSongDialog","displayDeleteSongDialog","event_onDeleteSongClose","HelpDialog","displayHelpDialog","event_onHelpClose","href","github","MusicTableToolbarContainer","isChangingAccount","event_onLoginAccountChange","closeLoginDialog","selectedSongs","find","x","send_addSongToPlaylistAction","result","event_finishEditSong","event_finishDeleteSong","musicTableToolbarReducer","resetAccountAction","editSongOpenAction","account","addSongToPlaylistAction","Account","room","main","musicTableToolbarBorder","playlistToolbarBorder","musicTableBorder","playlistBorder","addNewSongBorder","playerBorder","AccountContainer","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","auth","onAuthStateChanged","user","isAnonymous","accountName","_refreshSongs","_refreshPlaylists","_count","_firebaseRef","child","event_onSongsFetch","firebaseRef2","dbPlaylists","dbPlaylist","event_onPlaylistsFetch","newSong","format","Date","update","updateSong","remove","selectedSong","updateRoom","updatePlaylist","tmp","newPlaylistSongs","idx","toolMenuIndex","splice","alert","set","LayoutTest","musicTableToolbar","playlistToolbar","musicTable","addNewSong","player","logo","createMuiTheme","palette","lightBlue","secondary","overrides","MuiSlider","track","thumb","MuiTableRow","App","CssBaseline","window","location","hostname","match","action","Object","assign","newSelected","indexOf","newSongsArray","filter","idx_up","idx_down","rootReducer","combineReducers","store","createStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.a5ac1228.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, {Component} from 'react'\r\n\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass PlaylistToolbar extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    const roomString = this.props.currentRoom===undefined? 'Enter Room': ('Leave '+ this.props.currentRoom);\r\n    const disableTools = this.props.currentRoom!==undefined;\r\n\r\n    return (\r\n      <Toolbar className={classes.toolbar}>\r\n        <Grid container spacing={0} >\r\n          <Grid item xs={4} >\r\n            <Select\r\n              className={classes.select}\r\n              fullWidth\r\n              disabled={disableTools}\r\n              value={this.props.currentPlaylist===undefined? '':this.props.currentPlaylist}\r\n              onChange={this.props.event_onPlaylistChange}\r\n            >\r\n              {this.props.playlists.map((list, index) => {\r\n                return (\r\n                  <MenuItem className={classes.menuItem} value={list} key={index}>\r\n                    {list}\r\n                  </MenuItem>\r\n                )\r\n              })}\r\n            </Select>\r\n          </Grid>\r\n          <Grid item xs={2} >\r\n            <Button disabled={disableTools} fullWidth color='secondary' onClick={this.props.event_onNewPlaylistClick}>\r\n              New\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={2} >\r\n            <Button disabled={disableTools} fullWidth color='primary' onClick={this.props.event_onDeletePlaylistClick}>\r\n              Delete\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={4} >\r\n            <Button className={classes.roomButton} fullWidth onClick={this.props.event_onEnterLeaveRoomClick}>\r\n              {roomString}\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Toolbar>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  select: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n  menuItem: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n  roomButton: {\r\n    //fontFamily: 'Verdana',\r\n    textTransform:'none',\r\n  },\r\n  toolbar: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: '5px',\r\n  }\r\n})\r\n\r\nexport default withStyles(styles)(PlaylistToolbar)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass NewPlaylistDialog extends Component {\r\n  render() {\r\n    const { displayNewPlaylistDialog } = this.props;\r\n    const {classes} = this.props\r\n    return (\r\n      <Dialog\r\n        open = {displayNewPlaylistDialog}\r\n        modal = 'true'\r\n        onClose = {()=>this.props.event_onNewPlaylistDialogClose(false)}\r\n      >\r\n        <DialogContent>\r\n          <Input\r\n            autoFocus\r\n            className={classes.input}\r\n            placeholder={'Enter playlist name ...'}\r\n            onChange={this.props.event_onNewPlaylistInputChange}\r\n            value={this.props.newPlaylist}\r\n          />\r\n          <Button disabled={this.props.newPlaylist.trim()===''} color='secondary' onClick={()=>this.props.event_onNewPlaylistDialogClose(true)}>\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>this.props.event_onNewPlaylistDialogClose(false)}>\r\n            Cancel\r\n          </Button>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n})\r\n\r\nexport default withStyles(styles)(NewPlaylistDialog)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nclass DeletePlaylistDialog extends Component {\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open = {this.props.displayDeletePlaylistDialog}\r\n        modal = 'true'\r\n        onClose = {()=>this.props.event_onDeletePlaylistDialogClose(false)}\r\n      >\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Delete this playlist ?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button color='secondary' onClick={()=>this.props.event_onDeletePlaylistDialogClose(true)} >\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>this.props.event_onDeletePlaylistDialogClose(false)} >\r\n            Cancel\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeletePlaylistDialog\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass EnterRoomDialog extends Component {\r\n  render() {\r\n    const { displayEnterRoomDialog } = this.props;\r\n    const { classes } = this.props\r\n    return (\r\n      <Dialog\r\n        open = {displayEnterRoomDialog}\r\n        modal = 'true'\r\n        onClose={()=>this.props.event_onEnterRoomDialogClose(false)}\r\n      >\r\n        <DialogContent>\r\n          <Input\r\n            autoFocus\r\n            className={classes.input}\r\n            placeholder={'Enter room name ...'}\r\n            onChange={this.props.event_onEnterRoomInputChange}\r\n            value={this.props.enterRoomName}\r\n          />\r\n          <Button disabled={this.props.enterRoomName.trim()===''} color='secondary' onClick={()=>this.props.event_onEnterRoomDialogClose(true)}>\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>this.props.event_onEnterRoomDialogClose(false)}>\r\n            Cancel\r\n          </Button>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n})\r\n\r\nexport default withStyles(styles)(EnterRoomDialog)\r\n","export const addSongToPlaylistAction = (songs, account) => ({\r\n  type: 'ADD_SONG_TO_PLAYLIST',\r\n  songs: songs,\r\n  account: account\r\n})\r\n\r\nexport const newPlaylistOpenAction = () => ({\r\n  type: 'NEW_PLAYLIST_OPEN'\r\n})\r\n\r\nexport const newPlaylistDialogCloseAction = (success) => ({\r\n  type: 'NEW_PLAYLIST_DIALOG_CLOSE',\r\n  success: success\r\n})\r\n\r\nexport const newPlaylistInputChangeAction = (name) => ({\r\n  type: 'NEW_PLAYLIST_INPUT_CHANGE',\r\n  name: name\r\n})\r\n\r\nexport const deletePlaylistDialogOpenAction = () => ({\r\n  type: 'DELETE_PLAYLIST_DIALOG_OPEN'\r\n})\r\n\r\nexport const deletePlaylistDialogCloseAction = (ok) => ({\r\n  type: 'DELETE_PLAYLIST_DIALOG_CLOSE',\r\n  ok: ok\r\n})\r\n\r\nexport const enterRoomOpenAction = () => ({\r\n  type: 'ENTER_ROOM_OPEN'\r\n})\r\n\r\nexport const leaveRoomAction = () => ({\r\n  type: 'LEAVE_ROOM',\r\n})\r\n\r\nexport const enterRoomDialogCloseAction = (ok) => ({\r\n  type: 'ENTER_ROOM_DIALOG_CLOSE',\r\n  ok: ok\r\n})\r\n\r\nexport const enterRoomInputChangeAction = (name) => ({\r\n  type: 'ENTER_ROOM_INPUT_CHANGE',\r\n  name: name\r\n})\r\n\r\nexport const refreshPlaylistsAction = (playlists) => ({\r\n  type: 'REFRESH_PLAYLISTS',\r\n  playlists: playlists\r\n})\r\n\r\nexport const playlistChangeAction = (playlist, songs) => ({\r\n  type: 'PLAYLIST_CHANGE',\r\n  playlist: playlist,\r\n  songs: songs\r\n})\r\n\r\nexport const playlistDoubleClickAction = (song, index) => ({\r\n  type: 'PLAY_SONG_FROM_PLAYLIST',\r\n  song: song,\r\n  index: index\r\n})\r\n\r\nexport const playlistToolMenuClickAction = (anchor, index) => ({\r\n  type: 'PLAYLIST_TOOL_MENU_OPEN',\r\n  anchor: anchor,\r\n  index: index\r\n})\r\n\r\nexport const playlistToolMenuCoseAction = () => ({\r\n  type: 'PLAYLIST_TOOL_MENU_CLOSE',\r\n})\r\n\r\nexport const playlistSongMoveUpAction = () => ({\r\n  type: 'PLAYLIST_SONG_MOVE_UP',\r\n})\r\n\r\nexport const playlistSongMoveDownAction = () => ({\r\n  type: 'PLAYLIST_SONG_MOVE_DOWN',\r\n})\r\n\r\nexport const playlistSongDeleteAction = () => ({\r\n  type: 'PLAYLIST_SONG_DELETE',\r\n})\r\n\r\nexport const roomSongDeleteAction = (index) => ({\r\n  type: 'ROOM_SONG_DELETE',\r\n  index: index\r\n})\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\n\r\nimport PlaylistToolbar from '../components/PlaylistToolbar.js'\r\nimport NewPlaylistDialog from '../components/NewPlaylistDialog.js'\r\nimport DeletePlaylistDialog from '../components/DeletePlaylistDialog.js'\r\nimport EnterRoomDialog from '../components/EnterRoomDialog.js'\r\n\r\nimport {refreshPlaylistsAction, playlistChangeAction } from '../actions/playlistActions'\r\nimport {newPlaylistOpenAction, newPlaylistInputChangeAction, newPlaylistDialogCloseAction } from '../actions/playlistActions'\r\nimport {deletePlaylistDialogOpenAction, deletePlaylistDialogCloseAction} from '../actions/playlistActions'\r\nimport {enterRoomOpenAction, enterRoomDialogCloseAction, enterRoomInputChangeAction, leaveRoomAction} from '../actions/playlistActions'\r\n\r\nclass PlaylistToolbarContainer extends Component {\r\n\r\n  event_onPlaylistChange(event) {\r\n    let newPlaylist = event.target.value;\r\n    this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/playlists/' + newPlaylist);\r\n    let songs = [];\r\n    this.firebaseRef.once('value', dbSongs => {\r\n      dbSongs.forEach(dbSong => {\r\n        songs.push({\r\n          videoId: dbSong.val().video_id,\r\n          title: dbSong.val().title,\r\n          artist: dbSong.val().artist,}\r\n        );\r\n      })\r\n      this.props.changePlaylist(newPlaylist, songs);\r\n    })\r\n  }\r\n\r\n  event_onEnterRoomSucceed() {\r\n    this.firebaseRef = firebase.database().ref('rooms/' + this.props.enterRoomName);\r\n\r\n    this.firebaseRef.once('value', dbSongs => {\r\n      let songs = [];\r\n      dbSongs.forEach(dbSong => {\r\n        songs.push({\r\n          videoId: dbSong.val().video_id,\r\n          title: dbSong.val().title,\r\n          artist: dbSong.val().artist,\r\n          owner: dbSong.val().owner,\r\n        });\r\n      })\r\n      this.props.changePlaylist('', songs);\r\n    })\r\n\r\n    this.intervalId = setInterval(()=>{\r\n      this.firebaseRef.once('value', dbSongs => {\r\n        let songs = [];\r\n        dbSongs.forEach(dbSong => {\r\n          songs.push({\r\n            videoId: dbSong.val().video_id,\r\n            title: dbSong.val().title,\r\n            artist: dbSong.val().artist,\r\n            owner: dbSong.val().owner,\r\n          });\r\n        })\r\n        this.props.changePlaylist('', songs);\r\n      })\r\n    }, 30000)\r\n  }\r\n\r\n  event_onLeaveRoom() {\r\n    clearInterval(this.intervalId);\r\n    this.props.event_onLeaveRoomClick();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{paddingTop:'10px'}}>\r\n        <PlaylistToolbar\r\n          currentPlaylist={this.props.currentPlaylist}\r\n          playlists={this.props.playlists}\r\n          currentRoom={this.props.currentRoom}\r\n          event_onPlaylistChange={(event)=>this.event_onPlaylistChange(event)}\r\n          event_onNewPlaylistClick={this.props.event_onNewPlaylistClick}\r\n          event_onDeletePlaylistClick={this.props.event_onDeletePlaylistClick}\r\n          event_onEnterLeaveRoomClick={()=>{\r\n            if (this.props.currentRoom===undefined) this.props.event_onEnterRoomClick();\r\n            else this.event_onLeaveRoom();\r\n          }}\r\n        />\r\n        <NewPlaylistDialog\r\n          newPlaylist={this.props.newPlaylist}\r\n          displayNewPlaylistDialog={this.props.displayNewPlaylistDialog}\r\n          event_onNewPlaylistDialogClose={(ok)=>this.props.event_onNewPlaylistDialogClose(ok)}\r\n          event_onNewPlaylistInputChange={this.props.event_onNewPlaylistInputChange}\r\n        />\r\n        <DeletePlaylistDialog\r\n          displayDeletePlaylistDialog={this.props.displayDeletePlaylistDialog}\r\n          event_onDeletePlaylistDialogClose={(ok)=>{\r\n            if(ok) this.props.event_onDeletePlaylist()\r\n            this.props.event_onDeletePlaylistDialogClose(ok)\r\n          }}\r\n        />\r\n        <EnterRoomDialog\r\n          enterRoomName={this.props.enterRoomName}\r\n          displayEnterRoomDialog={this.props.displayEnterRoomDialog}\r\n          event_onEnterRoomDialogClose={(ok)=>{\r\n            this.props.event_onEnterRoomDialogClose(ok)\r\n            if(ok) this.event_onEnterRoomSucceed()\r\n          }}\r\n          event_onEnterRoomInputChange={this.props.event_onEnterRoomInputChange}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n  currentPlaylist: state.playlistReducer.currentPlaylist,\r\n  playlists: state.playlistReducer.playlists,\r\n  newPlaylist: state.playlistReducer.newPlaylist,\r\n  enterRoomName: state.playlistReducer.enterRoomName,\r\n  currentRoom: state.playlistReducer.currentRoom,\r\n  displayNewPlaylistDialog: state.playlistReducer.displayNewPlaylistDialog,\r\n  displayDeletePlaylistDialog: state.playlistReducer.displayDeletePlaylistDialog,\r\n  displayEnterRoomDialog: state.playlistReducer.displayEnterRoomDialog,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  // create new playlist\r\n  event_onNewPlaylistClick: () => {\r\n    dispatch(newPlaylistOpenAction())\r\n  },\r\n  event_onNewPlaylistInputChange: (event) => {\r\n    dispatch(newPlaylistInputChangeAction(event.target.value))\r\n  },\r\n  event_onNewPlaylistDialogClose: (ok) => {\r\n    dispatch(newPlaylistDialogCloseAction(ok))\r\n  },\r\n\r\n  // delete current playlist\r\n  event_onDeletePlaylistClick: () => {\r\n    dispatch(deletePlaylistDialogOpenAction())\r\n  },\r\n  event_onDeletePlaylistDialogClose: (ok) => {\r\n    dispatch(deletePlaylistDialogCloseAction(ok))\r\n  },\r\n\r\n  // room\r\n  event_onEnterRoomClick: () => {\r\n    dispatch(enterRoomOpenAction())\r\n  },\r\n  event_onLeaveRoomClick: () => {\r\n    dispatch(leaveRoomAction())\r\n  },\r\n  event_onEnterRoomDialogClose: (ok) => {\r\n    dispatch(enterRoomDialogCloseAction(ok))\r\n  },\r\n  event_onEnterRoomInputChange: (event) => {\r\n    dispatch(enterRoomInputChangeAction(event.target.value))\r\n  },\r\n  //\r\n  refreshPlaylists: (playlists) => {\r\n    dispatch(refreshPlaylistsAction(playlists))\r\n  },\r\n  changePlaylist: (playlist, songs) => {\r\n    dispatch(playlistChangeAction(playlist, songs))\r\n  },\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistToolbarContainer)\r\n","import Background from '../images/fragile.png'\r\n\r\nconst styles = theme => ({\r\n  list: {\r\n    height: '620px',\r\n    overflow: 'auto',\r\n    background: 'linear-gradient(to right, #424242, #37474F)'\r\n  },\r\n  text: {\r\n    fontFamily: 'Verdana',\r\n    color: 'white'\r\n  },\r\n  iconSmall: {\r\n    fontSize: '12px',\r\n  },\r\n  iconLarge: {\r\n    fontSize: '18px',\r\n  },\r\n  autoRefresh: {\r\n    padding: '0 10px 0 0',\r\n    fontStyle: 'italic',\r\n    color: '#B2EBF2'\r\n  },\r\n  textOwner: {\r\n    fontFamily: 'Verdana',\r\n    fontStyle: 'italic',\r\n    color: '#F4FF81',\r\n    padding: '0 0 0 10px',\r\n  },\r\n  background: {\r\n    // backgroundImage: \"url(\" + Background + \")\",\r\n    // backgroundPosition: 'center',\r\n    // backgroundSize: 'cover',\r\n    // backgroundRepeat: 'no-repeat',\r\n    overflow: 'hidden',\r\n    height: '100%',\r\n    background: 'linear-gradient(to right, #424242, #37474F)'\r\n  },\r\n  selectedBorder: {\r\n    borderColor: '#90CAF9',\r\n    borderStyle: 'solid',\r\n    borderWidth: 3,\r\n  }\r\n});\r\n\r\nexport default styles\r\n","import React, {Component} from 'react'\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popover from '@material-ui/core/Popover';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreHoriz from '@material-ui/icons/MoreHoriz';\r\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Delete from '@material-ui/icons/Delete';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/playlistStyle.js'\r\n\r\n\r\n\r\nclass Playlist extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    return (\r\n      <Paper className={classes.background}>\r\n        <List className={classes.list}>\r\n          {this.props.playlistSongs.map((song,index) => (\r\n            <ListItem\r\n              className={this.props.currentSongIndex===index? classes.selectedBorder:''}\r\n              key={index}\r\n              \r\n              dense\r\n              divider\r\n              onDoubleClick={()=>this.props.event_onDoubleClick(song, index)}\r\n            >\r\n              <ListItemText\r\n                className={classes.text}\r\n                disableTypography\r\n                primary={song.title+' - '+song.artist}\r\n              />\r\n              <IconButton onClick={(event)=>this.props.event_onToolMenuClick(event, index)}>\r\n                <MoreHoriz className={classes.iconSmall} color='primary'/>\r\n              </IconButton>\r\n              <Popover\r\n                open={Boolean(this.props.toolMenuAnchor)}\r\n                anchorEl={this.props.toolMenuAnchor}\r\n                onClose={this.props.event_onToolMenuClose}\r\n              >\r\n                <MenuList>\r\n                  <MenuItem><ArrowUpward className={classes.iconLarge} onClick={this.props.event_onMoveUp}/></MenuItem>\r\n                  <MenuItem><ArrowDownward className={classes.iconLarge} onClick={this.props.event_onMoveDown}/></MenuItem>\r\n                  <MenuItem><Delete className={classes.iconLarge} color='secondary' onClick={this.props.event_onDelete}/></MenuItem>\r\n                </MenuList>\r\n            </Popover>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Playlist)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Playlist from '../components/Playlist.js'\r\n\r\nimport {playlistDoubleClickAction, playlistToolMenuClickAction, playlistToolMenuCoseAction,\r\n        playlistSongMoveUpAction, playlistSongMoveDownAction, playlistSongDeleteAction} from '../actions/playlistActions'\r\n\r\nclass PlaylistContainer extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{height:'100%'}}>\r\n        <Playlist\r\n          playlistSongs={this.props.playlistSongs}\r\n          currentSongIndex={this.props.currentSongIndex}\r\n          event_onDoubleClick={this.props.event_onDoubleClick}\r\n          event_onToolMenuClick={this.props.event_onToolMenuClick}\r\n          event_onToolMenuClose={this.props.event_onToolMenuClose}\r\n          toolMenuAnchor={this.props.toolMenuAnchor}\r\n          event_onMoveUp={()=>{\r\n            this.props.event_onPlaylistSongMove('MOVE_UP')\r\n            this.props.event_onMoveUp()\r\n          }}\r\n          event_onMoveDown={()=>{\r\n            this.props.event_onPlaylistSongMove('MOVE_DOWN')\r\n            this.props.event_onMoveDown()\r\n          }}\r\n          event_onDelete={()=>{\r\n            this.props.event_onPlaylistSongMove('DELETE')\r\n            this.props.event_onDelete()\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n  toolMenuAnchor: state.playlistReducer.toolMenuAnchor,\r\n  currentSongIndex: state.playlistReducer.currentSongIndex\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_onDoubleClick: (song, index) => {\r\n    dispatch(playlistDoubleClickAction(song, index))\r\n  },\r\n  event_onToolMenuClick: (event, index) => {\r\n    dispatch(playlistToolMenuClickAction(event.target, index))\r\n  },\r\n  event_onToolMenuClose: () => {\r\n    dispatch(playlistToolMenuCoseAction())\r\n  },\r\n  event_onMoveUp: () => {\r\n    dispatch(playlistSongMoveUpAction())\r\n  },\r\n  event_onMoveDown: () => {\r\n    dispatch(playlistSongMoveDownAction())\r\n  },\r\n  event_onDelete: () => {\r\n    dispatch(playlistSongDeleteAction())\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistContainer)\r\n","const styles = theme => ({\r\n  slider: {\r\n    padding: '10px 3px',\r\n    // borderColor: '#FBC02D',\r\n    // borderStyle: 'dashed',\r\n    trackColor: 'yellow'\r\n  },\r\n  icon: {\r\n    fontSize: 'small'\r\n  },\r\n  select: {\r\n    fontFamily: 'Microsoft JhengHei',\r\n  },\r\n  menuItem: {\r\n    fontFamily: 'Microsoft JhengHei'\r\n  },\r\n  info: {\r\n    fontFamily: 'Microsoft JhengHei',\r\n    padding: '10px 0 5px 0',\r\n    color: '#F8BBD0',\r\n  },\r\n  div: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: '5px',\r\n    height: '100%',\r\n  }\r\n})\r\n\r\nexport default styles\r\n","import React, {Component} from 'react'\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nimport SkipPrevious from '@material-ui/icons/SkipPrevious';\r\nimport SkipNext from '@material-ui/icons/SkipNext';\r\nimport PlayCircleOutline from '@material-ui/icons/PlayCircleOutline'\r\nimport PauseCircleOutline from '@material-ui/icons/PauseCircleOutline'\r\nimport VolumeUp from '@material-ui/icons/VolumeUp'\r\nimport Replay from '@material-ui/icons/Replay'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/playerStyle.js';\r\n\r\nclass Player extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    const playIconButton = this.props.youtubeState===0? <Replay />:\r\n                           this.props.youtubeState===1? <PauseCircleOutline />: <PlayCircleOutline />\r\n\r\n\r\n    return (\r\n      <div className={classes.div}>\r\n      <Grid container spacing={0} >\r\n        <Grid item xs={12}>\r\n          <div align='center' className={classes.info}>{this.props.song.title} - {this.props.song.artist}</div>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} container justify='center'>\r\n          <Grid item xs={10}>\r\n            <div align='center'>\r\n              <Slider\r\n                className={classes.slider}\r\n                value={this.props.currentTime}\r\n                min = {0}\r\n                max = {this.props.duration}\r\n                onChange={this.props.event_onTimeChange}\r\n              />\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} container justify='center' alignItems='center'>\r\n          <Grid item xs={1}>\r\n            <VolumeUp color='disabled'/>\r\n          </Grid>\r\n          <Grid item xs={2}>\r\n            <Slider\r\n              className={classes.slider}\r\n              value={this.props.volume}\r\n              min = {0}\r\n              max = {100}\r\n              onChange = {this.props.event_onVolumeChange}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={5}>\r\n            <div align='center'>\r\n              <IconButton\r\n                onClick={this.props.event_onPrevClick}\r\n              >\r\n                <SkipPrevious />\r\n              </IconButton>\r\n              <IconButton\r\n                onClick={this.props.event_onPlayClick}\r\n              >\r\n                {playIconButton}\r\n              </IconButton>\r\n              <IconButton\r\n                onClick={this.props.event_onNextClick}\r\n              >\r\n                <SkipNext />\r\n              </IconButton>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={3}>\r\n            <Select className={classes.select} value={this.props.playMode} fullWidth onChange={this.props.event_onPlayModeChange} >\r\n              <MenuItem className={classes.menuItem} value={1} >依序播放</MenuItem>\r\n              <MenuItem className={classes.menuItem} value={2} >單曲循環</MenuItem>\r\n              <MenuItem className={classes.menuItem} value={3} >隨機播放</MenuItem>\r\n            </Select>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Player)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Player from '../components/Player.js'\r\n\r\nimport YouTube from 'react-youtube';\r\n\r\nimport {setYoutubeApiAction, changePlayModeAction, changeYoutubeStateAction, changeVolumeAction, changeTimeAction, changeSongAction} from '../actions/playerActions'\r\n\r\nclass PlayerContainer extends Component {\r\n  componentDidMount() {\r\n    // 讓歌曲進度的slider能夠自動捲動, 每2000ms去更新一次state\r\n    this.interval = setInterval(() => {\r\n      this.autoSliding();\r\n    }, 2000)\r\n  }\r\n\r\n  // 歌曲進度的slider能夠自動捲動的function\r\n  autoSliding() {\r\n    // api call\r\n    let t = this.props.youtube? this.props.youtube.getCurrentTime(): 0\r\n    // send action\r\n    this.props.changeTime(t)\r\n  }\r\n\r\n  event_onReady(event) {\r\n    // api call\r\n    if(event.target.isMuted) event.target.unMute()\r\n    event.target.setVolume(this.props.volume);\r\n    event.target.setPlaybackQuality('medium')\r\n    // send action\r\n    this.props.setYoutubeApi(event.target)\r\n  }\r\n\r\n  event_onStateChange(event) {\r\n    const {playlistSongs, currentSongIndex, song, playMode} = this.props;\r\n\r\n    let youtubeState = event.target.getPlayerState()\r\n    // console.log('event_onStateChange: ' + youtubeState);\r\n\r\n    // empty playlist\r\n    if (youtubeState===0 && currentSongIndex>=playlistSongs.length) {\r\n      this.props.changeYoutubeState(youtubeState);\r\n      return;\r\n    }\r\n\r\n    // 依序播放模式\r\n    let index = currentSongIndex;\r\n    if (youtubeState === 0 && playMode === 1) {\r\n      // special situation (if playlist were modified)\r\n      if (playlistSongs[index].videoId !== song.videoId) {\r\n        index = playlistSongs.findIndex(s => s.videoId === song.videoId);\r\n      }\r\n      if (index !== playlistSongs.length-1) {\r\n        this.props.changeSong(playlistSongs[index+1], index+1)\r\n      }\r\n    }\r\n\r\n    // 單曲循環播放模式\r\n    if (youtubeState === 0 && playMode === 2) {\r\n      this.props.youtube.playVideo();\r\n    }\r\n\r\n    // 隨機播放模式\r\n    if (youtubeState === 0 && playMode === 3) {\r\n      let nextIndex = Math.floor((Math.random() * playlistSongs.length))\r\n      if (nextIndex === currentSongIndex)  this.props.youtube.playVideo();\r\n      else this.props.changeSong(playlistSongs[nextIndex], nextIndex)\r\n    }\r\n\r\n    // set volume\r\n    this.props.youtube.setVolume(this.props.volume);\r\n\r\n    // send action\r\n    this.props.changeYoutubeState(youtubeState)\r\n  }\r\n\r\n\r\n  event_onPlayClick() {\r\n    switch(this.props.youtubeState) {\r\n      case 0:\r\n        this.props.youtube.playVideo();\r\n        break;\r\n      case 1:\r\n        this.props.youtube.pauseVideo();\r\n        break;\r\n      case 2:\r\n        this.props.youtube.playVideo();\r\n        break;\r\n      case 5:\r\n        this.props.youtube.playVideo();\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  event_onNextClick() {\r\n    const {playlistSongs, currentSongIndex, playMode} = this.props;\r\n    if (currentSongIndex >= playlistSongs.length) return;\r\n\r\n    // 依序播放模式, 單曲循環播放模式\r\n    if (playMode < 3 && currentSongIndex !== playlistSongs.length-1) {\r\n      this.props.changeSong(playlistSongs[currentSongIndex+1], currentSongIndex+1)\r\n    }\r\n\r\n    // 隨機播放模式\r\n    if (playMode === 3) {\r\n      let nextIndex = Math.floor((Math.random() * playlistSongs.length))\r\n      if (nextIndex === currentSongIndex)  this.props.youtube.playVideo();\r\n      else this.props.changeSong(playlistSongs[nextIndex], nextIndex)\r\n    }\r\n  }\r\n\r\n  event_onPrevClick() {\r\n    const {playlistSongs, currentSongIndex, playMode} = this.props;\r\n    if (currentSongIndex >= playlistSongs.length) return;\r\n\r\n    // 依序播放模式, 單曲循環播放模式\r\n    if (playMode < 3 && currentSongIndex !== 0) {\r\n      this.props.changeSong(playlistSongs[currentSongIndex-1], currentSongIndex-1)\r\n    }\r\n\r\n    // 隨機播放模式\r\n    if (playMode === 3) {\r\n      let nextIndex = Math.floor((Math.random() * playlistSongs.length))\r\n      if (nextIndex === currentSongIndex)  this.props.youtube.playVideo();\r\n      else this.props.changeSong(playlistSongs[nextIndex], nextIndex)\r\n    }\r\n  }\r\n\r\n  // change the volume slider\r\n  event_onVolumeChange(event, volume) {\r\n    // api call\r\n    if(this.props.youtube.isMuted) this.props.youtube.unMute()\r\n    this.props.youtube.setVolume(volume);\r\n    // send action\r\n    this.props.changeVolume(volume)\r\n  }\r\n\r\n  // change the song slider\r\n  event_onTimeChange(event, value) {\r\n    // stop autoSliding\r\n    clearInterval(this.interval)\r\n    // send action\r\n    this.props.changeTime(value)\r\n    //this.autoSliding()\r\n    // api call\r\n    switch(this.props.youtubeState) {\r\n      case 1:\r\n        this.props.youtube.seekTo(value, true);\r\n        break;\r\n      case 2:\r\n        this.props.youtube.seekTo(value, true);\r\n        break;\r\n      case 5:\r\n        this.props.youtube.seekTo(value, true);\r\n        this.props.youtube.playVideo();\r\n        break;\r\n      default:\r\n        return\r\n    }\r\n    // restart autoSliding\r\n    this.interval = setInterval(() => {\r\n      this.autoSliding();\r\n    }, 2000)\r\n  }\r\n\r\n  render() {\r\n    const opts = {\r\n      height: '0',\r\n      width: '0',\r\n      playerVars: { // https://developers.google.com/youtube/player_parameters\r\n        autoplay: 1,\r\n      }\r\n    };\r\n\r\n    let duration = this.props.youtube? this.props.youtube.getDuration(): 0;\r\n\r\n    return (\r\n      <div style={{height:'100%'}}>\r\n        <Player\r\n          song={this.props.song}\r\n          playMode={this.props.playMode}\r\n          youtubeState={this.props.youtubeState}\r\n          volume={this.props.volume}\r\n          currentTime={this.props.currentTime}\r\n          duration={duration}\r\n          event_onPlayModeChange={this.props.event_onPlayModeChange}\r\n          event_onPlayClick={()=>this.event_onPlayClick()}\r\n          event_onNextClick={()=>this.event_onNextClick()}\r\n          event_onPrevClick={()=>this.event_onPrevClick()}\r\n          event_onVolumeChange={(event, value)=>this.event_onVolumeChange(event, value)}\r\n          event_onTimeChange={(event, value)=>this.event_onTimeChange(event, value)}\r\n        />\r\n        <YouTube\r\n          opts={opts}\r\n          videoId={this.props.song.videoId}\r\n          onReady={(event)=>this.event_onReady(event)}\r\n          onStateChange={(event)=>this.event_onStateChange(event)}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  song: state.playerReducer.song,\r\n  youtube: state.playerReducer.youtube,\r\n  youtubeState: state.playerReducer.youtubeState,\r\n  playMode: state.playerReducer.playMode,\r\n  volume: state.playerReducer.volume,\r\n  currentTime: state.playerReducer.currentTime,\r\n\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n  currentSongIndex: state.playlistReducer.currentSongIndex,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setYoutubeApi: (youtube) => {\r\n    dispatch(setYoutubeApiAction(youtube))\r\n  },\r\n  changeYoutubeState: (youtubeState) => {\r\n    dispatch(changeYoutubeStateAction(youtubeState))\r\n  },\r\n  changeVolume: (volume) => {\r\n    dispatch(changeVolumeAction(volume))\r\n  },\r\n  changeTime: (time) => {\r\n    dispatch(changeTimeAction(time))\r\n  },\r\n  changeSong: (song, index) => {\r\n    dispatch(changeSongAction(song, index))\r\n  },\r\n  event_onPlayModeChange: (event) => {\r\n    dispatch(changePlayModeAction(event.target.value))\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerContainer)\r\n","export const setYoutubeApiAction = (youtube) => ({\r\n  type: 'SET_YOUTUBE_API',\r\n  youtube: youtube\r\n})\r\n\r\nexport const changePlayModeAction = (mode) => ({\r\n  type: 'CHANGE_PLAY_MODE',\r\n  mode: mode\r\n})\r\n\r\nexport const changeYoutubeStateAction = (youtubeState) => ({\r\n  type: 'CHANGE_YOUTUBE_STATE',\r\n  youtubeState: youtubeState\r\n})\r\n\r\nexport const changeVolumeAction = (volume) => ({\r\n  type: 'CHANGE_VOLUME',\r\n  volume: volume\r\n})\r\n\r\nexport const changeTimeAction = (time) => ({\r\n  type: 'CHANGE_TIME',\r\n  time: time\r\n})\r\n\r\nexport const changeSongAction = (song, index) => ({\r\n  type: 'CHANGE_SONG',\r\n  song: song,\r\n  index: index\r\n})\r\n","import React, {Component} from 'react'\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Delete from '@material-ui/icons/Delete';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/playlistStyle.js'\r\n\r\nclass Room extends Component {\r\n\r\n  getContent(song) {\r\n    const {classes} = this.props;\r\n    let hidedOwner = '';\r\n    if (song.owner!==undefined) {\r\n      hidedOwner = '*'.repeat(song.owner.length);\r\n      if (song.owner.length>2) {\r\n        hidedOwner = song.owner.charAt(0)+'*'.repeat(song.owner.length-2)+song.owner.charAt(song.owner.length-1)\r\n      }\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        <span className={classes.text}>\r\n          {song.title + ' - ' + song.artist}\r\n        </span>\r\n        <span className={classes.textOwner}>\r\n          #{hidedOwner}\r\n        </span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const {classes} = this.props;\r\n    return (\r\n      <Paper className={classes.background}>\r\n        <List className={classes.list}>\r\n          {this.props.playlistSongs.map((song,index) => (\r\n            <ListItem\r\n              key={index}\r\n              selected={this.props.currentSongIndex===index}\r\n              dense\r\n              divider\r\n              onDoubleClick={()=>this.props.event_onDoubleClick(song, index)}\r\n            >\r\n              <ListItemText\r\n                disableTypography\r\n              >\r\n                {this.getContent(song)}\r\n              </ListItemText>\r\n              <IconButton onClick={()=>this.props.event_onRoomSongDelete(song, index)}>\r\n                <Delete className={classes.iconLarge} />\r\n              </IconButton>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        <div align='right' className={classes.autoRefresh}>auto refresh every 30 seconds</div>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Room)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Room from '../components/Room.js'\r\n\r\nimport { playlistDoubleClickAction, roomSongDeleteAction } from '../actions/playlistActions'\r\n\r\nclass RoomContainer extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Room\r\n          playlistSongs={this.props.playlistSongs}\r\n          currentSongIndex={this.props.currentSongIndex}\r\n          event_onDoubleClick={this.props.event_onDoubleClick}\r\n          event_onRoomSongDelete={(song, index)=>{\r\n            this.props.event_onRoomSongDelete(song, index)\r\n            if(song.owner===this.props.loginAccount) this.props.event_onDelete(index)\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n  currentSongIndex: state.playlistReducer.currentSongIndex\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_onDoubleClick: (song, index) => {\r\n    dispatch(playlistDoubleClickAction(song, index))\r\n  },\r\n  event_onDelete: (index) => {\r\n    dispatch(roomSongDeleteAction(index))\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RoomContainer)\r\n","import React, {Component} from 'react'\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass AddNewSong extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    return (\r\n      <div className={classes.div}>\r\n        <Grid container spacing={0} alignItems='center' direction='column' className={classes.layout}>\r\n          <Grid item xs={11} container justify='center'>\r\n            <Input\r\n              className={classes.input}\r\n              value = {this.props.url}\r\n              placeholder = 'Youtube URL'\r\n              fullWidth\r\n              onChange = {this.props.event_urlOnChange}\r\n            />\r\n          </Grid>\r\n          <Grid item container spacing={1} justify='center'>\r\n            <Grid item xs={7}>\r\n              <Input\r\n                className={classes.input}\r\n                value = {this.props.title}\r\n                placeholder = 'Title'\r\n                fullWidth\r\n                onChange = {this.props.event_titleOnChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Input\r\n                className={classes.input}\r\n                value = {this.props.artist}\r\n                placeholder = 'Artist'\r\n                fullWidth\r\n                onChange = {this.props.event_artistOnChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={1}>\r\n              <Button disabled={!this.props.ready} color='secondary' fullWidth onClick={this.props.event_addNewSongOnClick}>\r\n                OK\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n  layout: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: '5px',\r\n  },\r\n  div: {\r\n    backgroundColor: '#424242',\r\n    // background: 'linear-gradient(to bottom, #525252, #313131)',\r\n    borderRadius: '5px',\r\n    height: '100%',\r\n  }\r\n})\r\n\r\nexport default withStyles(styles)(AddNewSong)\r\n","export const urlChangeAction = (url) => ({\r\n  type: 'URL_CHANGE',\r\n  url: url\r\n})\r\n\r\nexport const artistChangeAction = (artist) => ({\r\n  type: 'ARTIST_CHANGE',\r\n  artist: artist\r\n})\r\n\r\nexport const titleChangeAction = (title) => ({\r\n  type: 'TITLE_CHANGE',\r\n  title: title\r\n})\r\n\r\nexport const autoSetInfoAction = (videoId, artist, title) => ({\r\n  type: 'AUTO_SET_INFO',\r\n  videoId: videoId,\r\n  artist: artist,\r\n  title: title\r\n})\r\n\r\nexport const clearInputAction = () => ({\r\n  type: 'CLEAR_INPUT',\r\n})\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport AddNewSong from '../components/AddNewSong.js'\r\n\r\nimport {urlChangeAction, artistChangeAction, titleChangeAction, autoSetInfoAction, clearInputAction, } from '../actions/addNewSongActions'\r\n\r\n// Promise\r\nimport Promise from 'promise'\r\n// Youtube parsers\r\nimport * as getYoutubeId from 'get-youtube-id';\r\nimport * as getYoutubeTitle from 'get-youtube-title';\r\nimport * as getArtistTitle from 'get-artist-title';\r\n\r\nclass AddNewSongContainer extends Component {\r\n  render() {\r\n    const {url, videoId, artist, title, loginAccount} = this.props;\r\n    return (\r\n      <AddNewSong\r\n        url = {url}\r\n        title = {title}\r\n        artist = {artist}\r\n        ready = {videoId!=='' && title!=='' && artist!=='' && loginAccount!==undefined}\r\n        event_urlOnChange = {this.props.event_urlOnChange}\r\n        event_artistOnChange = {this.props.event_artistOnChange}\r\n        event_titleOnChange = {this.props.event_titleOnChange}\r\n        event_addNewSongOnClick = {() => {\r\n          this.props.event_addNewSong()\r\n          this.props.clearInput()\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\n// function to parse youtube url\r\n// encapsulated with a Promise because 'getYoutubeTitle' is asynchronous\r\nconst parseYoutubeUrl = (url) => {\r\n  let id = getYoutubeId(url, {fuzzy: false});\r\n  if(id==null) {\r\n    return new Promise((resolve, reject) => {\r\n      reject('Cannot get youtube id');\r\n    })\r\n  }\r\n  else {\r\n    return new Promise((resolve, reject) => {\r\n      getYoutubeTitle(id, (err, fullTitle) => {\r\n        resolve({videoId:id, fullTitle:fullTitle});\r\n        reject(err);\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  url: state.addNewSongReducer.url,\r\n  videoId: state.addNewSongReducer.videoId,\r\n  artist: state.addNewSongReducer.artist,\r\n  title: state.addNewSongReducer.title,\r\n  loginAccount: state.accountReducer.loginAccount,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_urlOnChange: (event) => {\r\n    dispatch(urlChangeAction(event.target.value))\r\n    parseYoutubeUrl(event.target.value).then((value) => {\r\n      try {\r\n        console.log('video id = ' + value.videoId);\r\n        let [artist, title] = getArtistTitle(value.fullTitle);\r\n        dispatch(autoSetInfoAction(value.videoId, artist, title));\r\n      } catch (e) {\r\n        console.log(e);\r\n        dispatch(autoSetInfoAction(value.videoId, 'unknown artist', 'unknown title'));\r\n      }\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      dispatch(autoSetInfoAction('', '', ''));\r\n    })\r\n  },\r\n  event_artistOnChange: (event) => {\r\n    dispatch(artistChangeAction(event.target.value))\r\n  },\r\n  event_titleOnChange: (event) => {\r\n    dispatch(titleChangeAction(event.target.value))\r\n  },\r\n  clearInput: () => {\r\n    dispatch(clearInputAction())\r\n  },\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddNewSongContainer)\r\n","const styles = theme => ({\r\n  border: {\r\n    borderColor: '#D50000',\r\n    borderStyle: 'dashed',\r\n  },\r\n  table: {\r\n    height: '585px',\r\n    overflow: 'auto',\r\n    borderRadius: '5px',\r\n    background: 'linear-gradient(to left, #424242, #37474F)'\r\n  },\r\n  header: {\r\n    // background: 'linear-gradient(to left, #424242, #37474F)',\r\n    // position: 'sticky',\r\n    // top: 0,\r\n    // zIndex: 15,\r\n  },\r\n  headerCell: {\r\n    fontFamily: 'Verdana',\r\n    fontSize: '14pt',\r\n    color: '#F48FB1',\r\n    position: 'sticky',\r\n    backgroundColor: \"#424242\",\r\n    // background: 'linear-gradient(to left, #424242, #37474F)',\r\n    top: 0,\r\n    zIndex: 10,\r\n  },\r\n  headerPosition: {\r\n    position: 'sticky',\r\n  },\r\n  cell: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n  pagination: {\r\n    //fontFamily: 'Microsoft JhengHei',\r\n  }\r\n});\r\n\r\nexport default styles\r\n","import React, {Component} from 'react'\r\n\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/musicTableStyle.js'\r\n\r\nclass EnhancedTableHead extends Component {\r\n  headerColumns = [\r\n    { id: 'title', numeric: false, disablePadding: false, label: 'Title' },\r\n    { id: 'artist', numeric: false, disablePadding: false, label: 'Artist' },\r\n  ];\r\n\r\n  render() {\r\n    const {classes} = this.props;\r\n    return (\r\n      <TableHead >\r\n        <TableRow className={classes.header}>\r\n          <TableCell padding=\"checkbox\" className={classes.headerCell}>\r\n            <Checkbox\r\n              onChange={this.props.event_onSelectAll}\r\n            />\r\n          </TableCell>\r\n          {this.headerColumns.map(row => {\r\n            return (\r\n              <TableCell\r\n                className={classes.headerCell}\r\n                key={row.id}\r\n                numeric={row.numeric}\r\n                padding={row.disablePadding ? 'none' : 'default'}\r\n              >\r\n                <TableSortLabel\r\n                  active={row.id===this.props.orderBy}\r\n                  direction={this.props.order}\r\n                  onClick={() => this.props.event_onSortLabelClick(row.id)}\r\n                >\r\n                  {row.label}\r\n                </TableSortLabel>\r\n              </TableCell>\r\n            );\r\n          }, this)}\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nclass EnhancedTable extends Component {\r\n  render() {\r\n    const {classes, page, rowsPerPage} = this.props;\r\n    const count = this.props.songs.length\r\n    return (\r\n      <Paper>\r\n        <div className={classes.table}>\r\n          <Table padding='dense'>\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              order = {this.props.order}\r\n              orderBy = {this.props.orderBy}\r\n              event_onSortLabelClick = {this.props.event_onSortLabelClick}\r\n              event_onSelectAll = {this.props.event_onSelectAll}\r\n            />\r\n            <TableBody>\r\n              {this.props.songs.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(song => {\r\n                const isSelected = this.props.selected.includes(song.id);\r\n                return (\r\n                  <TableRow\r\n                    hover\r\n                    selected={isSelected}\r\n                    onClick = {(event) => this.props.event_onSelect(event, song.id)}\r\n                    onDoubleClick = {()=>this.props.event_onDoubleClick(song)}\r\n                    key = {song.id}\r\n                  >\r\n                    <TableCell padding=\"checkbox\">\r\n                    </TableCell>\r\n                    <TableCell className={classes.cell}>\r\n                      {song.title}\r\n                    </TableCell>\r\n                    <TableCell className={classes.cell}>\r\n                      {song.artist}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                )\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n        <TablePagination\r\n          labelRowsPerPage='每頁顯示: '\r\n          count = {count}\r\n          rowsPerPage={rowsPerPage}\r\n          rowsPerPageOptions={[10, 25, count<50? 50:count]}\r\n          page={page}\r\n          backIconButtonProps={{\r\n            'aria-label': 'Previous Page',\r\n          }}\r\n          nextIconButtonProps={{\r\n            'aria-label': 'Next Page',\r\n          }}\r\n          onChangePage={this.props.event_onChangePage}\r\n          onChangeRowsPerPage={this.props.event_onChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass MusicTable extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div>\r\n        <EnhancedTable\r\n          classes={classes}\r\n          totalCount = {this.props.totalCount}\r\n          songs = {this.props.songs}\r\n          order = {this.props.order}\r\n          orderBy = {this.props.orderBy}\r\n          selected = {this.props.selected}\r\n          page = {this.props.page}\r\n          rowsPerPage = {this.props.rowsPerPage}\r\n          event_onSortLabelClick = {this.props.event_onSortLabelClick}\r\n          event_onSelect = {this.props.event_onSelect}\r\n          event_onSelectAll = {this.props.event_onSelectAll}\r\n          event_onChangePage = {this.props.event_onChangePage}\r\n          event_onChangeRowsPerPage = {this.props.event_onChangeRowsPerPage}\r\n          event_onDoubleClick={this.props.event_onDoubleClick}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MusicTable)\r\n","export const refreshTableAction = (songs) => ({\r\n  type: 'REFRESH_TABLE',\r\n  songs: songs\r\n})\r\n\r\nexport const changeSortAction = (orderBy) => ({\r\n  type: 'CHANGE_SORT',\r\n  orderBy: orderBy\r\n})\r\n\r\nexport const selectSongAction = (id) => ({\r\n  type: 'SELECT_SONG',\r\n  id: id\r\n})\r\n\r\nexport const selectAllAction = (checked) => ({\r\n  type: 'SELECT_ALL',\r\n  checked: checked\r\n})\r\n\r\nexport const changePageAction = (page) => ({\r\n  type: 'CHANGE_PAGE',\r\n  page: page\r\n})\r\n\r\nexport const changeRowsPerPageAction = (rowsPerPage) => ({\r\n  type: 'CHANGE_ROWS_PER_PAGE',\r\n  rowsPerPage: rowsPerPage\r\n})\r\n\r\nexport const musicTableDoubleClickAction = (song) => ({\r\n  type: 'PLAY_SONG_FROM_TABLE',\r\n  song: song\r\n})\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport MusicTable from '../components/MusicTable.js'\r\n\r\nimport {refreshTableAction, changeSortAction, selectSongAction, selectAllAction, changePageAction, changeRowsPerPageAction, musicTableDoubleClickAction} from '../actions/musicTableActions'\r\n\r\nimport naturalCompare from 'string-natural-compare'\r\n\r\nclass MusicTableContainer extends Component {\r\n\r\n  sortSongs() {\r\n    this.props.songs.sort((a,b) => {\r\n      if(this.props.orderBy === 'title') {\r\n        return this.props.order==='asc'? naturalCompare.caseInsensitive(a.title, b.title):-naturalCompare.caseInsensitive(a.title, b.title);\r\n      } else if (this.props.orderBy === 'artist') {\r\n        return this.props.order==='asc'? naturalCompare.caseInsensitive(a.artist, b.artist):-naturalCompare.caseInsensitive(a.artist, b.artist);\r\n      } else {\r\n        return -naturalCompare.caseInsensitive(a.createdTime, b.createdTime);\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    this.sortSongs();\r\n    return (\r\n      <MusicTable\r\n        order = {this.props.order}\r\n        orderBy = {this.props.orderBy}\r\n        songs = {this.props.songs}\r\n        selected = {this.props.selected}\r\n        page = {this.props.page}\r\n        rowsPerPage = {this.props.rowsPerPage}\r\n        event_onSortLabelClick = {this.props.event_onSortLabelClick}\r\n        event_onSelect = {this.props.event_onSelect}\r\n        event_onSelectAll = {this.props.event_onSelectAll}\r\n        event_onChangePage = {this.props.event_onChangePage}\r\n        event_onChangeRowsPerPage = {this.props.event_onChangeRowsPerPage}\r\n        event_onDoubleClick={this.props.event_onDoubleClick}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n  songs: state.musicTableReducer.songs,\r\n  order: state.musicTableReducer.order,\r\n  orderBy: state.musicTableReducer.orderBy,\r\n  selected: state.musicTableReducer.selected,\r\n  page: state.musicTableReducer.page,\r\n  rowsPerPage: state.musicTableReducer.rowsPerPage,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_onDatabaseCreate: (data) => {\r\n    dispatch(refreshTableAction(data));\r\n  },\r\n  event_onSortLabelClick: (orderBy) => {\r\n    dispatch(changeSortAction(orderBy))\r\n  },\r\n  event_onSelect: (event, id) => {\r\n    dispatch(selectSongAction(id))\r\n  },\r\n  event_onSelectAll: (event) => {\r\n    dispatch(selectAllAction(event.target.checked))\r\n  },\r\n  event_onChangePage: (event, page) => {\r\n    dispatch(changePageAction(page))\r\n  },\r\n  event_onChangeRowsPerPage: (event) => {\r\n    dispatch(changeRowsPerPageAction(event.target.value))\r\n  },\r\n  event_onDoubleClick: (song) => {\r\n    dispatch(musicTableDoubleClickAction(song))\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicTableContainer)\r\n","const styles = theme => ({\r\n  toolbar: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: '5px',\r\n  },\r\n  accountCircle: {\r\n    paddingRight: '10px'\r\n  },\r\n  button: {\r\n    fontFamily: 'Arial',\r\n    textTransform:'none'\r\n  },\r\n});\r\n\r\nexport default styles\r\n","import React, {Component} from 'react'\r\n\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport PlaylistAdd from '@material-ui/icons/PlaylistAdd';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport HelpOutline from '@material-ui/icons/HelpOutline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport styles from '../styles/musicTableToolbarStyle.js'\r\n\r\nclass MusicTableToolbar extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n    const numSelected = this.props.selected.length;\r\n    const accountText = (this.props.loginAccount !== '' && this.props.loginAccount !== undefined)? this.props.loginAccount:'Login here';\r\n\r\n    return (\r\n        <Toolbar className={classes.toolbar}>\r\n          <Grid container spacing={0}>\r\n            <Grid item xs={6} >\r\n              <Button\r\n                className={classes.button}\r\n                color='primary'\r\n                onClick={this.props.event_onLoginClick}\r\n              >\r\n                <AccountCircle className={classes.accountCircle}/>\r\n                {accountText}\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={6} container spacing={0}>\r\n              <Grid item>\r\n                <Button color='primary' disabled={numSelected!==1} onClick={this.props.event_onEditSongClick}>\r\n                  <EditIcon/>\r\n                </Button>\r\n              </Grid>\r\n              <Grid item>\r\n                <Button color='primary' disabled={numSelected===0} onClick={this.props.event_onDeleteSongClick}>\r\n                  <DeleteIcon />\r\n                </Button>\r\n              </Grid>\r\n              <Grid item>\r\n                <Button color='primary' disabled={numSelected===0} onClick={this.props.event_onAddSongToPlaylist}>\r\n                  <PlaylistAdd />\r\n                </Button>\r\n              </Grid>\r\n              <Grid item>\r\n                <Button color='primary' onClick={this.props.event_onHelpClick}>\r\n                  <HelpOutline />\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(MusicTableToolbar)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass LoginDialog extends Component {\r\n  render() {\r\n    const {displayLoginDialog, event_onLoginInputChange, event_onLoginClose, event_onKeyUp} = this.props;\r\n    const {classes} = this.props\r\n    return (\r\n      <Dialog\r\n        open = {displayLoginDialog}\r\n        modal = 'true'\r\n      >\r\n        <DialogContent>\r\n          <Input\r\n            autoFocus\r\n            className={classes.input}\r\n            placeholder={'Enter your account ...'}\r\n            onChange={event_onLoginInputChange}\r\n            onKeyUp={event_onKeyUp}\r\n          />\r\n          <Button disabled={this.props.userNameInput.trim()===''} color='secondary' onClick={()=>event_onLoginClose(true)}>\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>event_onLoginClose(false)}>\r\n            Cancel\r\n          </Button>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n})\r\n\r\nexport default withStyles(styles)(LoginDialog)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass EditSongDialog extends Component {\r\n  render() {\r\n    const {classes} = this.props\r\n    return (\r\n      <Dialog\r\n        open = {this.props.displayEditSongDialog}\r\n        modal = 'true'\r\n        onClose = {()=>this.props.event_onEditSongClose(false)}\r\n        maxWidth='sm'\r\n        fullWidth\r\n      >\r\n        <DialogContent>\r\n          <Grid container spacing={8} direction='column'>\r\n            <Grid item container>\r\n              <Grid item xs={10} >\r\n                <Input\r\n                  className={classes.input}\r\n                  fullWidth\r\n                  placeholder='Title'\r\n                  value={this.props.editSong.title}\r\n                  onChange={this.props.event_onEditSongTitleChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={2}>\r\n                <Button\r\n                  color='secondary'\r\n                  onClick={()=>this.props.event_onEditSongClose(true)}\r\n                >\r\n                  OK\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item container>\r\n              <Grid item xs={10}>\r\n                <Input\r\n                  className={classes.input}\r\n                  fullWidth\r\n                  placeholder='Artist'\r\n                  value={this.props.editSong.artist}\r\n                  onChange={this.props.event_onEditSongArtistChange}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={2}>\r\n                <Button\r\n                  color='primary'\r\n                  onClick={()=>this.props.event_onEditSongClose(false)}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  input: {\r\n    fontFamily: 'Verdana',\r\n  },\r\n});\r\n\r\nexport default withStyles(styles)(EditSongDialog)\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nclass DeleteSongDialog extends Component {\r\n  render() {\r\n    return (\r\n      <Dialog\r\n        open = {this.props.displayDeleteSongDialog}\r\n        modal = 'true'\r\n        onClose = {()=>this.props.event_onDeleteSongClose(false)}\r\n      >\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Delete this song ?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button color='secondary' onClick={()=>this.props.event_onDeleteSongClose(true)} >\r\n            OK\r\n          </Button>\r\n          <Button color='primary' onClick={()=>this.props.event_onDeleteSongClose(false)} >\r\n            Cancel\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeleteSongDialog\r\n","import React, {Component} from 'react'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass HelpDialog extends Component {\r\n  render() {\r\n    const {classes} = this.props\r\n    return (\r\n      <Dialog\r\n        open = {this.props.displayHelpDialog}\r\n        modal = 'true'\r\n        onClose = {this.props.event_onHelpClose}\r\n        maxWidth = 'false'\r\n      >\r\n        <DialogContent fullWidth>\r\n          <DialogContentText className={classes.text}>\r\n            1. 輸入使用者名稱(無須密碼)\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n            2. 加入喜歡的Youtube歌曲至歌庫(將Youtube網址貼上即可，可自己編輯歌名與演唱者)\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n            3. 在歌庫點兩下滑鼠即可播放，亦可在右方建立播放清單，將歌曲加入\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n            4. 進入相同名稱的Room，即可與同一個Room的人共享歌單\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n          </DialogContentText>\r\n          <DialogContentText className={classes.text}>\r\n            <a href='https://github.com/Joe771010/fragileplayer2' target=\"_blank\" className={classes.github}>\r\n              Source code on Github\r\n            </a>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  text: {\r\n    fontFamily: 'Microsoft JhengHei',\r\n  },\r\n  github: {\r\n    // fontFamily: 'Microsoft JhengHei',\r\n    color: 'pink',\r\n  },\r\n});\r\n\r\nexport default withStyles(styles)(HelpDialog)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport MusicTableToolbar from '../components/MusicTableToolbar.js'\r\nimport LoginDialog from '../components/LoginDialog.js'\r\nimport EditSongDialog from '../components/EditSongDialog.js'\r\nimport DeleteSongDialog from '../components/DeleteSongDialog.js'\r\nimport HelpDialog from '../components/HelpDialog.js'\r\n\r\nimport {loginOpenAction, loginInputChangeAction, loginCloseAction, resetAccountAction} from '../actions/accountActions.js'\r\nimport {editSongOpenAction, editSongCloseAction, editSongTitleChangeAction, editSongArtistChangeAction, deleteSongOpenAction, deleteSongCloseAction, helpAction, helpCloseAction} from '../actions/musicTableToolbarActions.js'\r\nimport {addSongToPlaylistAction} from '../actions/playlistActions.js'\r\n\r\nclass MusicTableToolbarContainer extends Component {\r\n\r\n  event_onLoginClose(isChangingAccount) {\r\n    if(isChangingAccount && this.props.userNameInput !== '') {\r\n      this.props.event_onLoginAccountChange(this.props.userNameInput)\r\n      this.props.closeLoginDialog(isChangingAccount, this.props.userNameInput)\r\n    } else {\r\n      this.props.closeLoginDialog(false, this.props.userNameInput)\r\n    }\r\n  }\r\n\r\n  event_onKeyUp(event) {\r\n    if (event.key == 'Enter') {\r\n      this.event_onLoginClose(true)\r\n    } else if (event.key == 'Escape') {\r\n      this.event_onLoginClose(false)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.selectedSongs = [];\r\n    this.props.selected.forEach(s => {\r\n      this.selectedSongs.push(this.props.songs.find((x) => {\r\n        return x.id === s\r\n      }))\r\n    })\r\n    return (\r\n      <div style={{paddingTop:'10px'}}>\r\n        <MusicTableToolbar\r\n          selected={this.props.selected}\r\n          loginAccount={this.props.loginAccount}\r\n          event_onLoginClick={this.props.event_onLoginClick}\r\n          event_onEditSongClick={()=>this.props.event_onEditSongClick(this.selectedSongs[0])}\r\n          event_onDeleteSongClick={this.props.event_onDeleteSongClick}\r\n          event_onHelpClick={this.props.event_onHelpClick}\r\n          event_onAddSongToPlaylist={()=>{\r\n            this.props.event_onAddSongToPlaylist()\r\n            this.props.send_addSongToPlaylistAction(this.selectedSongs, this.props.loginAccount)\r\n          }}\r\n        />\r\n        <LoginDialog\r\n          userNameInput={this.props.userNameInput}\r\n          displayLoginDialog={this.props.displayLoginDialog}\r\n          event_onLoginInputChange={this.props.event_onLoginInputChange}\r\n          event_onLoginClose={(isChangingAccount)=>this.event_onLoginClose(isChangingAccount)}\r\n          event_onKeyUp={(event)=>this.event_onKeyUp(event)}\r\n        />\r\n        <EditSongDialog\r\n          displayEditSongDialog = {this.props.displayEditSongDialog}\r\n          editSong = {this.props.editSong}\r\n          event_onEditSongClose = {(result)=>{\r\n            this.props.event_finishEditSong(result)\r\n            this.props.event_onEditSongClose()}\r\n          }\r\n          event_onEditSongTitleChange = {this.props.event_onEditSongTitleChange}\r\n          event_onEditSongArtistChange = {this.props.event_onEditSongArtistChange}\r\n        />\r\n        <DeleteSongDialog\r\n          displayDeleteSongDialog = {this.props.displayDeleteSongDialog}\r\n          event_onDeleteSongClose = {(result)=>{\r\n            this.props.event_finishDeleteSong(result)\r\n            this.props.event_onDeleteSongClose()}\r\n          }\r\n        />\r\n        <HelpDialog\r\n          displayHelpDialog = {this.props.displayHelpDialog}\r\n          event_onHelpClose = {this.props.event_onHelpClose}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  songs: state.musicTableReducer.songs,\r\n  selected: state.musicTableReducer.selected,\r\n\r\n  displayLoginDialog: state.accountReducer.displayLoginDialog,\r\n  userNameInput: state.accountReducer.userNameInput,\r\n  loginAccount: state.accountReducer.loginAccount,\r\n\r\n  displayEditSongDialog: state.musicTableToolbarReducer.displayEditSongDialog,\r\n  displayDeleteSongDialog: state.musicTableToolbarReducer.displayDeleteSongDialog,\r\n  displayHelpDialog: state.musicTableToolbarReducer.displayHelpDialog,\r\n  editSong: state.musicTableToolbarReducer.editSong,\r\n\r\n  currentRoom: state.playlistReducer.currentRoom,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  // ---------- login ----------\r\n  event_onLoginClick: () => {\r\n    dispatch(loginOpenAction())\r\n  },\r\n  event_onLoginInputChange: (event) => {\r\n    dispatch(loginInputChangeAction(event.target.value))\r\n  },\r\n  closeLoginDialog: (isChangingAccount, userNameInput) => {\r\n    dispatch(loginCloseAction())\r\n    if(isChangingAccount) dispatch(resetAccountAction(userNameInput))\r\n  },\r\n  // ---------- edit song ----------\r\n  event_onEditSongClick: (editSong) => {\r\n    dispatch(editSongOpenAction(editSong))\r\n  },\r\n  event_onEditSongClose: () => {\r\n    dispatch(editSongCloseAction())\r\n  },\r\n  event_onEditSongTitleChange: (event) => {\r\n    dispatch(editSongTitleChangeAction(event.target.value))\r\n  },\r\n  event_onEditSongArtistChange: (event) => {\r\n    dispatch(editSongArtistChangeAction(event.target.value))\r\n  },\r\n  // ---------- delete song ----------\r\n  event_onDeleteSongClick: () => {\r\n    dispatch(deleteSongOpenAction())\r\n  },\r\n  event_onDeleteSongClose: () => {\r\n    dispatch(deleteSongCloseAction())\r\n  },\r\n  // ---------- playlist ----------\r\n  send_addSongToPlaylistAction: (songs, account) => {\r\n    dispatch(addSongToPlaylistAction(songs, account))\r\n  },\r\n  // ---------- help ----------\r\n  event_onHelpClick: () => {\r\n    dispatch(helpAction())\r\n  },\r\n  event_onHelpClose: () => {\r\n    dispatch(helpCloseAction())\r\n  }\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicTableToolbarContainer)\r\n","export const loginOpenAction = () => ({\r\n  type: 'LOGIN_OPEN'\r\n})\r\n\r\nexport const loginInputChangeAction = (userNameInput) => ({\r\n  type: 'LOGIN_INPUT_CHANGE',\r\n  userNameInput: userNameInput\r\n})\r\n\r\nexport const loginCloseAction = () => ({\r\n  type: 'LOGIN_CLOSE',\r\n})\r\n\r\nexport const resetAccountAction = (userNameInput) => ({\r\n  type: 'RESET_ACCOUNT',\r\n  userNameInput: userNameInput\r\n})\r\n","export const editSongOpenAction = (editSong) => ({\r\n  type: 'EDIT_SONG_INIT',\r\n  editSong: editSong\r\n})\r\n\r\nexport const editSongCloseAction = () => ({\r\n  type: 'EDIT_SONG_CLOSE',\r\n})\r\n\r\nexport const editSongTitleChangeAction = (title) => ({\r\n  type: 'EDIT_SONG_TITLE_CHANGE',\r\n  title: title\r\n})\r\n\r\nexport const editSongArtistChangeAction = (artist) => ({\r\n  type: 'EDIT_SONG_ARTIST_CHANGE',\r\n  artist: artist\r\n})\r\n\r\nexport const deleteSongOpenAction = () => ({\r\n  type: 'DELETE_SONG_OPEN',\r\n})\r\n\r\nexport const deleteSongCloseAction = () => ({\r\n  type: 'DELETE_SONG_CLOSE',\r\n})\r\n\r\nexport const helpAction = () => ({\r\n  type: 'OPEN_HELP_DIALOG',\r\n})\r\n\r\nexport const helpCloseAction = () => ({\r\n  type: 'CLOSE_HELP_DIALOG',\r\n})\r\n","import React, {Component} from 'react'\r\n\r\nimport PlaylistToolbarContainer from '../containers/PlaylistToolbarContainer.js'\r\nimport PlaylistContainer from '../containers/PlaylistContainer.js'\r\nimport PlayerContainer from '../containers/PlayerContainer.js'\r\nimport RoomContainer from '../containers/RoomContainer.js'\r\n\r\nimport AddNewSongContainer from '../containers/AddNewSongContainer.js'\r\nimport MusicTableContainer from '../containers/MusicTableContainer.js'\r\nimport MusicTableToolbarContainer from '../containers/MusicTableToolbarContainer.js'\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass Account extends Component {\r\n  render() {\r\n    const {classes} = this.props;\r\n    const playlist = (\r\n      <PlaylistContainer\r\n        event_onPlaylistSongMove={this.props.event_onPlaylistSongMove}\r\n      />\r\n    );\r\n    const room = (\r\n      <RoomContainer\r\n        event_onRoomSongDelete={this.props.event_onRoomSongDelete}\r\n      />\r\n    );\r\n\r\n    return (\r\n      <Grid container spacing={1} className={classes.main}>\r\n\r\n        <Grid item container spacing={1}>\r\n          <Grid item xs={7} className={classes.musicTableToolbarBorder}>\r\n            <MusicTableToolbarContainer\r\n              event_onLoginAccountChange={this.props.event_onLoginAccountChange}\r\n              event_finishEditSong={this.props.event_finishEditSong}\r\n              event_finishDeleteSong={this.props.event_finishDeleteSong}\r\n              event_onAddSongToPlaylist={this.props.event_onAddSongToPlaylist}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={5} className={classes.playlistToolbarBorder}>\r\n            <PlaylistToolbarContainer\r\n              event_onDeletePlaylist={this.props.event_onDeletePlaylist}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item container spacing={1}>\r\n          <Grid item xs={7} className={classes.musicTableBorder}>\r\n            <MusicTableContainer />\r\n          </Grid>\r\n          <Grid item xs={5} className={classes.playlistBorder}>\r\n            {this.props.currentRoom===undefined? playlist: room}\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item container spacing={1}>\r\n          <Grid item xs={7} className={classes.addNewSongBorder}>\r\n            <AddNewSongContainer\r\n              event_addNewSong={this.props.event_addNewSong}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={5} className={classes.playerBorder}>\r\n            <PlayerContainer />\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    maxWidth: '1200px',\r\n  },\r\n  musicTableToolbarBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#FFCDD2',\r\n    // borderStyle: 'dashed',\r\n    // backgroundColor: '#424242',\r\n    // borderRadius: '5px',\r\n  },\r\n  playlistToolbarBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#1DE9B6',\r\n    // borderStyle: 'dashed',\r\n    // backgroundColor: '#424242',\r\n    // borderRadius: '5px',\r\n  },\r\n  musicTableBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#D50000',\r\n    // borderStyle: 'dashed',\r\n  },\r\n  addNewSongBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#B388FF',\r\n    // borderStyle: 'dashed',\r\n    // backgroundColor: '#424242',\r\n    // background: 'linear-gradient(to bottom, #424242, #313131)',\r\n    // borderRadius: '5px',\r\n  },\r\n  playlistBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#424242',\r\n    // borderStyle: 'dashed',\r\n  },\r\n  playerBorder: {\r\n    // borderWidth: '1px',\r\n    // borderColor: '#FFD600',\r\n    // borderStyle: 'dashed',\r\n    // backgroundColor: '#424242',\r\n    // borderRadius: '5px',\r\n  }\r\n});\r\n\r\nexport default withStyles(styles)(Account)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport format from 'date-fns/format'\r\n\r\nimport Account from '../components/Account.js'\r\n\r\nimport {refreshTableAction} from '../actions/musicTableActions'\r\nimport {refreshPlaylistsAction} from '../actions/playlistActions'\r\n\r\nclass AccountContainer extends Component {\r\n\r\n  componentWillMount() {\r\n    const config = {\r\n      apiKey: \"AIzaSyDsiMCX9o5ht0nvR-2YpydKoc3acvDWxBk\",\r\n      authDomain: \"fragileplayer2.firebaseapp.com\",\r\n      databaseURL: \"https://fragileplayer2.firebaseio.com\",\r\n      projectId: \"fragileplayer2\",\r\n      storageBucket: \"fragileplayer2.appspot.com\",\r\n      messagingSenderId: \"616243676456\"\r\n    };\r\n    firebase.initializeApp(config);\r\n\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if(user.isAnonymous){\r\n        console.log('sign in anonymously')\r\n      }\r\n    })\r\n\r\n    this.event_onLoginAccountChange(this.props.loginAccount)\r\n  }\r\n\r\n  event_onLoginAccountChange(accountName) {\r\n    this._refreshSongs(accountName)\r\n    this._refreshPlaylists(accountName)\r\n  }\r\n\r\n  _refreshSongs(accountName) {\r\n    // get songs from database\r\n    this._count = 0;\r\n    this._firebaseRef = firebase.database().ref('users/' + accountName)\r\n    this._firebaseRef.child('songs').once('value', (dbSongs) => {\r\n      let songs = [];\r\n      this._count = 0;\r\n      dbSongs.forEach((dbSong) => {\r\n        let song = {\r\n          id: this._count,\r\n          videoId: dbSong.val().video_id,\r\n          title: dbSong.val().title,\r\n          artist: dbSong.val().artist,\r\n          createdTime: dbSong.val().createdTime===undefined? '':dbSong.val().createdTime\r\n        }\r\n        songs.push(song);\r\n        this._count = this._count + 1;\r\n      });\r\n\r\n      // send action\r\n      this.props.event_onSongsFetch(songs);\r\n      console.log('totally ' + (this._count) + ' songs');\r\n    });\r\n  }\r\n\r\n  _refreshPlaylists(accountName) {\r\n    // get playlist names from database\r\n    this.firebaseRef2 = firebase.database().ref('users/' + accountName + '/playlists');\r\n    this.firebaseRef2.once('value', dbPlaylists => {\r\n      let playlists = [];\r\n      dbPlaylists.forEach(dbPlaylist => {\r\n        playlists.push(dbPlaylist.key)\r\n      })\r\n\r\n      // send action\r\n      this.props.event_onPlaylistsFetch(playlists)\r\n      console.log('totally ' + (playlists.length) + ' playlists');\r\n    })\r\n  }\r\n\r\n  event_addNewSong() {\r\n    const {videoId, title, artist} = this.props;\r\n    // use videoId as key, so we can prevent add repeated songs\r\n    let newSong = {\r\n      [videoId]: {\r\n        title: title,\r\n        artist: artist,\r\n        video_id: videoId,\r\n        createdTime: format(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n      }\r\n    };\r\n    this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/songs');\r\n    this.firebaseRef.update(newSong)\r\n\r\n    this._refreshSongs(this.props.loginAccount)\r\n  }\r\n\r\n  event_finishEditSong(result) {\r\n    if(result === true) {\r\n      let updateSong = {\r\n        [this.props.editSong.videoId]: {\r\n          title: this.props.editSong.title,\r\n          artist: this.props.editSong.artist,\r\n          video_id: this.props.editSong.videoId,\r\n          createdTime: this.props.editSong.createdTime\r\n        }\r\n      };\r\n      this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/songs');\r\n      this.firebaseRef.update(updateSong);\r\n\r\n      this._refreshSongs(this.props.loginAccount)\r\n    }\r\n  }\r\n\r\n  event_finishDeleteSong(result) {\r\n    if(result === true){\r\n      let selectedSongs = [];\r\n      this.props.selected.forEach(s => {\r\n        selectedSongs.push(this.props.songs.find((x) => {\r\n          return x.id === s\r\n        }))\r\n      })\r\n\r\n      this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/songs');\r\n      selectedSongs.forEach(s=>{\r\n        this.firebaseRef.child(s.videoId).remove();\r\n      })\r\n      this._refreshSongs(this.props.loginAccount)\r\n    }\r\n  }\r\n\r\n  event_onAddSongToPlaylist() {\r\n    let data;\r\n    let selectedSong;\r\n    // add song to room\r\n    if (this.props.currentRoom !== undefined) {\r\n      // current songs in playlist\r\n      data = this.props.playlistSongs.map(song => ({\r\n        title: song.title,\r\n        artist: song.artist,\r\n        videoId: song.videoId,\r\n        owner: song.owner,\r\n      }));\r\n      // selected songs\r\n      this.props.selected.forEach(s => {\r\n        selectedSong = this.props.songs.find(x=>x.id===s);\r\n        data.push({\r\n          title: selectedSong.title,\r\n          artist: selectedSong.artist,\r\n          videoId: selectedSong.videoId,\r\n          owner: this.props.loginAccount,\r\n        })\r\n      })\r\n      this.updateRoom(data, this.props.currentRoom);\r\n      return;\r\n    }\r\n\r\n    // add song to playlist (臨時歌單不儲存資料庫)\r\n    if (this.props.currentPlaylist===undefined || this.props.currentPlaylist==='臨時歌單') return;\r\n    // current songs in playlist\r\n    data = this.props.playlistSongs.map(song => ({\r\n      title: song.title,\r\n      artist: song.artist,\r\n      videoId: song.videoId\r\n    }));\r\n    // selected songs\r\n    this.props.selected.forEach(s => {\r\n      selectedSong = this.props.songs.find(x=>x.id===s);\r\n      data.push({\r\n        title: selectedSong.title,\r\n        artist: selectedSong.artist,\r\n        videoId: selectedSong.videoId\r\n      })\r\n    })\r\n    this.updatePlaylist(data, this.props.currentPlaylist)\r\n  }\r\n\r\n  event_onPlaylistSongMove(type) {\r\n    let newPlaylistSongs = [...this.props.playlistSongs];\r\n    let idx = this.props.toolMenuIndex;\r\n    let tmp;\r\n    switch (type) {\r\n      case 'MOVE_UP':\r\n        if (idx === 0) return;\r\n        tmp = newPlaylistSongs[idx]\r\n        newPlaylistSongs[idx] = newPlaylistSongs[idx-1]\r\n        newPlaylistSongs[idx-1] = tmp\r\n        break;\r\n      case 'MOVE_DOWN':\r\n        if (idx === newPlaylistSongs.length-1) return;\r\n        tmp = newPlaylistSongs[idx]\r\n        newPlaylistSongs[idx] = newPlaylistSongs[idx+1]\r\n        newPlaylistSongs[idx+1] = tmp\r\n        break;\r\n      case 'DELETE':\r\n        newPlaylistSongs.splice(idx, 1)\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n    this.updatePlaylist(newPlaylistSongs, this.props.currentPlaylist)\r\n  }\r\n\r\n  event_onRoomSongDelete(song, index) {\r\n    if (song.owner !== this.props.loginAccount) {\r\n      alert('not the song owner')\r\n      return;\r\n    }\r\n    let newPlaylistSongs = [...this.props.playlistSongs];\r\n    newPlaylistSongs.splice(index, 1)\r\n    this.updateRoom(newPlaylistSongs, this.props.currentRoom)\r\n  }\r\n\r\n  updatePlaylist(songs, playlist) {\r\n    songs = songs.map((song)=>({\r\n      title: song.title,\r\n      artist: song.artist,\r\n      video_id: song.videoId\r\n    }))\r\n    this.firebaseRef = firebase.database().ref('users/' + this.props.loginAccount + '/playlists/' + playlist);\r\n    this.firebaseRef.set(songs);\r\n  }\r\n\r\n  updateRoom(songs, room) {\r\n    songs = songs.map((song)=>({\r\n      title: song.title,\r\n      artist: song.artist,\r\n      video_id: song.videoId,\r\n      owner: song.owner,\r\n    }))\r\n    this.firebaseRef = firebase.database().ref('rooms/' + room);\r\n    this.firebaseRef.set(songs);\r\n  }\r\n\r\n  event_onDeletePlaylist() {\r\n    this.firebaseRef2 = firebase.database().ref('users/' + this.props.loginAccount + '/playlists');\r\n    this.firebaseRef2.child(this.props.currentPlaylist).remove();\r\n  }\r\n\r\n\r\n//   render() {\r\n//     return (\r\n//       <div className='app'>\r\n//         <div>\r\n//           <MusicTableToolbarContainer\r\n//             event_onLoginAccountChange={(accountName)=>this.event_onLoginAccountChange(accountName)}\r\n//             event_finishEditSong={(result)=>this.event_finishEditSong(result)}\r\n//             event_finishDeleteSong={(result)=>this.event_finishDeleteSong(result)}\r\n//             event_onAddSongToPlaylist={()=>this.event_onAddSongToPlaylist()}\r\n//           />\r\n//           <MusicTableContainer />\r\n//           <AddNewSongContainer\r\n//             event_addNewSong={()=>this.event_addNewSong()}\r\n//           />\r\n//         </div>\r\n//         <div>\r\n//           <PlaylistToolbarContainer\r\n//             event_onDeletePlaylist={()=>this.event_onDeletePlaylist()}\r\n//           />\r\n//           <PlaylistContainer\r\n//             event_onPlaylistSongMove={(type)=>this.event_onPlaylistSongMove(type)}\r\n//           />\r\n//         </div>\r\n//         <PlayerContainer />\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\n  render() {\r\n    return (\r\n      <Account\r\n        currentRoom={this.props.currentRoom}\r\n        event_onLoginAccountChange={(accountName)=>this.event_onLoginAccountChange(accountName)}\r\n        event_finishEditSong={(result)=>this.event_finishEditSong(result)}\r\n        event_finishDeleteSong={(result)=>this.event_finishDeleteSong(result)}\r\n        event_onAddSongToPlaylist={()=>this.event_onAddSongToPlaylist()}\r\n        event_addNewSong={()=>this.event_addNewSong()}\r\n        event_onDeletePlaylist={()=>this.event_onDeletePlaylist()}\r\n        event_onPlaylistSongMove={(type)=>this.event_onPlaylistSongMove(type)}\r\n        event_onRoomSongDelete={(song, index)=>this.event_onRoomSongDelete(song, index)}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginAccount: state.accountReducer.loginAccount,\r\n\r\n  videoId: state.addNewSongReducer.videoId,\r\n  artist: state.addNewSongReducer.artist,\r\n  title: state.addNewSongReducer.title,\r\n\r\n  editSong: state.musicTableToolbarReducer.editSong,\r\n  songs: state.musicTableReducer.songs,\r\n  selected: state.musicTableReducer.selected,\r\n\r\n  currentPlaylist: state.playlistReducer.currentPlaylist,\r\n  playlistSongs: state.playlistReducer.playlistSongs,\r\n\r\n  currentRoom: state.playlistReducer.currentRoom,\r\n\r\n  toolMenuIndex: state.playlistReducer.toolMenuIndex,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  event_onSongsFetch: (songs) => {\r\n    dispatch(refreshTableAction(songs));\r\n  },\r\n  event_onPlaylistsFetch: (playlists) => {\r\n    dispatch(refreshPlaylistsAction(playlists))\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountContainer)\r\n","import React, {Component} from 'react'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nclass LayoutTest extends Component {\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <Grid container spacing={8}>\r\n\r\n        <Grid item container spacing={8}>\r\n          <Grid item xs={7}>\r\n            <Paper className={classes.musicTableToolbar}>MusicTableToolbar</Paper>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Paper className={classes.playlistToolbar}>PlaylistToolbar</Paper>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item container spacing={8}>\r\n          <Grid item xs={7} container spacing={0} direction='column'>\r\n            <Grid item>\r\n              <Paper className={classes.musicTable}>MusicTable</Paper>\r\n            </Grid>\r\n            <Grid item>\r\n              <Paper className={classes.addNewSong}>AddNewSong</Paper>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Paper className={classes.playlist}>Playlist</Paper>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid item container spacing={8}>\r\n          <Grid item xs={7}>\r\n            <Paper className={classes.player}>Player</Paper>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <Paper className={classes.logo}>Logo</Paper>\r\n          </Grid>\r\n        </Grid>\r\n\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  musicTableToolbar: {\r\n    borderColor: '#FFCDD2',\r\n    borderStyle: 'dashed'\r\n  },\r\n  musicTable: {\r\n    borderColor: '#D50000',\r\n    borderStyle: 'dashed'\r\n  },\r\n  addNewSong: {\r\n    borderColor: '#AA00FF',\r\n    borderStyle: 'dashed'\r\n  },\r\n  playlistToolbar: {\r\n    borderColor: '#304FFE',\r\n    borderStyle: 'dashed'\r\n  },\r\n  playlist: {\r\n    borderColor: '#18FFFF',\r\n    borderStyle: 'dashed'\r\n  },\r\n  player: {\r\n    borderColor: '#FF6F00',\r\n    borderStyle: 'dashed'\r\n  },\r\n  logo: {\r\n    borderColor: '#00C853',\r\n    borderStyle: 'dashed'\r\n  },\r\n});\r\n\r\nexport default withStyles(styles)(LayoutTest)\r\n","import React, { Component } from 'react';\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import purple from '@material-ui/core/colors/purple';\r\n// import green from '@material-ui/core/colors/green';\r\n// import orange from '@material-ui/core/colors/orange';\r\nimport lightBlue from '@material-ui/core/colors/lightBlue';\r\nimport lightGreen from '@material-ui/core/colors/lightGreen';\r\nimport pink from '@material-ui/core/colors/pink';\r\nimport teal from '@material-ui/core/colors/teal';\r\n\r\nimport AccountContainer from './containers/AccountContainer.js'\r\n\r\nimport LayoutTest from './LayoutTest.js'\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    type: 'dark', // Switching the dark mode on is a single property value change.\r\n    primary: lightBlue,\r\n    // secondary: pink,\r\n    secondary: {\r\n      main: '#F48FB1',\r\n    },\r\n  },\r\n  overrides: {\r\n    MuiSlider: {\r\n      track: { backgroundColor: '#F06292' },\r\n      thumb: { backgroundColor: '#EC407A' },\r\n    },\r\n    MuiTableRow: {\r\n      selected: {\r\n        backgroundColor: '#F48FB1 !important',\r\n      },\r\n    },\r\n    // MuiListItem: {\r\n    //   selected: {\r\n    //     backgroundColor: '#F48FB1 !important',\r\n    //   },\r\n    // }\r\n  }\r\n});\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <MuiThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        <AccountContainer />\r\n      </MuiThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","const initialState = () => ({\r\n  url: '',\r\n  videoId: '',\r\n  artist: '',\r\n  title: ''\r\n})\r\n\r\nconst addNewSongReducer  = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'URL_CHANGE':\r\n      return Object.assign({}, state, {\r\n        url: action.url\r\n      })\r\n    case 'ARTIST_CHANGE':\r\n      return Object.assign({}, state, {\r\n        artist: action.artist\r\n      })\r\n    case 'TITLE_CHANGE':\r\n      return Object.assign({}, state, {\r\n        title: action.title\r\n      })\r\n    case 'AUTO_SET_INFO':\r\n      return Object.assign({}, state, {\r\n        videoId: action.videoId,\r\n        artist: action.artist,\r\n        title: action.title\r\n      })\r\n    case 'CLEAR_INPUT':\r\n        return initialState();\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default addNewSongReducer\r\n","const initialState = () => ({\r\n  songs: [],\r\n  order: 'asc',\r\n  orderBy: 'createdTime',\r\n  selected: [],\r\n  page: 0,\r\n  rowsPerPage: 25,\r\n})\r\n\r\nconst musicTableReducer  = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'REFRESH_TABLE':\r\n      return Object.assign({}, state, {\r\n        songs: action.songs\r\n      })\r\n    case 'CHANGE_SORT':\r\n      if(state.orderBy === action.orderBy) {\r\n        return Object.assign({}, state, {\r\n          order: (state.order==='asc')? 'desc':'asc'\r\n        })\r\n      }\r\n      return Object.assign({}, state, {\r\n        order: 'asc',\r\n        orderBy: action.orderBy\r\n      })\r\n    case 'SELECT_SONG':\r\n      if(!state.selected.includes(action.id)) {\r\n        let newSelected = [...state.selected, action.id];\r\n        return Object.assign({}, state, {\r\n          selected: newSelected\r\n        })\r\n      }\r\n      else {\r\n        let newSelected = [...state.selected];\r\n        newSelected.splice(newSelected.indexOf(action.id), 1)\r\n        return Object.assign({}, state, {\r\n          selected: newSelected\r\n        })\r\n      }\r\n    case 'SELECT_ALL':\r\n      if (action.checked) {\r\n        return Object.assign({}, state, {\r\n          selected: state.songs.map(x=>x.id)\r\n        })\r\n      } else {\r\n        return Object.assign({}, state, {\r\n          selected: []\r\n        })\r\n      }\r\n    case 'CHANGE_PAGE':\r\n      return Object.assign({}, state, {\r\n        page: action.page\r\n      })\r\n    case 'CHANGE_ROWS_PER_PAGE':\r\n      return Object.assign({}, state, {\r\n        rowsPerPage: action.rowsPerPage\r\n      })\r\n    case 'EDIT_SONG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        selected: [],\r\n      })\r\n    case 'DELETE_SONG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        selected: [],\r\n      })\r\n    case 'ADD_SONG_TO_PLAYLIST':\r\n      return Object.assign({}, state, {\r\n        selected: [],\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default musicTableReducer\r\n","const initialState = () => ({\r\n  editSong: {},\r\n  displayEditSongDialog: false,\r\n  displayDeleteSongDialog: false,\r\n  displayHelpDialog: false,\r\n})\r\n\r\nconst musicTableToolbarReducer = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'EDIT_SONG_INIT':\r\n      return Object.assign({}, state, {\r\n        editSong: action.editSong,\r\n        displayEditSongDialog: true\r\n      })\r\n    case 'EDIT_SONG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        editSong: {},\r\n        displayEditSongDialog: false,\r\n      })\r\n    case 'EDIT_SONG_TITLE_CHANGE':\r\n      return Object.assign({}, state, {\r\n        editSong: Object.assign({}, state.editSong, {\r\n          title: action.title\r\n        })\r\n      })\r\n    case 'EDIT_SONG_ARTIST_CHANGE':\r\n      return Object.assign({}, state, {\r\n        editSong: Object.assign({}, state.editSong, {\r\n          artist: action.artist\r\n        })\r\n      })\r\n    case 'DELETE_SONG_OPEN':\r\n      return Object.assign({}, state, {\r\n        displayDeleteSongDialog: true,\r\n      })\r\n    case 'DELETE_SONG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        displayDeleteSongDialog: false,\r\n      })\r\n    case 'OPEN_HELP_DIALOG':\r\n      return Object.assign({}, state, {\r\n        displayHelpDialog: true,\r\n      })\r\n    case 'CLOSE_HELP_DIALOG':\r\n      return Object.assign({}, state, {\r\n        displayHelpDialog: false,\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default musicTableToolbarReducer\r\n","const initialState = () => ({\r\n  loginAccount: undefined,\r\n  displayLoginDialog: false,\r\n  userNameInput: '',\r\n})\r\n\r\nconst accountReducer = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN_OPEN':\r\n      return Object.assign({}, state, {\r\n        displayLoginDialog: true\r\n      })\r\n    case 'LOGIN_CLOSE'  :\r\n      return Object.assign({}, state, {\r\n        displayLoginDialog: false,\r\n        userNameInput: ''\r\n      })\r\n    case 'LOGIN_INPUT_CHANGE':\r\n      return Object.assign({}, state, {\r\n        userNameInput: action.userNameInput\r\n      })\r\n    case 'RESET_ACCOUNT':\r\n      console.log('change account to ' + action.userNameInput);\r\n      return Object.assign({}, state, {\r\n        loginAccount: action.userNameInput\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default accountReducer\r\n","const initialState = () => ({\r\n  // all saved playlists of the account\r\n  playlists: [],\r\n\r\n  // current playlist and song\r\n  currentPlaylist: undefined,\r\n  currentSongIndex: 0,\r\n  playlistSongs: [],\r\n\r\n  // dialog for creating new playlist\r\n  displayNewPlaylistDialog: false,\r\n  newPlaylist: '',\r\n\r\n  // dialog for removing playlist\r\n  displayDeletePlaylistDialog: false,\r\n\r\n  // dialog for entering room\r\n  displayEnterRoomDialog: false,\r\n  enterRoomName: '',\r\n\r\n  // room\r\n  currentRoom: undefined,\r\n\r\n  // menu for song moving and deleting\r\n  toolMenuAnchor: null,\r\n  toolMenuIndex: undefined,\r\n})\r\n\r\nconst CONST_TEMP_PLAYLIST = '臨時歌單';\r\n\r\nconst playlistReducer = (state = initialState(), action) => {\r\n  let newPlaylistSongs;\r\n  let tmp;\r\n\r\n  switch (action.type) {\r\n    case 'ADD_SONG_TO_PLAYLIST':\r\n      let newSongsArray = action.songs.map(song=>({\r\n        videoId: song.videoId,\r\n        title: song.title,\r\n        artist: song.artist,\r\n        owner: action.account,\r\n      }));\r\n      if (state.currentPlaylist === undefined) {\r\n        return Object.assign({}, state, {\r\n          currentPlaylist: state.currentPlaylist === undefined? CONST_TEMP_PLAYLIST: state.currentPlaylist,\r\n          playlists: [...state.playlists, CONST_TEMP_PLAYLIST],\r\n          playlistSongs: newSongsArray\r\n        })\r\n      }\r\n      return Object.assign({}, state, {\r\n        playlistSongs: [...state.playlistSongs, ...newSongsArray]\r\n      })\r\n    case 'PLAY_SONG_FROM_PLAYLIST':\r\n      return Object.assign({}, state, {\r\n        currentSongIndex: action.index,\r\n      })\r\n    case 'CHANGE_SONG':\r\n      return Object.assign({}, state, {\r\n        currentSongIndex: action.index,\r\n      })\r\n    case 'NEW_PLAYLIST_OPEN':\r\n      return Object.assign({}, state, {\r\n        displayNewPlaylistDialog: true,\r\n      })\r\n    case 'NEW_PLAYLIST_DIALOG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        displayNewPlaylistDialog: false,\r\n        newPlaylist: '',\r\n        currentPlaylist: action.success? state.newPlaylist: state.currentPlaylist,\r\n        playlists: action.success? [...state.playlists, state.newPlaylist]: state.playlists,\r\n        playlistSongs: action.success? []:state.playlistSongs\r\n      })\r\n    case 'NEW_PLAYLIST_INPUT_CHANGE':\r\n      return Object.assign({}, state, {\r\n        newPlaylist: action.name\r\n      })\r\n    case 'DELETE_PLAYLIST_DIALOG_OPEN':\r\n      if (state.currentPlaylist === undefined) return state\r\n      return Object.assign({}, state, {\r\n        displayDeletePlaylistDialog: true,\r\n      })\r\n    case 'DELETE_PLAYLIST_DIALOG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        displayDeletePlaylistDialog: false,\r\n        currentPlaylist: action.ok? undefined: state.currentPlaylist,\r\n        playlists: action.ok? state.playlists.filter(x=>x!==state.currentPlaylist): state.playlists,\r\n        playlistSongs: action.ok? []:state.playlistSongs\r\n      })\r\n    case 'REFRESH_PLAYLISTS':\r\n      return Object.assign({}, state, {\r\n        playlists: action.playlists,\r\n        playlistSongs: [],\r\n        currentPlaylist: undefined,\r\n        currentRoom: undefined,\r\n      })\r\n    case 'PLAYLIST_CHANGE':\r\n      return Object.assign({}, state, {\r\n        currentPlaylist: action.playlist,\r\n        playlistSongs: action.songs\r\n      })\r\n    case 'PLAYLIST_TOOL_MENU_OPEN':\r\n      return Object.assign({}, state, {\r\n        toolMenuAnchor: action.anchor,\r\n        toolMenuIndex: action.index\r\n      })\r\n    case 'PLAYLIST_TOOL_MENU_CLOSE':\r\n      return Object.assign({}, state, {\r\n        toolMenuAnchor: null,\r\n        toolMenuIndex: undefined\r\n      })\r\n    case 'PLAYLIST_SONG_MOVE_UP':\r\n      let idx_up = state.toolMenuIndex;\r\n      if (idx_up === 0) {\r\n        return Object.assign({}, state, {\r\n          toolMenuAnchor: null,\r\n          toolMenuIndex: undefined\r\n        })\r\n      }\r\n      newPlaylistSongs = [...state.playlistSongs]\r\n      tmp = newPlaylistSongs[idx_up]\r\n      newPlaylistSongs[idx_up] = newPlaylistSongs[idx_up-1]\r\n      newPlaylistSongs[idx_up-1] = tmp\r\n      return Object.assign({}, state, {\r\n        playlistSongs: newPlaylistSongs,\r\n        toolMenuAnchor: null,\r\n        toolMenuIndex: undefined\r\n      })\r\n    case 'PLAYLIST_SONG_MOVE_DOWN':\r\n      let idx_down = state.toolMenuIndex;\r\n      if (idx_down === state.playlistSongs.length-1) {\r\n        return Object.assign({}, state, {\r\n          toolMenuAnchor: null,\r\n          toolMenuIndex: undefined\r\n        })\r\n      }\r\n      newPlaylistSongs = [...state.playlistSongs]\r\n      tmp = newPlaylistSongs[idx_down]\r\n      newPlaylistSongs[idx_down] = newPlaylistSongs[idx_down+1]\r\n      newPlaylistSongs[idx_down+1] = tmp\r\n      return Object.assign({}, state, {\r\n        playlistSongs: newPlaylistSongs,\r\n        toolMenuAnchor: null,\r\n        toolMenuIndex: undefined\r\n      })\r\n    case 'PLAYLIST_SONG_DELETE':\r\n      newPlaylistSongs = [...state.playlistSongs]\r\n      newPlaylistSongs.splice(state.toolMenuIndex, 1)\r\n      return Object.assign({}, state, {\r\n        playlistSongs: newPlaylistSongs,\r\n        toolMenuAnchor: null,\r\n        toolMenuIndex: undefined\r\n      })\r\n    case 'ENTER_ROOM_OPEN':\r\n      return Object.assign({}, state, {\r\n        displayEnterRoomDialog: true,\r\n      })\r\n    case 'ENTER_ROOM_DIALOG_CLOSE':\r\n      return Object.assign({}, state, {\r\n        displayEnterRoomDialog: false,\r\n        currentRoom: action.ok? state.enterRoomName: state.currentRoom,\r\n        currentPlaylist: action.ok? undefined: state.currentPlaylist,\r\n      })\r\n    case 'ENTER_ROOM_INPUT_CHANGE':\r\n      return Object.assign({}, state, {\r\n        enterRoomName: action.name\r\n      })\r\n    case 'LEAVE_ROOM':\r\n      return Object.assign({}, state, {\r\n        currentRoom: undefined,\r\n        currentPlaylist: undefined,\r\n        currentSongIndex: 0,\r\n        playlistSongs: [],\r\n      })\r\n    case 'ROOM_SONG_DELETE':\r\n      newPlaylistSongs = [...state.playlistSongs]\r\n      newPlaylistSongs.splice(action.index, 1)\r\n      return Object.assign({}, state, {\r\n        playlistSongs: newPlaylistSongs,\r\n      })\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default playlistReducer\r\n","const initialState = () => ({\r\n    // player\r\n    youtube: null,\r\n    song: {\r\n      videoId: '',\r\n      title: '',\r\n      artist: ''\r\n    },\r\n    youtubeState: -1,\r\n    currentTime: 0,\r\n    playMode: 1,\r\n    volume: 20,\r\n})\r\n\r\nconst playerReducer = (state = initialState(), action) => {\r\n  switch (action.type) {\r\n    case 'SET_YOUTUBE_API':\r\n      return Object.assign({}, state, {\r\n        youtube: action.youtube\r\n      })\r\n    case 'CHANGE_PLAY_MODE':\r\n      console.log('CHANGE_PLAY_MODE -> ' + action.mode);\r\n      return Object.assign({}, state, {\r\n        playMode: action.mode,\r\n      })\r\n    case 'CHANGE_YOUTUBE_STATE':\r\n      return Object.assign({}, state, {\r\n        youtubeState: action.youtubeState,\r\n      })\r\n    case 'PLAY_SONG_FROM_PLAYLIST':\r\n      return Object.assign({}, state, {\r\n        song: action.song,\r\n      })\r\n    case 'PLAY_SONG_FROM_TABLE':\r\n      return Object.assign({}, state, {\r\n        song: action.song,\r\n      })\r\n    case 'CHANGE_VOLUME':\r\n      return Object.assign({}, state, {\r\n        volume: action.volume,\r\n      })\r\n    case 'CHANGE_TIME':\r\n      return Object.assign({}, state, {\r\n        currentTime: action.time,\r\n      })\r\n    case 'CHANGE_SONG':\r\n      return Object.assign({}, state, {\r\n        song: action.song,\r\n      })\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default playerReducer\r\n","import { combineReducers } from 'redux'\r\n\r\nimport addNewSongReducer from './addNewSongReducer.js'\r\nimport musicTableReducer from './musicTableReducer.js'\r\nimport musicTableToolbarReducer from './musicTableToolbarReducer.js'\r\nimport accountReducer from './accountReducer.js'\r\nimport playlistReducer from './playlistReducer.js'\r\nimport playerReducer from './playerReducer.js'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  accountReducer,\r\n  addNewSongReducer,\r\n  musicTableReducer,\r\n  musicTableToolbarReducer,\r\n  playlistReducer,\r\n  playerReducer,\r\n});\r\n\r\nexport default rootReducer\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// redux\r\nimport { Provider } from 'react-redux'\r\nimport { createStore } from 'redux'\r\nimport rootReducer from './reducers'\r\n\r\n\r\n\r\nlet store = createStore(rootReducer);\r\n\r\nReactDOM.render((\r\n  <Provider store = {store}>\r\n    <App className='app'/>\r\n  </Provider>\r\n), document.getElementById('root'));\r\n\r\n//ReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}